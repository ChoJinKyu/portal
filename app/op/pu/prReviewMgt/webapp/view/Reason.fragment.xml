<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core" 
    xmlns:form="sap.ui.layout.form"
>
    <Dialog id="reason" class="sapUiSmallMargin" title="{fragment>/reason/title}"  afterOpen=".onAfterOpen($event, 'default', {})">
        <VBox>
            <form:SimpleForm>
                <Label text="{I18N>/BUYER}" visible="{= ${fragment>/reason/action} === 'CHANGE'}"/>
                <MultiInput 
                    visible="{= ${fragment>/reason/action} === 'CHANGE'}"
                    showValueHelp="true"
                    valueHelpRequest=".onValueHelpRequest($event, 'fragment', {
                        action: 'input',
                        model: 'jSearch', 
                        path: 'buyer_empno'
                    })"
                />
                <Label text="(미정)사유"/>
                <TextArea value="{fragment>/reason/processedReason}" rows="3"/>
            </form:SimpleForm>
        </VBox>
        <ToolbarSpacer/>
        <VBox>
            <HBox alignItems="End" justifyContent="End">
                <Button text="Cancel" class="sapUiSmallMarginEnd" 
                    press=".onCancel($event, 'default', {
                        settled: 'reject'
                    })"
                />
                <Button text="Apply" class="sapUiSmallMarginEnd" type="Emphasized" 
                    press=".onCommit($event, 'default', ${fragment>/reason}, {
                        settled: 'resolve'
                    })"
                />
            </HBox>
        </VBox>
    </Dialog>
</core:FragmentDefinition>
