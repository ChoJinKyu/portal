<mvc:View controllerName="op.pu.prMgt.controller.MidViewObject" 
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:uxap="sap.uxap"
    xmlns:form="sap.ui.layout.form" 
    xmlns:core="sap.ui.core" 
    xmlns:layout="sap.ui.layout"
    xmlns:tnt="sap.tnt"
    xmlns:co="sap.suite.ui.commons"
    xmlns:si="sap.suite.ui.commons.statusindicator"
    xmlns:u="sap.ui.unified" 
    xmlns:table="sap.ui.table" 
    xmlns:richtexteditor="sap.ui.richtexteditor"
    xmlns="sap.m"
	height="100%">

	<uxap:ObjectPageLayout 
        id="page"
		showTitleInHeaderContent="true"
		showEditHeaderButton="true" 
        upperCaseAnchorBar="false"
		showFooter="true"
		editHeaderButtonPress="handleEditBtnPress" >

		<uxap:headerTitle>
			<uxap:ObjectPageDynamicHeaderTitle>
				<uxap:expandedHeading>
					<Title text="{I18N>/PURCHASE_REQUISITION} {I18N>/'DISPLAY'}" wrapping="true" />
				</uxap:expandedHeading>

                <uxap:navigationActions>
					<OverflowToolbarButton id="pageNavigationBackButton" icon="sap-icon://decline" text="back" tooltip="back to the list" press=".onNavigationBackPress" />
                </uxap:navigationActions>
			</uxap:ObjectPageDynamicHeaderTitle>
		</uxap:headerTitle>

		<uxap:headerContent>
			<FlexBox wrap="Wrap" >
				<layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                    <Label text="{I18N>/PR_NUMBER} :"/>
                    <ObjectStatus
                        text="{detailModel>/mst/pr_number}"/>
                </layout:VerticalLayout>
                <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                    <Label text="{I18N>/PR_REQUEST_DATE} :"/>
                    <ObjectStatus
                        text="{ path: 'detailModel>/mst/request_date',
                                type: 'sap.ui.model.type.Date',
                                formatOptions: {
                                pattern: 'yyyy-MM-dd'
                                }
                            }"/>
				</layout:VerticalLayout>

				<layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                    <Label text="{I18N>/PR_TEMPLATE_NUMBER} :"/>
                    <ObjectStatus
                        text="{detailModel>/mst/pr_template_name}"/>
                </layout:VerticalLayout>      
                <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">  
                    <Label text="{I18N>/REQUESTOR_NAME} :"/>
                    <ObjectStatus
                        text="{detailModel>/mst/requestor_name}"/>
				</layout:VerticalLayout>

                <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
					<Label text="{I18N>/PR_CREATE_STATUS_CODE} :"/>
                    <ObjectStatus
                        class="sapMObjectStatusLarge"
                        text="{detailModel>/mst/pr_create_status_name}"
                        state="Error" />
				</layout:VerticalLayout>
                
                <!-- Process 시작 -->
                <!-- <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                      <HBox>
                        <Title text="Process"/>
                    </HBox>
                    <HBox>
                        <co:MicroProcessFlow>
                            <co:content>
                                <co:MicroProcessFlowItem state="Error" width="2em" stepWidth="5em" icon="sap-icon://circle-task" />
                                <co:MicroProcessFlowItem state="None" width="2em" stepWidth="5em" />
                                <co:MicroProcessFlowItem state="None" width="2em" stepWidth="5em" />
                                <co:MicroProcessFlowItem state="None" width="2em" stepWidth="5em" />
                            </co:content>
                        </co:MicroProcessFlow>
                    </HBox>
                    <HBox>
                        <Text text="{I18N>/PURCHASE_REQUISITION}" width="5em" textAlign="Left" renderWhitespace="true" />
                        <Text text="{I18N>/QUOTATION}" width="7em" textAlign="Center" />
                        <Text text="{I18N>/BIDDING}" width="7em" textAlign="Center" />
                        <Text text="{I18N>/PURCHASE_ORDER}" width="5em" textAlign="Center" />
                    </HBox>
                </layout:VerticalLayout> -->
			</FlexBox>
		</uxap:headerContent>

		<uxap:sections id="pss">

			<uxap:ObjectPageSection  id="pageSectionMain" titleUppercase="true" title="{I18N>/BASIC_INFO}" >
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
                        <layout:VerticalLayout class="sapUiSmallMarginBeginEnd" width="100%"> 
                           <HBox alignItems="Center" width="100%">
                            <VBox>
                                <Label
                                    text="{I18N>/APPROVAL_TITLE} : "                                      
                                    class="sapUiTinyMarginEnd"
                                    textAlign="Left"
                                    labelFor="input"/>
                            </VBox> 
                             <VBox alignItems="Left" width="100%">
                                <Label
                                    text="{detailModel>/mst/pr_header_text}"
                                    visible="true"
                                    width="40em"  >
                                </Label>
                            </VBox>
                           </HBox>                           
                            <HBox alignItems="Center" width="100%" id="Hbox_approval_contents" >
                                <!-- <VBox>
                                <Label
                                    text="{I18N>/APPROVAL_CONTENTS}"                           
                                    class="sapUiTinyMarginEnd"
                                    textAlign="Left"
                                    labelFor="input"/>
                                </VBox>  -->
                                <VBox alignItems="Left" width="100%" id="Vbox_approval_contents">
                                    <layout:VerticalLayout id="idApprovalContentsTextEditor" class="sapUiTinyMarginEnd" width="100%"></layout:VerticalLayout>                                 
                                <!-- <FormattedText htmlText="{detailModel>/mst/approval_contents}"  width="40em"  /> -->
                                </VBox>   
                            </HBox>
                            
                        </layout:VerticalLayout> 						
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

            <!-- 품목 정보 시작 -->
            <uxap:ObjectPageSection titleUppercase="false" title="{I18N>/ITEM_INFO}">
				<uxap:subSections>
                    <uxap:ObjectPageSubSection>
                        <!-- Participating Supplier Table
                                visibleRowCountMode="Auto"
                            -->
                        <table:Table id="pritemTable"
                                selectionMode="None"
                                fixedColumnCount="1"                                
                                visibleRowCount="{= ${detailModel>/dtl}.length || 0}"
                                rows="{detailModel>/dtl}"
                                >
                             <table:extension>
                                <OverflowToolbar>
                                    <Title text="{I18N>/ITEM} ({= ${detailModel>/dtl}.length || 0})" level="H2"/>
                                    <ToolbarSpacer/>
                                    <!-- Add the Personalization button -->
                                    
                                    <!-- <Button icon="sap-icon://group-2" />
                                    <Button icon="sap-icon://action-settings" />     -->
                                </OverflowToolbar>
                            </table:extension>          

                            <table:columns>
                                <table:Column  width="5em" hAlign="Center" >
                                    <Label text="{I18N>/ITEM_NUMBER}"/>
                                    <table:template>
                                        <Text text="{detailModel>pr_item_number}"/>
                                    </table:template>
                                </table:Column>


                                <table:Column   width="10em" hAlign="Center"
                                                visible="{
                                                    path: 'OPUI>/DTL-ORG_CODE',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/ORG_CODE}" />           
                                    <table:template>
                                        <Text text="{detailModel>plant_name} [{detailModel>org_code}]" hAlign="Begin" />
                                    </table:template>
                                </table:Column>

                                <table:Column   width="8em" hAlign="Center" 
                                                visible="{
                                                    path: 'OPUI>/DTL-MATERIAL_CODE',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/MATERIAL_CODE}" />           
                                    <table:template>
                                        <Text  text="{detailModel>material_code}" />
                                    </table:template>
                                </table:Column>   

                                <table:Column   width="20em" hAlign="Center"
                                                visible="{
                                                    path: 'OPUI>/DTL-PR_DESC',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/PURCHASE_REQUISITION} {I18N>/ITEM_NAME}" />           
                                    <table:template>
                                        <Text text="{detailModel>pr_desc}"/>
                                    </table:template>
                                </table:Column>     
                                

                                <table:Column   width="5em" hAlign="Center"
                                                visible="{
                                                    path: 'OPUI>/DTL-PR_QUANTITY',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/REQUEST_QUANTITY}"/>
                                    <table:template>
                                        <Text text="{
                                                    path:'detailModel>pr_quantity',
                                                    type: 'sap.ui.model.type.currency',
                                                    formatter: '.numberFormatter.toNumberString'
                                                    }"/>
                                    </table:template>
                                </table:Column>    
                                
                                
                                <table:Column   width="5em" hAlign="Center"
                                                visible="{
                                                    path: 'OPUI>/DTL-PR_UNIT',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }"> 
                                    <Label text="{I18N>/UNIT}" />           
                                    <table:template>
                                        <Text text="{detailModel>pr_unit}"/>
                                    </table:template>
                                </table:Column>

                                <table:Column   width="8em"  hAlign="Center"
                                                visible="{
                                                    path: 'OPUI>/DTL-DELIVERY_REQUEST_DATE',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/DELIVERY_REQUEST_DATE}" />           
                                    <table:template>
                                        <Text text="{
                                                    path:'detailModel>delivery_request_date',
                                                    type:'sap.ui.model.odata.type.DateTime',
                                                    formatOptions: {
                                                        UTC: true,
                                                        pattern: 'yyyy-MM-dd'
                                                    }
                                                }"/>
                                    </table:template>
                                </table:Column>    

                                <table:Column   width="8em" hAlign="Center"
                                                visible="{
                                                    path: 'OPUI>/DTL-BUYER_EMPNO',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/BUYER}"/>           
                                    <table:template>
                                        <Text text="{detailModel>user_local_name} [{detailModel>buyer_empno}]"/>
                                    </table:template>
                                </table:Column> 

                                <table:Column   width="5em" hAlign="Center"
                                                visible="{
                                                    path: 'OPUI>/DTL-PURCHASING_GROUP_CODE',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/PURCHASING_GROUP_CODE}"/>           
                                    <table:template>
                                        <Text text="{detailModel>purchasing_group_code}"/>
                                    </table:template>
                                </table:Column>


                                <table:Column   width="10em" hAlign="Center"
                                                visible="{
                                                    path: 'OPUI>/DTL-ESTIMATED_PRICE',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/PRICE}" />           
                                    <table:template>
                                        <Text text="{
                                                    path:'detailModel>estimated_price',
                                                    type: 'sap.ui.model.type.currency',
                                                    formatter: '.numberFormatter.toNumberString'
                                                    }"/>
                                    </table:template>
                                </table:Column>                               
                                <table:Column   hAlign="Center"
                                                visible="{
                                                    path: 'OPUI>/DTL-CURRENCY_CODE',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/CURRENCY}" />           
                                    <table:template>
                                        <Text text="{detailModel>currency_code}"/>
                                    </table:template>
                                </table:Column> 

                                <table:Column   hAlign="Center"
                                                visible="{
                                                    path: 'OPUI>/DTL-PRICE_UNIT',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/PRICE_UNIT}" />           
                                    <table:template>
                                        <Text text="{detailModel>price_unit}"/>
                                    </table:template>
                                </table:Column> 
                                
                                <!-- 18 ~ // -->

                                <table:Column   width="10em" hAlign="Center"
                                                visible="{
                                                    path: 'OPUI>/DTL-MATERIAL_GROUP_CODE',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/MATERIAL_GROUP_CODE}" />           
                                    <table:template>
                                        <Text text="{detailModel>material_group_code}"/>
                                    </table:template>
                                </table:Column> 

                                <table:Column   width="10em" hAlign="Center"
                                                visible="{
                                                    path: 'OPUI>/DTL-SLOC_CODE',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/STORAGE_LOCATION}" />           
                                    <table:template>
                                        <Text text="{detailModel>sloc_code}"/>
                                    </table:template>
                                </table:Column> 

                                <table:Column   width="10em" hAlign="Center"
                                                visible="{
                                                    path: 'OPUI>/DTL-MATERIAL_GROUP_CODE',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/MATERIAL_GROUP_CODE}" />           
                                    <table:template>
                                        <Text text="{detailModel>material_group_code}"/>
                                    </table:template>
                                </table:Column> 

                                <table:Column   width="10em" hAlign="Center"
                                                visible="{
                                                    path: 'OPUI>/DTL-SUPPLIER_CODE',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/SUPPLIER}" />           
                                    <table:template>
                                        <Text text="{detailModel>supplier_local_name} [{detailModel>supplier_code}]"/>
                                    </table:template>
                                </table:Column> 

                                <table:Column   width="10em" hAlign="Center"
                                                visible="{
                                                    path: 'OPUI>/DTL-BUYER_EMPNO',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/REQUESTOR}" />           
                                    <table:template>
                                        <Text text="{detailModel>user_local_name} [{detailModel>buyer_empno}]"/>
                                    </table:template>
                                </table:Column> 

                                <table:Column  width="10em" hAlign="Center"
                                                visible="{
                                                    path: 'OPUI>/DTL-REQUEST_DATE',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/REQUEST_DATE}" />           
                                    <table:template>
                                        <Text text="{
                                                    path:'detailModel>request_date',
                                                    type:'sap.ui.model.odata.type.DateTime',
                                                    formatOptions: {
                                                        UTC: true,
                                                        pattern: 'yyyy-MM-dd'
                                                    }
                                                }"/>
                                    </table:template>
                                </table:Column> 

                                 <table:Column      width="10em" hAlign="Center"
                                                    visible="{
                                                    path: 'OPUI>/DTL-ORG_TYPE_CODE',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/REQUESTOR}" />           
                                    <table:template>
                                        <Text text="{detailModel>org_type_code}"/>
                                    </table:template>
                                </table:Column> 

                                <table:Column       width="10em" hAlign="Center"
                                                    visible="{
                                                    path: 'OPUI>/DTL-APPROVAL_DATE',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/APPROVE_DATE}" />           
                                    <table:template>
                                        <Text text="{
                                                    path:'detailModel>approval_date',
                                                    type:'sap.ui.model.odata.type.DateTime',
                                                    formatOptions: {
                                                        UTC: true,
                                                        pattern: 'yyyy-MM-dd'
                                                    }
                                                }"/>
                                    </table:template>
                                </table:Column> 

                                <table:Column       width="10em" hAlign="Center"
                                                    visible="{
                                                    path: 'OPUI>/DTL-PR_PROGRESS_STATUS_NAME',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/PR_PROGRESS_STATUS}" />           
                                    <table:template>
                                        <Text text="{detailModel>pr_progress_status_name}"/>
                                    </table:template>
                                </table:Column> 

                                <table:Column  width="10em" hAlign="Center"
                                               visible="{
                                                    path: 'OPUI>/DTL-REMARK',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/REMARK}" />           
                                    <table:template>
                                        <Text text="{detailModel>remark}"/>
                                    </table:template>
                                </table:Column> 

                                <table:Column   width="10em" hAlign="Center"
                                                visible="{
                                                    path: 'OPUI>/DTL-ITEM_CATEGORY_CODE',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/ITEM_CATEGORY}" />           
                                    <table:template>
                                        <Text text="{detailModel>item_category_code}"/>
                                    </table:template>
                                </table:Column> 

                                <table:Column   width="10em" hAlign="Center"
                                                visible="{
                                                    path: 'OPUI>/DTL-ACCOUNT_ASSIGNMENT_CATEGORY_CODE',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/ACCOUNT_ASSIGNMENT_CATEGORY}" />           
                                    <table:template>
                                        <Text text="{detailModel>account_assignment_category_code}"/>
                                    </table:template>
                                </table:Column> 
                                

                            </table:columns>
                          </table:Table>
                       
                        <!-- // -->
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>
            <!-- 품목 정보 끝 -->


            <!-- Account 정보 시작 -->
            <uxap:ObjectPageSection titleUppercase="false" title="{I18N>/ACCOUNT_INFO}" visible="{= ${detailModel>/account}.length > 0 ? true : false}">
				<uxap:subSections>
                    <uxap:ObjectPageSubSection>
                        <!-- Participating Supplier Table
                                visibleRowCountMode="Auto"
                            -->
                        <table:Table id="AccountTable"
                                selectionMode="None"
                                fixedColumnCount="2"                                
                                visibleRowCount="{= ${detailModel>/account}.length || 0}"
                                rows="{detailModel>/account}"
                                >
                             <table:extension>
                                <OverflowToolbar>
                                    <Title text="{I18N>/ACCOUNT} ({= ${detailModel>/account}.length || 0})" level="H2"/>
                                    <ToolbarSpacer/>
                                    <!-- Add the Personalization button -->
                                    
                                    <!-- <Button icon="sap-icon://group-2" />
                                    <Button icon="sap-icon://action-settings" />     -->
                                </OverflowToolbar>
                            </table:extension>          

                            <table:columns>
                                <table:Column  width="5em" hAlign="Center" 
                                                >
                                    <Label text="{I18N>/ITEM_NUMBER}"/>
                                    <table:template>
                                        <Text text="{detailModel>pr_item_number}"/>
                                    </table:template>
                                </table:Column>                                

                                <table:Column  width="5em" hAlign="Center" >
                                    <Label text="{I18N>/ACCOUNT_SEQUENCE}"/>
                                    <table:template>
                                        <Text text="{detailModel>account_sequence}"/>
                                    </table:template>
                                </table:Column>
                              
                                <table:Column  hAlign="Center" >
                                    <Label text="{I18N>/ACCOUNT_CODE}"/>
                                    <table:template>
                                        <Text text="{detailModel>account_code} [{detailModel>account_name}]"/>
                                    </table:template>
                                </table:Column>

                                 <table:Column  hAlign="Center" 
                                                visible="{
                                                    path: 'OPUI>/ACCOUNT-CCTR_CODE',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/CCTR_CODE}"/>
                                    <table:template>
                                        <Text text="{detailModel>cctr_code} [{detailModel>cctr_name}]"/>
                                    </table:template>
                                </table:Column>

                                 <table:Column  hAlign="Center" 
                                                visible="{
                                                    path: 'OPUI>/ACCOUNT-WBS_CODE',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/WBS_CODE}"/>
                                    <table:template>
                                        <Text text="{detailModel>wbs_code} [{detailModel>wbs_name}]"/>
                                    </table:template>
                                </table:Column>

                                 <table:Column  hAlign="Center" visible="{
                                                    path: 'OPUI>/ACCOUNT-ASSET_NUMBER',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/ASSET}"/>
                                    <table:template>
                                        <Text text="{detailModel>asset_number} [{detailModel>asset_name}]"/>
                                    </table:template>
                                </table:Column>

                                <table:Column  hAlign="Center" 
                                               visible="{
                                                    path: 'OPUI>/ACCOUNT-ORDER_NUMBER',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/ORDER}"/>
                                    <table:template>
                                        <Text text="{detailModel>order_number} [{detailModel>order_name}]"/>
                                    </table:template>
                                </table:Column>


                            </table:columns>
                          </table:Table>
                       
                        <!-- // -->
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>
            <!-- Account 정보 끝 -->


            <!-- Service 정보 시작 -->
            <uxap:ObjectPageSection titleUppercase="false" title="{I18N>/SERVICE_INFO}" visible="{= ${detailModel>/service}.length > 0 ? true : false}">
				<uxap:subSections>
                    <uxap:ObjectPageSubSection>
                        <!-- Participating Supplier Table
                                visibleRowCountMode="Auto"
                            -->
                        <table:Table id="ServiceTable"
                                selectionMode="None"
                                fixedColumnCount="1"                                
                                visibleRowCount="{= ${detailModel>/service}.length || 0}"
                                rows="{detailModel>/service}"
                                >
                             <table:extension>
                                <OverflowToolbar>
                                    <Title text="{I18N>/SERVICE} ({= ${detailModel>/service}.length || 0})" level="H2"/>
                                    <ToolbarSpacer/>
                                    <!-- Add the Personalization button -->
                                    
                                    <!-- <Button icon="sap-icon://group-2" />
                                    <Button icon="sap-icon://action-settings" />     -->
                                </OverflowToolbar>
                            </table:extension>          

                            <table:columns>
                                <table:Column  width="5em" hAlign="Center" >
                                    <Label text="{I18N>/ITEM_NUMBER}"/>
                                    <table:template>
                                        <Text text="{detailModel>pr_item_number}"/>
                                    </table:template>
                                </table:Column>                                

                                <table:Column   width="5em" hAlign="Center" >
                                    <Label text="{I18N>/SERVICE_SEQUENCE}"/>
                                    <table:template>
                                        <Text text="{detailModel>service_sequence}"/>
                                    </table:template>
                                </table:Column>

                                <table:Column  hAlign="Center" 
                                               visible="{
                                                    path: 'OPUI>/SERVICE-SERVICE_DESC',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/SERVICE_DESC}"/>
                                    <table:template>
                                        <Text text="{detailModel>service_desc}"/>
                                    </table:template>
                                </table:Column>

                                 <table:Column  hAlign="Center" 
                                                visible="{
                                                    path: 'OPUI>/SERVICE-PR_QUANTITY',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/REQUEST_QUANTITY}"/>
                                    <table:template>
                                        <Text text="{
                                                    path:'detailModel>pr_quantity',
                                                    type: 'sap.ui.model.type.currency',
                                                    formatter: '.numberFormatter.toNumberString'
                                                    }"/>
                                    </table:template>
                                </table:Column>

                                 <table:Column  hAlign="Center" 
                                                visible="{
                                                    path: 'OPUI>/SERVICE-UNIT',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/UNIT}"/>
                                    <table:template>
                                        <Text text="{detailModel>unit}"/>
                                    </table:template>
                                </table:Column>

                                 <table:Column  hAlign="Center" 
                                                visible="{
                                                    path: 'OPUI>/SERVICE-NET_PRICE',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/NET_PRICE}"/>
                                    <table:template>
                                        <Text text="{
                                                    path:'detailModel>net_price',
                                                    type: 'sap.ui.model.type.currency',
                                                    formatter: '.numberFormatter.toNumberString'
                                                    }"/>
                                    </table:template>
                                </table:Column>

                                <table:Column   hAlign="Center" width="10em"
                                                visible="{
                                                    path: 'OPUI>/SERVICE-GROSS_AMOUNT',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/GROSS_AMOUNT}"/>
                                    <table:template>
                                        <Text text="{
                                                    path:'detailModel>gross_amount',
                                                    type: 'sap.ui.model.type.currency',
                                                    formatter: '.numberFormatter.toNumberString'
                                                    }"  hAlign="End"/>
                                    </table:template>
                                </table:Column>

                                <table:Column   hAlign="Center" width="8em"
                                                visible="{
                                                    path: 'OPUI>/SERVICE-CURRENCY_CODE',
                                                    type: 'sap.ui.model.type.Bool',
                                                    formatter: '.uiControlSet.toColumnVisible'
                                                    }">
                                    <Label text="{I18N>/CURRENCY_CODE}"/>
                                    <table:template >
                                        <Text text="{detailModel>currency_code}" hAlign="End" />
                                    </table:template>
                                </table:Column>


                            </table:columns>
                          </table:Table>
                       
                        <!-- // -->
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>
            <!-- Service 정보 끝 -->


            <!-- 첨부파일 시작 -->
			<uxap:ObjectPageSection titleUppercase="false" title="Attachment">
				<uxap:subSections>
                    <uxap:ObjectPageSubSection title="외부용" level="H2">
                        <layout:VerticalLayout class="sapUiSmallMarginBeginEnd" width="100%">                    
                            <UploadCollection
                                id="UploadCollectionOuter"
                                maximumFilenameLength="55"
                                maximumFileSize="10"
                                multiple="true"
                                sameFilenameAllowed="false"
                                instantUpload="false"
                                noDataDescription="Drop files or use the &quot;Add&quot; button to keep files ready for upload"
                                change="onChange"
                                fileDeleted="onFileDeleted"
                                filenameLengthExceed="onFilenameLengthExceed"
                                fileSizeExceed="onFileSizeExceed"
                                typeMissmatch="onTypeMissmatch"
                                uploadComplete="onUploadComplete"
                                beforeUploadStarts="onBeforeUploadStarts" />                            
                        </layout:VerticalLayout>
					</uxap:ObjectPageSubSection>

                    <uxap:ObjectPageSubSection title="내부용" level="H2">
                        <layout:VerticalLayout class="sapUiSmallMarginBeginEnd" width="100%">                    
                            <UploadCollection
                                id="UploadCollectionInner"
                                maximumFilenameLength="55"
                                maximumFileSize="10"
                                multiple="true"
                                sameFilenameAllowed="false"
                                instantUpload="false"
                                noDataDescription="Drop files or use the &quot;Add&quot; button to keep files ready for upload"
                                change="onChange"
                                fileDeleted="onFileDeleted"
                                filenameLengthExceed="onFilenameLengthExceed"
                                fileSizeExceed="onFileSizeExceed"
                                typeMissmatch="onTypeMissmatch"
                                uploadComplete="onUploadComplete"
                                beforeUploadStarts="onBeforeUploadStarts" />                            
                        </layout:VerticalLayout>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>
            <!-- 첨부파일 끝 -->

			<uxap:ObjectPageSection titleUppercase="false" title="Report Line">
				<uxap:subSections>
					<uxap:ObjectPageSubSection titleUppercase="false">
						<uxap:blocks>
                           
						</uxap:blocks>
					</uxap:ObjectPageSubSection>

					<uxap:ObjectPageSubSection>
						<uxap:blocks>
                           
						</uxap:blocks>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

		</uxap:sections>
		<uxap:footer>
			<OverflowToolbar>
				<ToolbarSpacer />
			    <Button type="Emphasized" id="Btn_Cancel"  text="{I18N>/CLOSE}"   press=".onNavigationBackPress" />
				<Button type="Transparent"  id="Btn_PageEdit"  
                    visible="{= ${detailModel>/PrCreateStatusCode}==='10'?true:false }"  text="{I18N>/EDIT}"     press=".onPageEditButtonPress"/>
                <Button type="Transparent" id="Btn_Copy"  text="{I18N>/COPY}"   press=".onPageCopyButtonPress" />
                <Button type="Transparent"  id="Btn_PageDelete"  
                    visible="{= ${detailModel>/PrCreateStatusCode}==='10'?true:false }"  text="{I18N>/DELETE}"     press=".onPageDeleteButtonPress"/>    
			</OverflowToolbar>
		</uxap:footer>
	</uxap:ObjectPageLayout>
</mvc:View>