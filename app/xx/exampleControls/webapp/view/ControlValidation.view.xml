<mvc:View controllerName="xx.exampleControls.controller.ControlValidation" 
    xmlns:mvc="sap.ui.core.mvc" 
    xmlns="sap.m" 
    xmlns:core="sap.ui.core" 
    xmlns:form="sap.ui.layout.form" 
    xmlns:layout="sap.ui.layout" 
    xmlns:t="sap.ui.table"
    xmlns:lib-m="ext.lib.m" 
    height="100%">

    <Page id="page" title="Control Validation" titleLevel="H2" class="sapUiContentPadding" showNavButton="true" navButtonPress=".onNavigationBackPress">
        <subHeader>
            <Toolbar>
                <ToolbarSpacer />
                <Text text="ControlValidation.view.xml" />
            </Toolbar>
        </subHeader>
        <content>

            <VBox>
                <t:Table id="mainTable" 
                        rows="{form>/list}"
                        selectionMode="Single"
                        visibleRowCount="4"
                        width="auto">
                    <t:extension>
                        <OverflowToolbar>
                            <Title text="Grid Table" level="H2"/>
                            <ToolbarSpacer/>
                        </OverflowToolbar>
                    </t:extension>
                    <t:columns>
                        <t:Column hAlign="Center" >
                            <Label text="ValueState" />
                            <t:template>
                                <Text text="{form>__metadata/_valueStates/value3/valueState}" />
                            </t:template>
                        </t:Column>
                        <t:Column hAlign="Center" >
                            <Label text="Level" />
                            <t:template>
                                <Input type="Number" value="{
                                        path: 'form>/value1',
                                        type: 'sap.ui.model.type.Integer',
                                        constraints: {
                                            minimum: '100',
                                            maximum: '999'
                                        }
                                    }" placeholder="Enter 100 to 999 digit number"/>
                            </t:template>
                        </t:Column>
                        <t:Column hAlign="Center" >
                            <Label text="Level Value" required="true" />
                            <t:template>
                                <HBox>
                                    <Input value="{
                                            path: 'form>value3', 
                                            type: 'sap.ui.model.type.String',
                                            constraints: {
                                                search: '\\S+@\\S+\\.\\S+'
                                            }
                                        }" required="true" valueState="{form>__metadata/_valueStates/value3/valueState}" valueStateText="{form>__metadata/_valueStates/value3/valueStateText}"/>
                                    <Text text="{form>__metadata/_valueStates/value3/valueStateText}" />
                                </HBox>
                            </t:template>
                        </t:Column>
                        <t:Column hAlign="Center" >
                            <Label text="eMail" />
                            <t:template>
                                <HBox>
                                    <Input value="{
                                            path: 'form>value4', 
                                            type: 'sap.ui.model.type.String',
                                            constraints: {
                                                search: '\\S+@\\S+\\.\\S+'
                                            }
                                        }" valueState="{form>__metadata/_valueStates/value4/valueState}" valueStateText="{form>__metadata/_valueStates/value4/valueStateText}"/>
                                    <Text text="{form>__metadata/_valueStates/value4/valueStateText}" />
                                </HBox>
                            </t:template>
                        </t:Column>
                    </t:columns>
                </t:Table>
            </VBox>
            
            <VBox>

                <form:SimpleForm maxContainerCols="2" editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="false" labelSpanL="4" labelSpanM="4" emptySpanL="0" emptySpanM="0" columnsL="2" columnsM="2">
                    <form:content>
                        <VBox>
                            <Label text="Multi Combo: " required="true"></Label>
                            <MultiComboBox id="multiCombo" width="350px" showSecondaryValues="true"
                                items="{
                                    path: 'common>/Code',
                                    filters: [
                                        {path: 'tenant_id', operator: 'EQ', value1: 'L2100'},
                                        {path: 'group_code', operator: 'EQ', value1: 'CM_CHAIN_CD'}
                                    ]
                                }" required="true">
                                <items>
                                    <core:ListItem key="{common>code}" text="{common>code_name}" additionalText="{common>code}" />
                                </items>
                            </MultiComboBox>
                            <layoutData>
                                <layout:GridData span="XL2 L3 M6 S12" />
                            </layoutData>
                        </VBox>
                        <VBox>
                            <Label text="Masked Number: "></Label>
                            <MaskInput id="maskedNumber" mask="999999" placeholderSymbol="_" width="100%"
                                placeholder="Enter a six digit number"/>
                            <layoutData>
                                <layout:GridData span="XL2 L3 M6 S12" />
                            </layoutData>
                        </VBox>
                        <VBox>
                            <Label text="Required Input: " required="true"></Label>
                            <Input id="requiredInput" required="true" placeholder="Required"></Input>
                            <layoutData>
                                <layout:GridData span="XL2 L3 M6 S12" />
                            </layoutData>
                        </VBox>
                        <VBox>
                            <Label text="100 to 999: "></Label>
                            <Input id="number100to999Input" type="Number" value="{
                                    path: 'form>/number1',
                                    type: 'sap.ui.model.type.Integer',
                                    constraints: {
                                        minimum: '100',
                                        maximum: '999'
                                    }
                                }" placeholder="Enter 100 to 999 digit number"/>
                            <layoutData>
                                <layout:GridData span="XL2 L3 M6 S12" />
                            </layoutData>
                        </VBox>
                        <VBox>
                            <Label text="Currency: "></Label>
                            <Input id="currencyInput" type="Number" value="{
                                    path: 'form>/number2',
                                    type: 'sap.ui.model.type.Integer',
                                    constraints: {
                                        minimum: '100',
                                        maximum: '999'
                                    }
                                }" />
                            <layoutData>
                                <layout:GridData span="XL2 L3 M6 S12" />
                            </layoutData>
                        </VBox>
                        <VBox>
                            <Label text="RegEx Search: "></Label>
                            <Input id="emailInput" value="{
                                    path: 'form>/email',
                                    type: 'sap.ui.model.type.String',
                                    constraints: {
                                        search: '\\S+@\\S+\\.\\S+'
                                    }
                                }" placeholder="Enter eMail address."/>
                            <layoutData>
                                <layout:GridData span="XL2 L3 M6 S12" />
                            </layoutData>
                        </VBox>
                    </form:content>
                </form:SimpleForm>

                <Table id="midTable" 
                        sticky="HeaderToolbar,ColumnHeaders" 
                        inset="false" 
                        items="{form>/list}"
                        class="sapFDynamicPageAlignContent" 
                        updateFinished=".onMidTableUpdateFinished"
                        mode="SingleSelectLeft" 
                        width="auto">
                    <headerToolbar>
                        <Toolbar>
                            <Title text="Responsible Table" level="H2"/>
                            <ToolbarSpacer/>
                        </Toolbar>
                    </headerToolbar>
                    <columns>
                        <Column minScreenWidth="Tablet" hAlign="Center">
                            <Label text="Level" />
                        </Column>
                        <Column minScreenWidth="Tablet" hAlign="Center">
                            <Label text="Level Value" required="true" />
                        </Column>
                        <Column minScreenWidth="Tablet" hAlign="Center" >
                            <Label text="eMail" />
                        </Column>
                    </columns>
                    <items>
                        <ColumnListItem type="Inactive" press=".onMidTableItemPress">
                            <cells>
                                <Input value="{
                                        path: 'form>value2', 
                                        constraints: {
                                        }
                                    }"/>
                                <Input value="{
                                        path: 'form>value3', 
                                        type: 'sap.ui.model.type.String',
                                        constraints: {
                                            search: '\\S+@\\S+\\.\\S+'
                                        }
                                    }" required="true"/>
                                <Input value="{
                                        path: 'form>value4', 
                                        type: 'sap.ui.model.type.String',
                                        constraints: {
                                            search: '\\S+@\\S+\\.\\S+'
                                        }
                                    }"/>
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
            </VBox>
        </content>
		<footer>
			<OverflowToolbar>
                <Button
                    icon="sap-icon://alert"
                    text="{= ${message>/}.length }"
                    visible="{= ${message>/}.length > 0 }"
                    type="Emphasized"
                    press="onMessagePopoverPress" />
				<ToolbarSpacer />
				<Button type="Transparent" text="Clear Validate" press=".onPageClearValidateButtonPress"/>
				<Button type="Emphasized" text="Validate" press=".onPageValidateButtonPress"/>
			</OverflowToolbar>
		</footer>
    </Page>
</mvc:View>