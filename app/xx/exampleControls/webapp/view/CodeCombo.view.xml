<mvc:View controllerName="xx.exampleControls.controller.CodeCombo"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:form="sap.ui.layout.form"
    xmlns:layout="sap.ui.layout"
    xmlns:lib-m="ext.lib.control.m"
    height="100%">

    <Page id="page" 
        title="Code Combo" 
        titleLevel="H2" 
        class="sapUiContentPadding" 
        showNavButton="true" 
        navButtonPress=".onNavigationBackPress"
		floatingFooter="true">
        <content>
            <VBox>

                <form:SimpleForm maxContainerCols="2" editable="true" layout="ResponsiveGridLayout" class="searchBox"
                    adjustLabelSpan="false" labelSpanL="4" labelSpanM="4" emptySpanL="0" emptySpanM="0" columnsL="2" columnsM="2">
                    <form:content>
                    
                        <VBox>
                            <Label text="Picker (Code): "></Label>
                            <lib-m:CodePicker id="searchCodePicker"
                                placeholder="Enter a code name"
                                suggestionItems="{
                                    path: '/',
                                    filters: [
                                        {path: 'tenant_id', operator: 'EQ', value1: 'L2100'},
                                        {path: 'group_code', operator: 'EQ', value1: 'CM_CHAIN_CD'}
                                    ],
                                    serviceName: 'cm.util.CommonService',
                                    entityName: 'Code'
                                }">
                                <lib-m:CodePickerValueHelp contentWidth="500px" />
                            </lib-m:CodePicker>
                            <layoutData>
                                <layout:GridData span="XL2 L3 M5 S10" />
                            </layoutData>
                        </VBox>
                        <VBox>
                            <Label text="Picker (Timezone): "></Label>
                            <lib-m:CodePicker id="searchTimezonePicker"
                                placeholder="Enter a timezone name"
                                keyField="timezone_code"
                                textField="timezone_name"
                                suggestionItems="{
                                    path: '/',
                                    filters: [
                                        {path: 'tenant_id', operator: 'EQ', value1: 'L2100'}
                                    ],
                                    serviceName: 'cm.util.CommonService',
                                    entityName: 'Timezone'
                                }">
                                <lib-m:CodePickerValueHelp contentWidth="500px" title="Choose a Timezone"
                                    keyFieldHeaderText="Timezone Code" textFieldHeaderText="Region" />
                            </lib-m:CodePicker>
                            <layoutData>
                                <layout:GridData span="XL2 L3 M5 S10" />
                            </layoutData>
                        </VBox>
                        <VBox>
                            <Label text="Picker (Tenant): "></Label>
                            <lib-m:CodePicker id="searchTenantPicker"
                                placeholder="Enter a tenant name"
                                keyField="tenant_id"
                                textField="tenant_name"
                                suggestionItems="{
                                    path: '/',
                                    serviceName: 'cm.util.OrgService',
                                    entityName: 'Tenant'
                                }">
                                <lib-m:CodePickerValueHelp contentWidth="500px" title="Choose a Timezone"
                                    keyFieldHeaderText="Tenant ID" textFieldHeaderText="Tenant" />
                            </lib-m:CodePicker>
                            <layoutData>
                                <layout:GridData span="XL2 L3 M5 S10" />
                            </layoutData>
                        </VBox>

                         <VBox>
                            <Label text="Picker (Employee): "></Label>
                            <lib-m:CodePicker id="searchEmployeePicker"
                                placeholder="Enter a Employee name"
                                keyField="employee_number"
                                textField="user_local_name"
                                suggestionItems="{
                                    path: '/',
                                    filters: [
                                        {path: 'tenant_id', operator: 'EQ', value1: 'L2100'}
                                    ],
                                    serviceUrl: 'srv-api/odata/v2/cm.util.HrService/',
                                    entityName: 'Employee'
                                }">
                                <lib-m:CodePickerValueHelp contentWidth="500px" title="Choose a Employee"
                                    keyFieldHeaderText="Employee ID" textFieldHeaderText="Employee" />
                            </lib-m:CodePicker>
                            <layoutData>
                                <layout:GridData span="XL2 L3 M5 S10" />
                            </layoutData>
                        </VBox>

                         <VBox>
                            <Label text="Picker (Department): "></Label>
                            <lib-m:CodePicker id="searchDepartmentPicker"
                                placeholder="Enter a department name"
                                keyField="department_id"
                                textField="department_local_name"
                                suggestionItems="{
                                    path: '/',
                                    filters: [
                                        {path: 'tenant_id', operator: 'EQ', value1: 'L2100'}
                                    ],
                                    serviceUrl: 'srv-api/odata/v2/cm.util.HrService/',
                                    entityName: 'Department'
                                }">
                                <lib-m:CodePickerValueHelp contentWidth="500px" title="Choose a Department"
                                    keyFieldHeaderText="Department ID" textFieldHeaderText="Department" />
                            </lib-m:CodePicker>
                            <layoutData>
                                <layout:GridData span="XL2 L3 M5 S10" />
                            </layoutData>
                        </VBox>

                        <VBox>
                            <Label text="ComboBox (Code): "></Label>
                            <lib-m:CodeComboBox id="searchCodeCombo" width="100%" showSecondaryValues="true" 
                                useEmpty="true" 
                                items="{
                                    path: '/',
                                    filters: [
                                        {path: 'tenant_id', operator: 'EQ', value1: 'L2100'},
                                        {path: 'group_code', operator: 'EQ', value1: 'CM_CHAIN_CD'}
                                    ],
                                    serviceName: 'cm.util.CommonService',
                                    entityName: 'Code'
                                }">
                            </lib-m:CodeComboBox>
                            <layoutData>
                                <layout:GridData span="XL2 L3 M5 S10" />
                            </layoutData>
                        </VBox>
                        <VBox>
                            <Label text="ComboBox (Tenant): "></Label>
                            <lib-m:CodeComboBox id="searchTenantCombo" width="100%" showSecondaryValues="true" 
                                keyField="tenant_id" textField="tenant_name" 
                                useEmpty="true" emptyText="전체"
                                items="{
                                    path: '/',
                                    serviceUrl: 'srv-api/odata/v2/cm.util.OrgService/',
                                    entityName: 'Tenant'
                                }">
                            </lib-m:CodeComboBox>
                            <layoutData>
                                <layout:GridData span="XL2 L3 M5 S10" />
                            </layoutData>
                        </VBox>
                        <VBox>
                            <Label text="ComboBox (Currency): "></Label>
                            <lib-m:CodeComboBox id="searchCurrencyCombo" width="100%" showSecondaryValues="true" 
                                keyField="currency_code" textField="currency_code_name" 
                                useEmpty="true" emptyText="전체"
                                items="{
                                    path: '/',
                                    filters: [
                                        {path: 'tenant_id', operator: 'EQ', value1: 'L2100'}
                                    ],
                                    sorter: {
                                        path: 'currency_code',
                                        descending: true
                                    },
                                    serviceName: 'cm.util.CommonService',
                                    entityName: 'Currency'
                                }">
                            </lib-m:CodeComboBox>
                            <layoutData>
                                <layout:GridData span="XL2 L3 M5 S10" />
                            </layoutData>
                        </VBox>
                        <VBox>
                            <Label text="ComboBox (Employee): "></Label>
                            <lib-m:CodeComboBox id="searchEmployeeCombo" width="100%" showSecondaryValues="true" 
                                keyField="employee_number" textField="user_local_name" 
                                useEmpty="true" emptyText="전체"
                                items="{
                                    path: '/',
                                    filters: [
                                        {path: 'tenant_id', operator: 'EQ', value1: 'L2100'}
                                    ],
                                    serviceUrl: 'srv-api/odata/v2/cm.util.HrService/',
                                    entityName: 'Employee'
                                }">
                            </lib-m:CodeComboBox>
                            <layoutData>
                                <layout:GridData span="XL2 L3 M5 S10" />
                            </layoutData>
                        </VBox>
                        <VBox>
                            <Label text="ComboBox (Department): "></Label>
                            <lib-m:CodeComboBox id="searchDepartmentCombo" width="100%" showSecondaryValues="true" 
                                keyField="department_id" textField="department_local_name" 
                                useEmpty="true" emptyText="전체"
                                items="{
                                    path: '/',
                                    filters: [
                                        {path: 'tenant_id', operator: 'EQ', value1: 'L2100'}
                                    ],
                                    serviceUrl: 'srv-api/odata/v2/cm.util.HrService/',
                                    entityName: 'Department'
                                }">
                            </lib-m:CodeComboBox>
                            <layoutData>
                                <layout:GridData span="XL2 L3 M5 S10" />
                            </layoutData>
                        </VBox>

                        <VBox>
                            <Label text="Select (Country): "></Label>
                            <Select id="searchSelectCode" width="100%" showSecondaryValues="true" 
                                items="{
                                    path: 'common>/Country',
                                    filters: [
                                        {path: 'tenant_id', operator: 'EQ', value1: 'L2100'}
                                    ]
                                }">
                                <items>
                                    <core:ListItem key="{common>country_code}" text="{common>country_code_name}" additionalText="{common>country_code}"/>
                                </items>
                            </Select>
                            <layoutData>
                                <layout:GridData span="XL2 L3 M5 S10" />
                            </layoutData>
                        </VBox>

                        <VBox>
                            <Label text="MultiCoboBox (Code): "></Label>
                            <MultiComboBox id="searchMultiComboCode" width="100%" showSecondaryValues="true" 
                                items="{
                                    path: 'common>/Code',
                                    filters: [
                                        {path: 'tenant_id', operator: 'EQ', value1: 'L2100'},
                                        {path: 'group_code', operator: 'EQ', value1: 'CM_CHAIN_CD'}
                                    ]
                                }">
                                <items>
                                    <core:ListItem key="{common>code}" text="{common>code_name}" additionalText="{common>code}"/>
                                </items>
                            </MultiComboBox>
                            <layoutData>
                                <layout:GridData span="XL2 L3 M5 S10" />
                            </layoutData>
                        </VBox>

                        <VBox>
                            <Label text="MultiCoboBox (Tenant): "></Label>
                            <MultiComboBox id="searchMultiComboTenant" width="100%"
                                items="{
                                    path: 'org>/Tenant'
                                }">
                                <items>
                                    <core:ListItem key="{org>tenant_id}" text="({org>tenant_id}) {org>tenant_name}" additionalText="{org>tenant_id}"/>
                                </items>
                            </MultiComboBox>
                            <layoutData>
                                <layout:GridData span="XL2 L3 M5 S10" />
                            </layoutData>
                        </VBox>

                        <VBox>
                            
                            <layoutData>
                                <layout:GridData span="XL2 L3 M5 S10" />
                            </layoutData>
                        </VBox>
                        <!-- <VBox>
                            <Label text="MultiCoboBox (Employee): "></Label>
                            <MultiComboBox id="searchMultiComboEmployee" width="100%"
                                items="{
                                    path: 'common>/Employee'
                                }">
                                <items>
                                    <core:ListItem key="{common>employee_number}" text="{common>user_local_name}" additionalText="{common>employee_number}"/>
                                </items>
                            </MultiComboBox>
                            <layoutData>
                                <layout:GridData span="XL2 L3 M5 S10" />
                            </layoutData>
                        </VBox>
                        <VBox>
                            <Label text="MultiCoboBox (Department): "></Label>
                            <MultiComboBox id="searchMultiComboDepartmentt" width="100%"
                                items="{
                                    path: 'common/Department'
                                }">
                                <items>
                                    <core:ListItem key="{department_id}" text="{department_local_name}" additionalText="{department_id}"/>
                                </items>
                            </MultiComboBox>
                            <layoutData>
                                <layout:GridData span="XL2 L3 M5 S10" />
                            </layoutData>
                        </VBox> -->

                        <FlexBox alignItems="End" justifyContent="End" class="searchBoxButtonArea">
                            <Button text="Check" type="Transparent" press=".onCheckButtonPress"/>
                            <layoutData>
                                <layout:GridData span="XL12 L12 M12 S12" />
                            </layoutData>
                        </FlexBox>
                    </form:content>
                </form:SimpleForm>

                <Table
                        sticky="HeaderToolbar,ColumnHeaders" 
                        inset="false" 
                        items="{list>/}"
                        class="sapFDynamicPageAlignContent" 
                        mode="SingleSelectLeft" 
                        width="auto">
                    <headerToolbar>
                        <OverflowToolbar>
                            <Title text="Test on table" level="H2"/>
                            <ToolbarSpacer/>
                            <Button text="Test" type="Transparent" press=".onTableTestButtonPress" />
                        </OverflowToolbar>
                    </headerToolbar>
                    <columns>
                        <Column minScreenWidth="Tablet" hAlign="Center">
                            <Text text="Picker" />
                        </Column>
                        <Column minScreenWidth="Tablet" hAlign="Center">
                            <Text text="Combo" />
                        </Column>
                        <Column minScreenWidth="Tablet" hAlign="Center" >
                            <Text text="Multi Combo" />
                        </Column>
                    </columns>
                    <items>
                        <ColumnListItem type="Inactive" press=".onMidTableItemPress">
                            <cells>
                                <lib-m:CodePicker placeholder="Enter a timezone name"
                                    keyField="timezone_code"
                                    textField="timezone_name"
                                    suggestionItems="{
                                        path: '/',
                                        filters: [
                                            {path: 'tenant_id', operator: 'EQ', value1: 'L2100'}
                                        ],
                                        serviceName: 'cm.util.CommonService',
                                        entityName: 'Timezone'
                                    }"
                                    selectedKey="{list>timezone}">
                                    <lib-m:CodePickerValueHelp contentWidth="500px" title="Choose a Timezone"
                                        keyFieldHeaderText="Timezone Code" textFieldHeaderText="Region" />
                                </lib-m:CodePicker>
                                <lib-m:CodeComboBox width="100%" showSecondaryValues="true"
                                    items="{
                                        path: '/',
                                        filters: [
                                            {path: 'tenant_id', operator: 'EQ', value1: 'L2100'},
                                            {path: 'group_code', operator: 'EQ', value1: 'CM_CHAIN_CD'}
                                        ],
                                        serviceName: 'cm.util.CommonService',
                                        entityName: 'Code'
                                    }"
                                    selectedKey="{list>code}" required="true">
                                </lib-m:CodeComboBox>
                                <MultiComboBox width="100%"
                                    items="{
                                        path: 'org>/Tenant'
                                    }"
                                    selectedKeys="{list>tenants}">
                                    <items>
                                        <core:ListItem key="{org>tenant_id}" text="({org>tenant_id}) {org>tenant_name}" additionalText="{org>tenant_id}"/>
                                    </items>
                                </MultiComboBox>
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
                
                                
                <OverflowToolbar class="sapUiMediumMarginTop">
                    <Label text="Cm Code PopUp"></Label>
                    <Button text="CodePopUp" press=".onPressCodePopUp"/>
                    <ToolbarSpacer width="40px"/>
                    <Text id="cmCodePopUp" text="123321"/>
                    <Label text="cmCodePopUpTenet_id : "></Label>
                    <Label id="cmCodePopUpTenet_id"></Label>
                    <Label text="cmCodePopUpCode : "></Label>
                    <Label id="cmCodePopUpCode" ></Label>
                    <Label text="cmCodePopUpCode_Description : "></Label>
                    <Label id="cmCodePopUpCode_Description"></Label>
                    <Label text="cmCodePopUpCode_Name : "></Label>
                    <Label id="cmCodePopUpCode_Name"></Label>
                    <Label text="cmCodePopUpGroup_Code : "></Label>
                    <Label id="cmCodePopUpGroup_Code"></Label>
		        </OverflowToolbar>
            </VBox>
            
            <form:SimpleForm maxContainerCols="2" editable="true" layout="ResponsiveGridLayout" class="searchBox"
            adjustLabelSpan="false" labelSpanL="4" labelSpanM="4" emptySpanL="0" emptySpanM="0" columnsL="2" columnsM="2">
            <form:content>
                <VBox>
                    <Label text="Country (m.CodeValueHelp): " labelFor="searchCodeFromValueHelp"></Label>
                    <Input id="searchCodeFromValueHelp"
                        placeholder="Choose a code from the ValueHelp"
                        showValueHelp="true" valueHelpRequest=".onCodeDialogPress">
                    </Input>
                    <layoutData>
                        <layout:GridData span="XL2 L3 M5 S10" />
                    </layoutData>
                </VBox>
                <VBox>
                    <Label text="Chain (m.CodeValueHelp): " labelFor="searchMultiCodeFromValueHelp"></Label>
                    <MultiInput id="searchMultiCodeFromValueHelp"
                        placeholder="Choose codes from the ValueHelp"
                        showValueHelp="true" valueHelpRequest=".onCodeMultiDialogPress">
                    </MultiInput>
                    <layoutData>
                        <layout:GridData span="XL2 L3 M5 S10" />
                    </layoutData>
                </VBox>
                <VBox>
                    <Label text="Employee (cm.util.control.ui.EmployeeDialog): " labelFor="searchMultiEmployeeFromDialog"></Label>
                    <MultiInput id="searchMultiEmployeeFromDialog"
                        placeholder="Choose codes from the ValueHelp"
                        showValueHelp="true" valueHelpRequest=".onEmployeeMultiDialogPress">
                    </MultiInput>
                    <layoutData>
                        <layout:GridData span="XL2 L3 M5 S10" />
                    </layoutData>
                </VBox>
            </form:content>
            </form:SimpleForm>
        </content>
		<footer>
			<OverflowToolbar>
				<ToolbarSpacer/>
				<Button type="Transparent" text="Open Code Dialog" press=".onCodeDialogPress"/>
			</OverflowToolbar>
		</footer>
    </Page>
</mvc:View>