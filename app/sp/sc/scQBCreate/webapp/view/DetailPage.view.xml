<mvc:View controllerName="sp.sc.scQBCreate.controller.DetailPage"
	xmlns:mvc="sap.ui.core.mvc" 
	xmlns="sap.m" 
	xmlns:uxap="sap.uxap" 
	xmlns:layout="sap.ui.layout" 
    xmlns:form="sap.ui.layout.form"
	xmlns:core="sap.ui.core"
    xmlns:rte="sap.ui.richtexteditor"
    xmlns:co="sap.suite.ui.commons"
    xmlns:si="sap.suite.ui.commons.statusindicator"
    xmlns:u="sap.ui.unified"
    xmlns:t="sap.ui.table"
	height="100%">

    <!-- <layout:VerticalLayout id="vLayout"
		binding="{viewModel>/NegoHeaders}"
		width="100%">
			<Text text="{viewModel>nego_document_number}" />
			<Text text="{viewModel>buyer_empno}" />
			<Text text="{viewModel>local_create_dtm}" />
	</layout:VerticalLayout> 
     -->
    <!-- <Page showNavButton="true" navButtonPress=".onNavBack"  title="견적계획"> -->
	<uxap:ObjectPageLayout id="page"
		toggleHeaderOnTitleClick="true"
		alwaysShowContentHeader = "true"
		preserveHeaderStateOnScroll="false"
		headerContentPinnable="true"
		isChildPage="true"
		upperCaseAnchorBar="false"
		showTitleInHeaderContent="true"
		showEditHeaderButton="true" 
		showFooter="true">
		<uxap:headerTitle>
			<uxap:ObjectPageDynamicHeaderTitle>
                <!-- <uxap:navigationActions> </uxap:navigationActions> -->
				<uxap:expandedHeading>                  
					<Title text="견적 계획" wrapping="true" />
				</uxap:expandedHeading>
				<uxap:snappedHeading>
					<Title text="견적 계획" wrapping="true" />
				</uxap:snappedHeading>
				<uxap:snappedContent>
				</uxap:snappedContent>			
                <uxap:navigationActions>
					<OverflowToolbarButton id="pageNavBackButton" type="Transparent" icon="sap-icon://decline" text="back" tooltip="back to the list" press=".onNavBack" visible="{= ${/actionButtonsInfo/midColumn/closeColumn} !== null }"/>
                </uxap:navigationActions> 
			</uxap:ObjectPageDynamicHeaderTitle>
		</uxap:headerTitle>

		<uxap:headerContent>
            <FlexBox wrap="Wrap" >
                
                <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                    <ObjectStatus id="objectStatus_nego_document_number" title="Negotiation No" text="{path: 'NegoHeaders>/nego_document_number'}" class="sapUiLargeMarginBegin" />
                    <ObjectStatus title="Creater" text="{NegoHeaders>/buyer_empno}" class="sapUiLargeMarginBegin" />
                    <ObjectStatus title="Create Date" text="{path: 'NegoHeaders>/local_create_dtm', type: 'sap.ui.model.odata.type.DateTime', 
                                                            formatOptions: { pattern: 'yyyy/MM/dd HH:mm:ss' , UTC: true} }"  class="sapUiLargeMarginBegin" />
                </layout:VerticalLayout>

				<layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
					<Label text="Status :"/>
                    <ObjectStatus class="sapMObjectStatusLarge" text="{NegoHeaders>/nego_progress_status_code}" state="Error" />
				</layout:VerticalLayout>
                <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                    <!-- <co:ProcessFlow id="pageHeaderProcessFlow" scrollable="false" nodePress="onNodePress">
                        <co:lanes>
                            <co:ProcessFlowLaneHeader
                                laneId="pageHeaderProcessFlowOrderLane"
                                iconSrc="sap-icon://order-status"
                                text="In Order"
                                position="0" />
                            <co:ProcessFlowLaneHeader
                                laneId="pageHeaderProcessFlowDeliveryLane"
                                iconSrc="sap-icon://monitor-payments"
                                text="In Delivery"
                                position="1" />
                            <co:ProcessFlowLaneHeader
                                laneId="pageHeaderProcessFlowInvoiceLane"
                                iconSrc="sap-icon://payment-approval"
                                text="In Invoice"
                                position="2" />
                            <co:ProcessFlowLaneHeader
                                laneId="pageHeaderProcessFlowAccountingLane"
                                iconSrc="sap-icon://money-bills"
                                text="In Accounting"
                                position="3" />
                        </co:lanes>
                    </co:ProcessFlow> -->

					<!-- <Label text="Process 2 : "/> -->
                    <!-- <co:ProcessFlow id="pageHeaderProcessFlow" scrollable="false" nodePress="onNodePress">
                        <co:nodes>
                            <co:ProcessFlowNode
                                nodeId="1"
                                laneId="id0"
                                title="Sales Order 1"
                                titleAbbreviation="SO 1"
                                isTitleClickable="false"
                                children="2,11,12"
                                state="Positive"
                                stateText="Positive Status"
                                texts="" />
                            <co:ProcessFlowNode
                                nodeId="2"
                                laneId="id1"
                                title="Delivery 13"
                                titleAbbreviation="DD 1"
                                isTitleClickable="false"
                                children="10"
                                state="Positive"
                                stateText="OK Delivery"
                                texts="this is delivery document" />
                            <co:ProcessFlowNode
                                nodeId="10"
                                laneId="id2"
                                title="Accounting Document 7"
                                titleAbbreviation="AD 7"
                                isTitleClickable="false"
                                state="PlannedNegative"
                                stateText="Planned Negative"
                                texts="text 1 runs over two rows but no  more than two" />
                            <co:ProcessFlowNode
                                nodeId="11"
                                laneId="id3"
                                title="Invoice 4"
                                titleAbbreviation="INV 4"
                                isTitleClickable="false"
                                state="Negative"
                                stateText="Negative Status should not run over more than two rows of text" />
                           
                        </co:nodes>
                        <co:lanes>
                            <co:ProcessFlowLaneHeader
                                laneId="id0"
                                iconSrc="sap-icon://order-status"
                                text="In Order"
                                position="0" />
                            <co:ProcessFlowLaneHeader
                                laneId="id1"
                                iconSrc="sap-icon://monitor-payments"
                                text="In Delivery"
                                position="1" />
                            <co:ProcessFlowLaneHeader
                                laneId="id2"
                                iconSrc="sap-icon://payment-approval"
                                text="In Invoice"
                                position="2" />
                            <co:ProcessFlowLaneHeader
                                laneId="id3"
                                iconSrc="sap-icon://money-bills"
                                text="In Accounting"
                                position="3" />
                        </co:lanes>
                    </co:ProcessFlow> -->
				</layout:VerticalLayout>
			</FlexBox>
		</uxap:headerContent>

		<uxap:sections>
            <!-- Header Start -->
			<uxap:ObjectPageSection id="objectPageSection" titleUppercase="false" title="Header" visible="true" subSectionLayout="titleOnTop" >
				<uxap:subSections >
					<uxap:ObjectPageSubSection>
                        <Panel id="panel_Header" expandable="true" expanded="true" headerText="Header Content"                          
                            class="sapUiDemoFlexBoxSizeAdjustments">
                            <content>
                            <form:SimpleForm id="formHeader1" editable="true"  layout="ColumnLayout"
                                            columnsM="2"
                                            columnsL="2"
                                            columnsXL="3">

                                <Label  text="Negotiation No"  class="sapMLabelNoText"/>
                                <Input  id="inputNegotiationNo" value="{NegoHeaders>/nego_document_number}" editable="false" visible="{=${propInfo>/isEditMode}}"/>
                                <Text  id="textNegotiationNo" text="{NegoHeaders>/nego_document_number}" visible="{=!${propInfo>/isEditMode} }"/>
                                <Label  text="Type"  class="sapMLabelNoText"/>
                                <Input  id="inputType" enabled="false" value="{NegoHeaders>/nego_type_code}" editable="false" visible="{=${propInfo>/isEditMode}}" class="sapUiSmallMarginEnd" />
                                <Text  id="textType" text="{NegoHeaders>/nego_type_code}" visible="{=!${propInfo>/isEditMode} }"/>
                                <Label  text="Outcome"  class="sapMLabelNoText"/>
                                <Input  id="inputOutcome" enabled="false" value="{NegoHeaders>/negotiation_output_class_code}" editable="false" visible="{=${propInfo>/isEditMode}}"/>  
                                <Text  id="textOutcome" text="{NegoHeaders>/negotiation_output_class_code}" visible="{=!${propInfo>/isEditMode} }"/>
                            </form:SimpleForm>
                  
                            <VBox alignContent="Center" alignItems="Stretch" class="sapUiSmallMarginBegin sapUiSmallMarginBottom">
                                <Label  text="Title" required="true"  class="sapMLabelNoText"/>
                                <Input  id="inputTitle" width="100%" value="{NegoHeaders>/nego_document_title}" visible="{=${propInfo>/isEditMode}}"/>
                                <Text  id="textTitle" text="{NegoHeaders>/nego_document_title}" visible="{=!${propInfo>/isEditMode} }"/>
                            </VBox>

                            <VBox alignContent="Center" alignItems="Stretch" class="sapUiSmallMarginBegin" >
                                <Label  text="Description"  class="sapMLabelNoText sapUiTinyMarginBottom"/>
                                <rte:RichTextEditor id="reDescription" editable="true" editorType="TinyMCE4" width="100%" customToolbar="true" 
                                    showGroupFont="true" showGroupLink="true" showGroupInsert="false" value="{NegoHeaders>/nego_document_desc}"
                                    visible="{=${propInfo>/isEditMode}}" 
                                    />
                                <FormattedText id="formTextDescription" htmlText="{NegoHeaders>/nego_document_desc}" visible="{=!${propInfo>/isEditMode}}"/>
                                <!-- nego_document_desc -->
                            </VBox>

    
                            <FlexBox alignItems="Center" width="100%" class="sapUiSmallMarginBeginEnd sapUiSmallMarginTopBottom" fitContainer="true">

                                <VBox width="100%">
                                    <HBox  width="100%" alignItems="Center">
                                        <HBox  width="50%" height="100%" alignItems="Center" >
                                            <Label  text="Bid Style" width="100px" class="sapMLabelNoText"/>
                                            <RadioButtonGroup id="rbg1" columns="2" width="100%" selectedKey="{NegoHeaders>/negotiation_style_code}" visible="{=${propInfo>/isEditMode}}" >
                                                <RadioButton id="RB1-1" key="S" text="Sealed (purchaser : X,Supplier :X)" />
                                                <RadioButton id="RB1-2" key="B" text="Blind (purchaser : O,Supplier :X)" />
                                            </RadioButtonGroup>
                                        </HBox>

                                        <HBox  width="50%" height="100%" alignItems="Center" visible="false">
                                            <Label  text="Incoterms" width="130px" class="sapMLabelNoText"/>
                                            <VBox alignContent="Center" alignItems="Stretch" width="100%" class="sapUiSmallMarginEnd">
                                                <ComboBox id="combobox_Incoterms" width="100%" visible="{=${propInfo>/isEditMode}}"/>
                                                <Text text="{}" visible="{=!${propInfo>/isEditMode}}"  class="sapUiTinyMarginEnd"/>
                                            </VBox>
                                        </HBox>                                        
                                    </HBox>
        
                                    <HBox  width="100%" >

                                        <HBox  width="50%" height="100%" alignItems="Center" >
                                            <Label  text="Period" width="100px" required="true" class="sapMLabelNoText"/> 
                                            <CheckBox text="Immediately" selected="{=${NegoHeaders>/immediate_apply_flag}==='Y'}" editable="{=${propInfo>/isEditMode}}"/> 
                                            <ToolbarSpacer width="1rem"/> 
                                            <FlexBox>
                                                <DateTimePicker id="searchOpenDatePicker" placeholder="Open Date ..." 
                                                    valueFormat="yyyy/MM/ddTHH:mm:ss" displayFormat="yyyy/MM/dd HH:mm:ss" visible="{=${propInfo>/isEditMode}}"
                                                    value="{path: 'NegoHeaders>/open_date', type: 'sap.ui.model.odata.type.DateTime', 
                                                            formatOptions: { pattern: 'yyyy/MM/dd HH:mm:ss' , UTC: true} }" />
                                                <Text text="{path: 'NegoHeaders>/open_date', type: 'sap.ui.model.odata.type.DateTime', 
                                                            formatOptions: { pattern: 'yyyy/MM/dd HH:mm:ss' , UTC: true} }" visible="{=!${propInfo>/isEditMode}}"  class="sapUiTinyMarginEnd"/>
                                            </FlexBox>
                                            <Text text="~" class="sapUiTinyMarginBegin sapUiTinyMarginEnd" />
                                            <FlexBox>
                                                <DateTimePicker id="searchEndDatePicker" placeholder="End Date ..." 
                                                    valueFormat="yyyy/MM/ddTHH:mm:ss" displayFormat="yyyy/MM/dd HH:mm:ss" visible="{=${propInfo>/isEditMode}}"
                                                    value="{path: 'NegoHeaders>/closing_date', type: 'sap.ui.model.odata.type.DateTime', 
                                                            formatOptions: { pattern: 'yyyy/MM/dd HH:mm:ss' , UTC: true} }" />
                                                <Text text="{path: 'NegoHeaders>/closing_date', type: 'sap.ui.model.odata.type.DateTime', 
                                                            formatOptions: { pattern: 'yyyy/MM/dd HH:mm:ss' , UTC: true} }" visible="{=!${propInfo>/isEditMode}}"  class="sapUiTinyMarginEnd"/>
                                            </FlexBox>
                                        </HBox>

                                        <HBox  width="50%" height="100%" alignItems="Center" >
                                            <Label  text="Extension Period" width="130px" class="sapMLabelNoText "/> 
                                            <Input id="inputEP" value="{NegoHeaders>/close_date_ext_enabled_hours}" type="Number" visible="{=${propInfo>/isEditMode}}" class="sapUiTinyMarginEnd"/>
                                            <Text text="{NegoHeaders>/close_date_ext_enabled_hours}" visible="{=!${propInfo>/isEditMode}}"  class="sapUiTinyMarginEnd"/>
                                            <Label  text="Hr"  class="sapUiSmallMarginBegin" />

                                            <ToolbarSpacer width="3rem"/> 
                                            <Label  text="Extension Count" width="130px"  class="sapMLabelNoText "/> 
                                            <Input id="inputEC"  value="{NegoHeaders>/close_date_ext_enabled_count}" type="Number" visible="{=${propInfo>/isEditMode}}" class="sapUiTinyMarginEnd"/>
                                            <Text text="{NegoHeaders>/close_date_ext_enabled_count}" visible="{=!${propInfo>/isEditMode}}"  class="sapUiTinyMarginEnd"/>
                                            <Label  text="Times"  class="sapUiSmallMarginBegin"/>   
                                            
                                        </HBox>
                                    </HBox>
                                </VBox>
                            </FlexBox>

                            <VBox class="sapUiSmallMarginBegin">
                                <Label  text="Note To Supplier" class="sapMLabelNoText sapUiTinyMarginBottom"/>
                                <rte:RichTextEditor id="reNoteToSupplier" editable="true" editorType="TinyMCE4" width="100%" customToolbar="true" 
                                     visible="{=${propInfo>/isEditMode}}" showGroupFont="true" showGroupLink="true" showGroupInsert="false"/>
                                <FormattedText id="formTextNoteToSupplier"  visible="{=!${propInfo>/isEditMode}}"/>
                            </VBox>

                            <Table id="tableAttachments" 
                                sticky="HeaderToolbar,ColumnHeaders" 
								inset="false" 
								class="sapUiSmallMarginBegin sapFDynamicPageAlignContent" 
								mode="None" noDataText="파일 없음"

								width="auto">
                                <headerToolbar>
                                    <OverflowToolbar>
                                        <Title text="Attachments ()" level="H2"/>
                                        <ToolbarSpacer/>
                                        
                                        <Button text="Load Attached file From Requisition" type="Transparent" press=".onMidTableAddButtonPress" visible="{=${propInfo>/isEditMode}}" />
                                        <Button text="Add" type="Transparent" press=".onMidTableDeleteButtonPress" visible="{=${propInfo>/isEditMode}}" />
                                       
                                    </OverflowToolbar>
                                </headerToolbar>
                                <columns>
                                    
                                    <!-- language_code -->
                                    <Column  minScreenWidth="Tablet" hAlign="Center" demandPopin="true" >
                                        <Text text="Type" />
                                    </Column>
                                    <Column minScreenWidth="Tablet" hAlign="Center" >
                                        <Text text="File Name" />
                                    </Column>
                                    <!-- <Column minScreenWidth="Tablet" hAlign="Center"  visible="{= ${util>/flag} === 'S' ?  true : false}" demandPopin="true">
                                        <Text text="File Name" />
                                    </Column> -->
                                    <Column minScreenWidth="Tablet" hAlign="Center"  >
                                        <Text text="Description" />
                                    </Column>
                                    <Column minScreenWidth="Tablet" hAlign="Center"  >
                                        <Text text="Submission No" />
                                    </Column>
                                    <Column minScreenWidth="Tablet" hAlign="Center"  >
                                        <Text text="Title" />
                                    </Column>
                                    <Column minScreenWidth="Tablet" hAlign="Center"  >
                                        <Text text="Delete" />
                                    </Column>
                                </columns>
                                <items>
                                    <!-- <ColumnListItem type="Inactive" >
                                        <cells>
                                            <Text text="txt"/>
                                            <Text text="fileName1"/>
                                            <Text text="Timing Controller ** SW0887A, SI"/>
                                            <Text text="2198849-1"/>
                                            <Text text="20109040_미정단가_홍길동"/>
                                            <CheckBox />  
                                        </cells>
                                    </ColumnListItem>-->
                                    <!-- <ColumnListItem type="Inactive" >
                                        <cells>
                                            <Text text="{viewModel>tenant_id}"/>
                                            <Text text="{viewModel>nego_header_id}"/>
                                            <Text text="{viewModel>nego_document_number}"/>
                                            <Text text="2198865-1"/>
                                            <Text text="20109046_미정단가_홍길동"/>
                                            <CheckBox />  
                                        </cells>
                                    </ColumnListItem>  -->
                                </items>
						    </Table>
                            </content>
                        </Panel>
                       
					</uxap:ObjectPageSubSection>
                    <!-- <uxap:ObjectPageSubSection></uxap:ObjectPageSubSection> -->
				</uxap:subSections>
			</uxap:ObjectPageSection>
            <!-- Header End -->
            <!-- Control Start -->
            <uxap:ObjectPageSection titleUppercase="false" title="Control" visible="true">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
                        <Panel id="panel_Control" expandable="true" expanded="true" headerText="Control Content">
                            <form:SimpleForm  editable="true"  layout="ColumnLayout" visible="{=${propInfo>/isEditMode}}"
                                            columnsM="1"
                                            columnsL="2"
                                            columnsXL="4">
                                <Label  text="Award Type"  class="sapMLabelNoText"/> 
                                <ComboBox selectedKey="{NegoHeaders>/award_type_code}" >
                                    <core:Item key="Award By Lines" text="Award by Lines"/>
                                    <core:Item key="Award by Total Amount" text="Award by Total Amount"/>
                                </ComboBox> 
                                <Label  text="Target Total Amount"  class="sapMLabelNoText" visible="{=${NegoHeaders>/award_type_code}==='Award by Total Amount'}"/> 
                                <Input value="{NegoHeaders>/target_amount}" visible="{=${NegoHeaders>/award_type_code}==='Award by Total Amount'}"/> 
                                <Label text="Partial Response" class="sapMLabelNoText"/>

                                <SegmentedButton id="SegmentButtonUsed" 
                                    selectedKey="{=${NegoHeaders>/award_type_code} !== 'Award by Total Amount' ? false : ${NegoHeaders>/partial_allow_flag} === 'yes' ? true : false }" class="sapUiSmallMarginEnd" 
                                    enabled="{=${NegoHeaders>/award_type_code} !== 'Award by Total Amount'}" >
                                    <items>
                                        <SegmentedButtonItem key="true" text="Yes"/>
                                        <SegmentedButtonItem key="false" text="No" />
                                    </items>
                                </SegmentedButton>    
                                
                            </form:SimpleForm>

                            <form:SimpleForm  editable="true"  layout="ColumnLayout" visible="{=!${propInfo>/isEditMode}}" 
                                            columnsM="1"
                                            columnsL="2"
                                            columnsXL="4">
                                <Label  text="Award Type"  class="sapMLabelNoText"/> 
                                <Text text="{NegoHeaders>/award_type_code}" />
                                <Label  text="Target Total Amount"   class="sapMLabelNoText"/> 
                                <Text text="{NegoHeaders>/target_amount}" />
                                <Label text="Partial Response" class="sapMLabelNoText"/>
                                <Text text="{NegoHeaders>/partial_allow_flag}" /> 
                            </form:SimpleForm>
                        </Panel>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>
            <!-- Control End -->
            <!-- Line Start -->
			<uxap:ObjectPageSection titleUppercase="false" title="Line">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
                        <Panel id="panel_Line" expandable="true" expanded="true" headerText="Line Content">
                            <VBox>

                                <t:Table id="tableLines"
                                    minAutoRowCount="2"
                                    visibleRowCountMode="Auto"
                                    rows="{NegoHeaders>/Items}"
                                    selectionMode="{=${propInfo>/isEditMode} ? 'MultiToggle' : 'None' }"
                                    ariaLabelledBy="title">
                                    <t:extension>
                                        <OverflowToolbar visible="{=${propInfo>/isEditMode}}" >
                                            <Button text="일괄 Supplier 추가" type="Transparent" press=".onMidTableAddButtonPress"  />
                                            <Button text="Exclude Supplier From Vender Pool" type="Transparent" press=".onMidTableDeleteButtonPress" />
                                            <ToolbarSpacer/>
                                            
                                            <Button  text="Vendor Pool Change" type="Transparent" press=".onMidTableAddButtonPress"  />
                                            <Button  text="Simple Change" type="Transparent" press=".onMidTableAddButtonPress"  />
                                            <Button  text="Add" type="Transparent" press=".addLineItemRow" />
                                            <Button  text="Delete" type="Transparent" press=".onMidTableDeleteButtonPress" />


                                            <u:FileUploader id="rFileUploader" uploadComplete="handleUploadComplete" change=".onImportChange" style="Transparent" 
                                                buttonOnly="true" iconOnly="true" icon="sap-icon://upload" tooltip="Upload"  />
                                            
                                            <MenuButton id="button_Export" buttonMode="Split" useDefaultActionOnly="true" type="Default"
                                                        icon="sap-icon://excel-attachment" defaultAction=".onExport" >
                                                <menu>
                                                    <!-- <Menu itemSelected="onMenuAction">
                                                        <MenuItem text="basic" icon="sap-icon://chalkboard">
                                                            <items>
                                                                <MenuItem text="add" icon="sap-icon://add" />
                                                                <MenuItem text="subtract" icon="sap-icon://less" />
                                                                <MenuItem text="multiply" icon="sap-icon://decline" />
                                                            </items>
                                                        </MenuItem>
                                                        <MenuItem text="complex" icon="sap-icon://display">
                                                            <items>
                                                                <MenuItem text="square" icon="sap-icon://status-completed" />
                                                            </items>
                                                        </MenuItem>
                                                    </Menu> -->
                                                </menu>
                                            </MenuButton>
                                        </OverflowToolbar>
                                    </t:extension>

                                    <!-- visible="{= ${/propInfo/outCome} === '' }" -->
                                    <t:columns>
                                        <t:Column id="_row_state_" minScreenWidth="Tablet" hAlign="Center" width="40px" >
                                            <ObjectStatus icon="sap-icon://document" text="State" visible="false" />
                                            <t:template>
                                                <ObjectStatus icon="{
                                                    path: 'NegoHeaders>_row_state_',
                                                    formatter: '.formatter.toModelStateColumnIcon'
                                                }" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="5rem" hAlign="Center" >
                                            <Label text="Suppliers" />
                                            <t:template>
                                                <Button icon="sap-icon://account" press="onLoadSuppliers" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="Operating Org" required="true" />
                                            <t:template>
                                                <FlexBox >
                                                    <Input value="{NegoHeaders>operation_unit_code}" visible="{=${propInfo>/isEditMode}}" />
                                                    <Text text="{NegoHeaders>operation_unit_code}" visible="{=!${propInfo>/isEditMode}}" wrapping="false"/>
                                                </FlexBox>
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="Requisition No" />
                                            <t:template>
                                                <Label text="{NegoHeaders>pr_number}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="Submission No" />
                                            <t:template>
                                            <Label text="{NegoHeaders>pr_approve_number}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="Line Type"  required="true" />
                                            <t:template>
                                                <FlexBox >
                                                    <Input showValueHelp="true" value="{NegoHeaders>line_type_code}" visible="{=${propInfo>/isEditMode}}"/>
                                                    <Text text="{NegoHeaders>line_type_code}" visible="{=!${propInfo>/isEditMode}}" />
                                                </FlexBox>
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem"  hAlign="Center">
                                            <Label text="Material Code"  required="true" />
                                            <t:template>
                                                <FlexBox >
                                                    <Input showValueHelp="true" value="{NegoHeaders>material_code}" visible="{=${propInfo>/isEditMode}}" valueHelpRequest=".onPartNoPress"/>
                                                    <Text text="{NegoHeaders>material_code}" visible="{=!${propInfo>/isEditMode}}" />
                                                </FlexBox>
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem"  hAlign="Center">
                                            <Label text="Description" required="true" />
                                            <t:template>
                                                <FlexBox >
                                                    <Input value="{NegoHeaders>material_desc}" visible="{=${propInfo>/isEditMode}}"/>
                                                    <Text text="{NegoHeaders>material_desc}" visible="{=!${propInfo>/isEditMode}}" />
                                                </FlexBox>
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem"  hAlign="Center">
                                            <Label text="사양/규격" />
                                            <t:template>
                                                <Label text="" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem"  hAlign="Center">
                                            <Label text="BPA Price" />
                                            <t:template>
                                                <Label text="{col7}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="상세단가" />
                                            <t:template>
                                                <FlexBox >
                                                    <Input showValueHelp="true" value="" visible="{=${propInfo>/isEditMode}}"/>
                                                    <Text text="" visible="{=!${propInfo>/isEditMode}}" />
                                                </FlexBox>
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="추천정보" />
                                            <t:template>
                                                <Label text="{}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="Group Id" />
                                            <t:template>
                                                <Label text="{}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="Vendor Pool" />
                                            <t:template>
                                                <FlexBox >
                                                    <Input showValueHelp="true" value="{NegoHeaders>vendor_pool_code}" visible="{=${propInfo>/isEditMode}}"/>
                                                    <Text text="{NegoHeaders>vendor_pool_code}" visible="{=!${propInfo>/isEditMode}}" />
                                                </FlexBox>
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="Specific Supplier" />
                                            <t:template>
                                                <FlexBox >
                                                    <Input valueHelpRequest=".onSupplierPress" visible="{=${propInfo>/isEditMode}}" value="0" showValueHelp="true" valueHelpOnly="true" type="Number" ></Input>
                                                    <Text text="0" visible="{=!${propInfo>/isEditMode}}" />
                                                </FlexBox>
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="수량" />
                                            <t:template>
                                                <FlexBox >
                                                    <Input showValueHelp="true" value="{NegoHeaders>request_quantity}" visible="{=${propInfo>/isEditMode}}"/>
                                                    <Text text="{NegoHeaders>request_quantity}" visible="{=!${propInfo>/isEditMode}}" />
                                                </FlexBox>
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="UOM" required="true" />
                                            <t:template>
                                                <Label text="{NegoHeaders>uom_code}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                            <Label text="납기요청일" required="true" />
                                            <t:template>
                                                <Label text="{}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="통화" required="true" />
                                            <t:template>
                                                <FlexBox >
                                                    <ComboBox value="{NegoHeader>currency_code}" visible="{=${propInfo>/isEditMode}}"></ComboBox>
                                                    <Text text="{NegoHeaders>currency_code}" visible="{=!${propInfo>/isEditMode}}" />
                                                </FlexBox>
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="회신 통화" />
                                            <t:template>
                                                <FlexBox >
                                                    <Input showValueHelp="true" value="{NegoHeaders>response_currency_code}" visible="{=${propInfo>/isEditMode}}"/>
                                                    <Text text="{NegoHeaders>response_currency_code}" visible="{=!${propInfo>/isEditMode}}" />
                                                </FlexBox>
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="Excange Rate Type" />
                                            <t:template>
                                                <Label text="{NegoHeader>exrate_type_code}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="환율 적용날짜" />
                                            <t:template>
                                                <Label text="{NegoHeader>exrate_date}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="Start Price" />
                                            <t:template>
                                                <FlexBox >
                                                    <Input showValueHelp="true" value="{NegoHeaders>bidding_start_net_price}" visible="{=${propInfo>/isEditMode}}"/>
                                                    <Text text="{NegoHeaders>bidding_start_net_price}" visible="{=!${propInfo>/isEditMode}}" />
                                                </FlexBox>
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="협력사 공개" />
                                            <t:template>
                                                <FlexBox >
                                                    <Input showValueHelp="true" value="{NegoHeaders>bidding_start_net_price_flag}" visible="{=${propInfo>/isEditMode}}"/>
                                                    <Text text="{NegoHeaders>bidding_start_net_price_flag}" visible="{=!${propInfo>/isEditMode}}" />
                                                </FlexBox>
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="Target Price" />
                                            <t:template>
                                                <FlexBox >
                                                    <Input showValueHelp="true" value="{NegoHeaders>bidding_target_net_price}" visible="{=${propInfo>/isEditMode}}"/>
                                                    <Text text="{NegoHeaders>bidding_target_net_price}" visible="{=!${propInfo>/isEditMode}}" />
                                                </FlexBox>
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="현재 단가" />
                                            <t:template>
                                                <Label text="{NegoHeader>current_price}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="S/Parts 공급유형" />
                                            <t:template>
                                                <Label text="{}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                            <Label text="Location" />
                                            <t:template>
                                                <Label text="{}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                            <Label text="목적" />
                                            <t:template>
                                                <Label text="{}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                            <Label text="사유" />
                                            <t:template>
                                                <Label text="{}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                            <Label text="예산 부서"  />
                                            <t:template>
                                                <Label text="{}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                            <Label text="요청자" />
                                            <t:template>
                                                <Label text="{NegoHeader>requestor_empno}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                            <Label text="요청 부서" />
                                            <t:template>
                                                <Label text="{}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                            <Label text="요청 날짜" />
                                            <t:template>
                                                <Label text="{}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="첨부파일" />
                                            <t:template>
                                                <Label text="{}" />
                                            </t:template>
                                        </t:Column>
                                        <t:Column width="11rem" hAlign="Center">
                                            <Label text="협력사 제공정보" />
                                            <t:template>
                                                <Label text="{}" />
                                            </t:template>
                                        </t:Column>
                                    </t:columns>
                                </t:Table>  

                                <Panel id="panel_SuppliersContent" width="100%" expandable="true" expanded="false" headerText="Suppliers">
                                        <FlexBox>
                                            <form:SimpleForm editable="true"  layout="ColumnLayout" visible="{=${propInfo>/isEditMode}}" 
                                                        columnsM="2" width="100%" 
                                                        columnsL="3"
                                                        columnsXL="4">
                                                <Label  text="Requisition No" class="sapMLabelNoText"/>
                                                <Input  class="sapMLabelNoText" value="{NegoItemPrices>/pr_number}" enabled="false"/>
                                                <Label  text="Material Code" class="sapMLabelNoText"/>
                                                <Input  class="sapMLabelNoText" value="{NegoItemPrices>/material_code}" enabled="false"/>
                                                <Label  text="Description" class="sapMLabelNoText"/>
                                                <Input  class="sapMLabelNoText" value="{NegoItemPrices>/material_desc}" enabled="false"/>
                                                <Label  text="Vendor Pool" class="sapMLabelNoText"/>
                                                <Input  class="sapMLabelNoText" value="{NegoItemPrices>/vendor_pool_code}" enabled="false"/>
                                            </form:SimpleForm>

                                            <form:SimpleForm editable="true"  layout="ColumnLayout" visible="{=!${propInfo>/isEditMode}}" 
                                                        columnsM="2" width="100%" 
                                                        columnsL="3"
                                                        columnsXL="4">
                                                <Label  text="Requisition No" class="sapMLabelNoText"/>
                                                <Text  class="sapMLabelNoText" text="{NegoItemPrices>/pr_number}" />
                                                <Label  text="Material Code" class="sapMLabelNoText"/>
                                                <Text  class="sapMLabelNoText" text="{NegoItemPrices>/material_code}" />
                                                <Label  text="Description" class="sapMLabelNoText"/>
                                                <Text  class="sapMLabelNoText" text="{NegoItemPrices>/material_desc}"/>
                                                <Label  text="Vendor Pool" class="sapMLabelNoText"/>
                                                <Text  class="sapMLabelNoText" text="{NegoItemPrices>/vendor_pool_code}"/>
                                            </form:SimpleForm>
                                        
                                        </FlexBox>
                                        
                                        <Panel id="panel_Evaluation" expandable="true" expanded="false" headerText="Evaluation Supplier">
                                            <Table 
                                                sticky="HeaderToolbar,ColumnHeaders" 
                                                inset="false" 
                                                class="sapFDynamicPageAlignContent" 
                                                mode="None"
                                                width="auto">
                                                <columns>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Seq" />
                                                    </Column>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Supplier Code" />
                                                    </Column>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Supplier Name" />
                                                    </Column>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Supplier Type" />
                                                    </Column>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Only Maker Flag" />
                                                    </Column>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Contact" />
                                                    </Column>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Except Flag" />
                                                    </Column>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Reason" />
                                                    </Column>
                                                </columns>
                                                <items>
                                                    <!-- <ColumnListItem type="Inactive" >
                                                        <cells>
                                                            <Text text="1"/>
                                                            <Text text="CN000260"/>
                                                            <Text text="LGDKR_TRIPOD(WUXI) ELECTRONIC CO. LTD_CN000260"/>
                                                            <Text text="RAW MATERIAL"/>
                                                            <Text text="Y"/>
                                                            <ObjectStatus  icon="sap-icon://person-placeholder"/>
                                                            <CheckBox />
                                                            <Text text=""/>
                                                        </cells>
                                                    </ColumnListItem>
                                                    <ColumnListItem type="Inactive" >
                                                        <cells>
                                                            <Text text="2"/>
                                                            <Text text="CN000351"/>
                                                            <Text text="LGDKR_TRIPOD(WUXI) ELECTRONIC CO. LTD_CN000351"/>
                                                            <Text text="RAW MATERIAL"/>
                                                            <Text text="N"/>
                                                            <ObjectStatus  icon="sap-icon://person-placeholder"/>
                                                            <CheckBox />
                                                            <Text text=""/>
                                                        </cells>
                                                    </ColumnListItem> -->
                                                </items>
                                            </Table>
                                        </Panel>
                                        <Panel id="panel_Potential" expandable="true" expanded="false" headerText="Potential Supplier">
                                            <Table 
                                                sticky="HeaderToolbar,ColumnHeaders" 
                                                inset="false" 
                                                class="sapFDynamicPageAlignContent" 
                                                mode="None"
                                                width="auto">
                                                <columns>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Seq" />
                                                    </Column>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Supplier Code" />
                                                    </Column>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Supplier Name" />
                                                    </Column>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Contact" />
                                                    </Column>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Include Flag" />
                                                    </Column>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Reason" />
                                                    </Column>
                                                </columns>
                                                <items>
                                                    <ColumnListItem type="Inactive" >
                                                        <cells>
                                                            <Text text=""/>
                                                            <Text text=""/>
                                                            <Text text=""/>
                                                            <Text text=""/>
                                                            <Text text=""/>
                                                            <Text text=""/>
                                                        </cells>
                                                    </ColumnListItem>
                                                </items>
                                            </Table>
                                        </Panel>
                                        <Panel id="panel_Specific" expandable="true" expanded="true" headerText="Specific Supplier">
                                            <Table 
                                                id="table_Specific"
                                                sticky="HeaderToolbar,ColumnHeaders" 
                                                inset="false" 
                                                class="sapFDynamicPageAlignContent"     
                                                mode="None"
                                                items="{
                                                    path : 'NegoItemPrices>/Suppliers',
                                                    filters : [
                                                        { path : 'nego_supplier_register_type_code', operator : 'EQ', value1 : 'S'}
                                                    ]
                                                }"
                                                width="auto">
                                                <headerToolbar>
                                                    <OverflowToolbar visible="{=${propInfo>/isEditMode}}">
                                                        <ToolbarSpacer/>
                                                        <Button  text="Supplier Add" type="Transparent" press=".onMidTableDeleteButtonPress" />
                                                    </OverflowToolbar>
                                                </headerToolbar>
                                                <columns>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Seq" />
                                                    </Column>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Supplier Code" />
                                                    </Column>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Supplier Name" />
                                                    </Column>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Evaluate Type" />
                                                    </Column>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Supplier Type" />
                                                    </Column>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Only Maker Flag" />
                                                    </Column>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Contact" />
                                                    </Column>
                                                    <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                        <Text text="Delete" />
                                                    </Column>
                                                </columns>
                                                <items>
                                                    <ColumnListItem type="Inactive" >
                                                        <cells>
                                                            <Text text=""/>
                                                            <Text text="{NegoItemPrices>supplier_code}"/>
                                                            <Text text="{NegoItemPrices>supplier_name}"/>
                                                            <Text text="{NegoItemPrices>evaluation_type_code}"/>
                                                            <Text text="{NegoItemPrices>supplier_type_code}"/>
                                                            <Text text=""/>
                                                            <Text text=""/>
                                                            <!-- <Text text=""/> -->
                                                        </cells>
                                                    </ColumnListItem>
                                                </items>
                                            </Table>
                                        </Panel>
                                    </Panel>

                            </VBox>                 
                        </Panel>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>
            <!-- Line End -->
            <!-- Suppliers Start -->
            <!-- <uxap:ObjectPageSection titleUppercase="false" title="Suppliers">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
                        <FlexBox wrap="Wrap">
                            <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">

                                
                            </layout:VerticalLayout>
                        </FlexBox >
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection> -->
        
		</uxap:sections>
		<uxap:footer>
			<OverflowToolbar>
                <ToolbarSpacer />
                <Button text="Cancel" visible="{=${propInfo>/isEditMode}}" type="Transparent" press=".onPageCancelButtonPress" />
                <Button text="Delete" visible="{=${propInfo>/isEditMode}}" type="Transparent" press=".onPageDeleteButtonPress" />
                <Button text="Edit" visible="{=!${propInfo>/isEditMode}}" type="Transparent" press=".onPageEditButtonPress" />
				<Button text="Save as Draft" type="Emphasized" press=".onPageSaveButtonPress" />
			</OverflowToolbar>
		</uxap:footer>
	</uxap:ObjectPageLayout>
    <!-- </Page> -->
</mvc:View>