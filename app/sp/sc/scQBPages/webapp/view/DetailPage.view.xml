<mvc:View controllerName="sp.sc.scQBPages.controller.DetailPage"
	xmlns:mvc="sap.ui.core.mvc" 
	xmlns="sap.m" 
	xmlns:uxap="sap.uxap" 
	xmlns:layout="sap.ui.layout" 
    xmlns:form="sap.ui.layout.form"
	xmlns:core="sap.ui.core"
    xmlns:rte="sap.ui.richtexteditor"
    xmlns:co="sap.suite.ui.commons"
    xmlns:si="sap.suite.ui.commons.statusindicator"
    xmlns:u="sap.ui.unified"
    xmlns:t="sap.ui.table"
    xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:lib-m="ext.lib.control.m"
	height="100%">

    <!-- <Page showNavButton="true" navButtonPress=".onNavBack"  title="견적계획"> -->
    <App id="idAppControl">
        <Page title="{I18N>/QUOTATION_PLAN}" showNavButton="true" navButtonType="Back" navButtonPress="onNavBack"> 
            <content>
                    <!-- toggleHeaderOnTitleClick="true"
                    alwaysShowContentHeader = "true"
                    preserveHeaderStateOnScroll="false"
                    headerContentPinnable="true"
                    isChildPage="true"
                    upperCaseAnchorBar="false"
                    showTitleInHeaderContent="true"
                    showEditHeaderButton="true" 
                    showFooter="true" -->
                <uxap:ObjectPageLayout id="page"
                     alwaysShowContentHeader="false" preserveHeaderStateOnScroll="true" headerContentPinnable="false" upperCaseAnchorBar="false" enableLazyLoading="true" showFooter="true" class="sapUiContentPadding"
                    >
                    <uxap:headerTitle>
                        <uxap:ObjectPageDynamicHeaderTitle>
                            <!-- <uxap:navigationActions> </uxap:navigationActions> -->
                            <uxap:expandedHeading>                  
                                <!-- <Title text="견적 계획" wrapping="true" /> -->
                            </uxap:expandedHeading>
                            <uxap:snappedHeading>
                                <!-- <Title text="견적 계획" wrapping="true" /> -->
                            </uxap:snappedHeading>
                            <uxap:snappedContent>
                            </uxap:snappedContent>			
                            <uxap:navigationActions>
                                <!-- <OverflowToolbarButton id="pageNavBackButton" type="Transparent" icon="sap-icon://decline" text="back" tooltip="back to the list" press=".onNavBack" visible="{= ${/actionButtonsInfo/midColumn/closeColumn} !== null }"/> -->
                            </uxap:navigationActions> 
                        </uxap:ObjectPageDynamicHeaderTitle>
                    </uxap:headerTitle>

                    <uxap:headerContent>
                        <FlexBox wrap="Wrap" >
                            
                            <layout:VerticalLayout class="sapUiSmallMarginBeginEnd" width="30rem">
                                <ObjectStatus id="objectStatus_nego_document_number" title="{I18N>/NEGO_DOCUMENT_NUMBER}" text="{path: 'NegoHeaders>/nego_document_number'}" class="sapUiLargeMarginBegin" />
                                <ObjectStatus title="{I18N>/BUYER}" text="{NegoHeaders>/buyer_employee/employee_name} [{NegoHeaders>/buyer_employee/department_name}]" class="sapUiLargeMarginBegin" />
                                <ObjectStatus title="{I18N>/NW_CREATE_DTM}" text="{path: 'NegoHeaders>/local_create_dtm', type: 'sap.ui.model.odata.type.Date', 
                                                                        formatOptions: { pattern: 'yyyy/MM/dd' , UTC: true} }"  class="sapUiLargeMarginBegin" />
                            </layout:VerticalLayout>

                            <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                                <Label text="{I18N>/NEGO_PROGRESS_STATUS_CODE} :"/>
                                <ObjectStatus class="sapMObjectStatusLarge" text="{path: 'NegoHeaders>/nego_progress_status/nego_progress_status_name' }" state="Error" />
                            </layout:VerticalLayout>
                            <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                              
                            </layout:VerticalLayout>
                        </FlexBox>
                    </uxap:headerContent>

                    <!-- Header Start -->
                    <uxap:sections>
                        <uxap:ObjectPageSection id="objectPageSection" titleUppercase="false" title="{I18N>/NW_SECTION_TITLE_HEADER}" >
                            <uxap:subSections >
                                <uxap:ObjectPageSubSection>
                                    <uxap:blocks>
                                        <Panel id="panel_Header" expandable="true" expanded="true" headerText="{I18N>/NW_SECTION_TITLE_HEADER} {I18N>/NW_CONTENT}"  >
                                            <content>
                                                <layout:Grid
                                                    hSpacing="1"
                                                    defaultSpan="XL12 L12 M12 S12">
                                                    <layout:content>
                                                        <form:SimpleForm id="formHeader1" maxContainerCols="2" editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="false" labelSpanL="0"         labelSpanM="0" emptySpanL="0" emptySpanM="0" columnsL="3" columnsM="3">
                                                            <form:content>
                                                                <VBox class="sapUiNoMarginBottom">
                                                                    <Label  text="{I18N>/NEGO_DOCUMENT_NUMBER}:"  />
                                                                    <Input  id="inputNegotiationNo" value="{NegoHeaders>/nego_document_number}" enabled="false" visible="{=${propInfo>/isEditMode} }"/>
                                                                    <Text  id="textNegotiationNo" text="{NegoHeaders>/nego_document_number}" visible="{=!${propInfo>/isEditMode} }"/>
                                                                </VBox>

                                                                <VBox class="sapUiNoMarginBottom">
                                                                    <Label text="{I18N>/NEGO_TYPE_CODE}:"  />
                                                                    <Text  id="textType" text="{NegoHeaders>/nego_type/nego_type_name}" />
                                                                    
                                                                    <!-- nego type name 위한 temp성 콤보 -->
                                                                    <ComboBox id="comboBoxTypeTemp" items="{
                                                                            path: '/Sc_Nego_Type_Code_texts', 
                                                                            templateShareable:true, 
                                                                            filters: [{path: 'tenant_id', operator: 'EQ', value1: 'L2100'}],
                                                                            sorter: {
                                                                                path: 'locale',
                                                                                descending: true
                                                                            }
                                                                        }" 
                                                                        editable="false" enabled="false" visible="false"
                                                                        selectedKey="{NegoHeaders>/nego_type_code}" value="{NegoHeaders>/nego_type/nego_type_name}"
                                                                        width="100%" >
                                                                        <core:ListItem key="{nego_type_code}" text="{nego_type_name}" />
                                                                    </ComboBox>
                                                                </VBox>

                                                                <VBox class="sapUiNoMarginBottom">
                                                                    <Label text="{I18N>/OUTCOME_CODE}:"   />
                                                                    <Text  id="textOutcome" text="{NegoHeaders>/outcome/outcome_name}" />
                                                                </VBox>
                                                            </form:content>
                                                        </form:SimpleForm>
                                                        
                                                        <VBox  class="sapUiMediumMarginTop">
                                                            <Label text="{I18N>/NEGO_DOCUMENT_TITLE}:" required="true" class="nameTitle"  />
                                                            
                                                            <Input  id="inputTitle" width="100%" value="{NegoHeaders>/nego_document_title}" visible="{=${propInfo>/isEditMode}}"
                                                                placeholder="최대 300자까지 입력 할 수 있습니다." maxLength="300"/>
                                                            <Text  id="textTitle" text="{NegoHeaders>/nego_document_title}" visible="{=!${propInfo>/isEditMode} }"/>
                                                        </VBox>
                                                    
                                                        <VBox class="sapUiMediumMarginTop">
                                                            <Label  text="{I18N>/NEGO_DOCUMENT_DESC}:" class="nameTitle sapUiTinyMarginBottom" />
                                                            <rte:RichTextEditor id="reDescription" editorType="TinyMCE4" width="100%" height="400px" customToolbar="true" 
                                                                showGroupFont="true" showGroupLink="true" showGroupInsert="false" value="{NegoHeaders>/nego_document_desc}"
                                                                editable="{=${propInfo>/isEditMode}}" 
                                                                />
                                                            <!-- <FormattedText id="formTextDescription" htmlText="{NegoHeaders>/nego_document_desc}" visible="{=!${propInfo>/isEditMode}}"/> -->
                                                        </VBox>

                                                        <VBox  width="100%" height="100%" alignItems="Start" class="sapUiMediumMarginTop" >
                                                            <Label  text="{I18N>/NW_QUATE_STYLE}:" class="nameTitle " />
                                                            <RadioButtonGroup id="rbg1" columns="2" width="100%" selectedIndex="{=${NegoHeaders>/negotiation_style_code}==='Blind' ? 1 : 0 }" 
                                                                visible="{=${propInfo>/isEditMode}}" 
                                                                buttons="{
                                                                    path: '/Sc_Negotiation_Style_Map', 
                                                                    templateShareable:true, 
                                                                    sorter: {
                                                                        path: 'negotiation_style_code',
                                                                        descending: false
                                                                    }}"
                                                                    >
                                                                    <!-- filters: [{path: 'nego_type_code', operator: 'EQ', value1: ${NegoHeaders>/nego_type_code} }], -->
                                                                <RadioButton key="{negotiation_style_code}" text="{negotiation_style_name}" >
                                                                    <customData>
                                                                        <core:CustomData key="negotiation_style_code" value='{negotiation_style_code}'/>
                                                                    </customData>
                                                                </RadioButton>
                                                                <!-- <RadioButton text="Sealed (Purchaser : X,Supplier :X)" />
                                                                <RadioButton text="Blind (Purchaser : O,Supplier :X)" /> -->
                                                            </RadioButtonGroup>
                                                            <Text text="{NegoHeaders>/negotiation_style/negotiation_style_name}" visible="{=!${propInfo>/isEditMode}}"  class="sapUiTinyMarginEnd"/>
                                                        
                                                        </VBox>

                                                        <HBox  width="100%"  class="sapUiMediumMarginTop">
                                                            <VBox width="50%">
                                                            
                                                                <Label  text="{I18N>/NW_PERIOD}:" width="100px" required="true" class="sapMLabelNoText"/> 
                                                                <HBox  height="100%" alignItems="Center" >
                                                                    <CheckBox id="checkbox_Immediately" text="{I18N>/NW_IMMEDIATELY}" selected="{=${NegoHeaders>/immediate_apply_flag}==='Y'}" editable="{=${propInfo>/isEditMode}}"
                                                                        select="selectImmediately" /> 
                                                                    <ToolbarSpacer width="1rem"/> 
                                                                    <FlexBox>
                                                                        <DateTimePicker id="searchOpenDatePicker" placeholder="Open Date ..." 
                                                                            valueFormat="yyyy/MM/ddTHH:mm" displayFormat="yyyy/MM/dd HH:mm" visible="{=${propInfo>/isEditMode}}"
                                                                            value="{path: 'NegoHeaders>/open_date', type: 'sap.ui.model.odata.type.DateTime', 
                                                                                    formatOptions: { pattern: 'yyyy/MM/dd HH:mm' , UTC: true} }" />
                                                                        <Text text="{path: 'NegoHeaders>/open_date', type: 'sap.ui.model.odata.type.DateTime', 
                                                                                    formatOptions: { pattern: 'yyyy/MM/dd HH:mm' , UTC: true} }" visible="{=!${propInfo>/isEditMode}}"  class="sapUiTinyMarginEnd"/>
                                                                    </FlexBox>
                                                                    <Text text="~" class="sapUiTinyMarginBegin sapUiTinyMarginEnd" />
                                                                    <FlexBox>
                                                                        <DateTimePicker id="searchEndDatePicker" placeholder="End Date ..." 
                                                                            valueFormat="yyyy/MM/ddTHH:mm" displayFormat="yyyy/MM/dd HH:mm" visible="{=${propInfo>/isEditMode}}"
                                                                            value="{path: 'NegoHeaders>/closing_date', type: 'sap.ui.model.odata.type.DateTime', 
                                                                                    formatOptions: { pattern: 'yyyy/MM/dd HH:mm' , UTC: true} }" />
                                                                        <Text text="{path: 'NegoHeaders>/closing_date', type: 'sap.ui.model.odata.type.DateTime', 
                                                                                    formatOptions: { pattern: 'yyyy/MM/dd HH:mm' , UTC: true} }" visible="{=!${propInfo>/isEditMode}}"  class="sapUiTinyMarginEnd"/>
                                                                    </FlexBox>
                                                                </HBox>
                                                            </VBox>

                                                            <HBox  width="50%" >
                                                                <VBox width="50%">

                                                                    <Label  text="Extension Period:" width="130px" class="sapMLabelNoText "/> 
                                                                    <HBox  height="100%" alignItems="Center" >
                                                                        <Input id="inputEP" value="{NegoHeaders>/close_date_ext_enabled_hours}" type="Number" description="Hr"
                                                                            visible="{=${propInfo>/isEditMode}}" class="sapUiTinyMarginEnd" textAlign="Right"/>
                                                                        <Text text="{NegoHeaders>/close_date_ext_enabled_hours} Hr" visible="{=!${propInfo>/isEditMode}}"  class="sapUiTinyMarginEnd"/>
                                                                        <!-- <Label  text="Hr"  class="sapUiSmallMarginBegin" /> -->
                                                                    </HBox>
                                                                </VBox>

                                                                <ToolbarSpacer width="3rem"/> 

                                                                <VBox width="50%">

                                                                    <Label  text="Extension Count:" width="130px"  class="sapMLabelNoText "/> 
                                                                    <HBox  height="100%" alignItems="Center" >
                                                                        <Input id="inputEC"  value="{NegoHeaders>/close_date_ext_enabled_count}" type="Number" description="Times"
                                                                            visible="{=${propInfo>/isEditMode}}" class="sapUiTinyMarginEnd" textAlign="Right"/>
                                                                        <Text text="{NegoHeaders>/close_date_ext_enabled_count} Times" visible="{=!${propInfo>/isEditMode}}"  class="sapUiTinyMarginEnd"/>
                                                                        <!-- <Label  text="Times"  class="sapUiSmallMarginBegin"/>    -->
                                                                    </HBox>
                                                                </VBox>
                                                            </HBox>
                                                        </HBox>

                                                        <VBox  class="sapUiMediumMarginTop">
                                                            <Label  text="{I18N>/NW_NOTE_TO_SUPPLIER}:" class="sapMLabelNoText sapUiTinyMarginBottom"/>
                                                            <rte:RichTextEditor id="reNoteToSupplier" editorType="TinyMCE4" width="100%" height="400px" customToolbar="true" 
                                                                value="{NegoHeaders>/note_content}" editable="{=${propInfo>/isEditMode}}" showGroupFont="true" showGroupLink="true" showGroupInsert="false"/>
                                                            <!-- <FormattedText id="formTextNoteToSupplier" htmlText="{NegoHeaders>/note_content}"  visible="{=!${propInfo>/isEditMode}}"/> -->
                                                        </VBox>

                                                        <!-- <smartTable:SmartTable tableType="Table"
                                                            useExportToExcel="false" 
                                                            useTablePersonalisation="true" 
                                                            enableAutoBinding="true" 

                                                            
                                                            
                                                            header="Attachments" showRowCount="true" 
                                                            
                                                            class="sapUiSmallMarginBottom"
                                                            >
                                                            <smartTable:customToolbar>
                                                                <OverflowToolbar>
                                                                   
                                                                    <ToolbarSpacer/>
                                                                    
                                                                    <Button text="Load Attached file From Requisition" type="Transparent" press=".onMidTableAddButtonPress" visible="{=${propInfo>/isEditMode}}" />
                                                                    <Button text="{I18N>/ROW_ADD}" type="Transparent" press=".onMidTableDeleteButtonPress" visible="{=${propInfo>/isEditMode}}" />
                                                                
                                                                </OverflowToolbar>

                                                            </smartTable:customToolbar> -->

                                                            <Table id="tableAttachments" 
                                                                sticky="HeaderToolbar,ColumnHeaders" 
                                                                inset="false" 
                                                                class="sapFDynamicPageAlignContent sapUiMediumMarginTop" 
                                                                mode="None" noDataText="파일 없음"
                                                                width="auto">
                                                                <headerToolbar>
                                                                    <OverflowToolbar>
                                                                        <Title text="{I18N>/Attachments} (0)" level="H2"/>
                                                                        <ToolbarSpacer/>
                                                                        
                                                                        <Button text="Load Attached file From Requisition" type="Transparent" press=".createConfirmBox" visible="{=${propInfo>/isEditMode}}" />
                                                                        <Button text="{I18N>/ROW_ADD}" type="Transparent" press=".createConfirmBox" visible="{=${propInfo>/isEditMode}}" />
                                                                    
                                                                    </OverflowToolbar>
                                                                </headerToolbar>
                                                                <columns>
                                                                    
                                                                    <!-- language_code -->
                                                                    <Column  minScreenWidth="Tablet" hAlign="Center" demandPopin="true" >
                                                                        <Text text="Type" />
                                                                    </Column>
                                                                    <Column minScreenWidth="Tablet" hAlign="Center" >
                                                                        <Text text="File Name" />
                                                                    </Column>
                                                                    <!-- <Column minScreenWidth="Tablet" hAlign="Center"  visible="{= ${util>/flag} === 'S' ?  true : false}" demandPopin="true">
                                                                        <Text text="File Name" />
                                                                    </Column> -->
                                                                    <Column minScreenWidth="Tablet" hAlign="Center"  >
                                                                        <Text text="Description" />
                                                                    </Column>
                                                                    <Column minScreenWidth="Tablet" hAlign="Center"  >
                                                                        <Text text="Submission No" />
                                                                    </Column>
                                                                    <Column minScreenWidth="Tablet" hAlign="Center"  >
                                                                        <Text text="Title" />
                                                                    </Column>
                                                                    <Column minScreenWidth="Tablet" hAlign="Center"  >
                                                                        <Text text="Delete" />
                                                                    </Column>
                                                                </columns>
                                                                <items>
                                                                    <!-- <ColumnListItem type="Inactive" >
                                                                        <cells>
                                                                            <Text text="txt"/>
                                                                            <Text text="fileName1"/>
                                                                            <Text text="Timing Controller ** SW0887A, SI"/>
                                                                            <Text text="2198849-1"/>
                                                                            <Text text="20109040_미정단가_홍길동"/>
                                                                            <CheckBox />  
                                                                        </cells>
                                                                    </ColumnListItem>-->
                                                                    <!-- <ColumnListItem type="Inactive" >
                                                                        <cells>
                                                                            <Text text="{viewModel>tenant_id}"/>
                                                                            <Text text="{viewModel>nego_header_id}"/>
                                                                            <Text text="{viewModel>nego_document_number}"/>
                                                                            <Text text="2198865-1"/>
                                                                            <Text text="20109046_미정단가_홍길동"/>
                                                                            <CheckBox />  
                                                                        </cells>
                                                                    </ColumnListItem>  -->
                                                                </items>
                                                            </Table>
                                                        <!-- </smartTable:SmartTable> -->
                                                    </layout:content>
                                                </layout:Grid>
                                            </content>
                                        </Panel>
                                    </uxap:blocks>
                                </uxap:ObjectPageSubSection>
                                <!-- <uxap:ObjectPageSubSection></uxap:ObjectPageSubSection> -->
                            </uxap:subSections>
                        </uxap:ObjectPageSection>
                    </uxap:sections>
                    <!-- Header End -->
                    <!-- Control Start -->
                    <uxap:sections>
                        <uxap:ObjectPageSection titleUppercase="false" title="{I18N>/NW_SECTION_TITLE_CONTROL}" visible="true">
                            <uxap:subSections>
                                <uxap:ObjectPageSubSection>
                                    <Panel id="panel_Control" expandable="true" expanded="true" headerText="Control Content">
                                        <form:SimpleForm  editable="true"  layout="ColumnLayout" visible="{=${propInfo>/isEditMode}}"
                                                        columnsM="1"
                                                        columnsL="2"
                                                        columnsXL="4">
                                            <Label  text="Award Type"  />
                                            <Select id="selectAwardType" selectedKey="{NegoHeaders>/award_type_code}" 
                                                >
                                                    <!-- items="{
                                                        path: 'Sc_Nego_Award_Method_Code',
                                                        sorter: { path: 'award_type_code' },
                                                        filters : [
                                                            { path : 'nego_type_code', operator : 'EQ', value1 : 'RFP'}
                                                        ]
                                                    }" -->
                                                <!-- { path : 'nego_parent_type_code', operator : 'EQ', value1 : 'QP'}, -->
                                                <!-- items="{/Sc_Award_Type_Code_View}" -->
                                                <!-- <core:Item key="{award_type_code}" text="{award_type_name}"/> -->
                                                <core:Item key="010" text="Award by Lines"/>
                                                <core:Item key="020" text="Award by Total Amount"/>
                                            </Select> 
                                            <Label  text="Target Total Amount" visible="{=${NegoHeaders>/award_type_code}==='020'}"/> 
                                            <Input value="{NegoHeaders>/target_amount}" type="Number"  textAlign="Right" visible="{=${NegoHeaders>/award_type_code}==='020'}"/> 
                                            <Label text="Partial Response" />

                                            <SegmentedButton id="SegmentButtonUsed" selectedKey="{NegoHeaders>/partial_allow_flag}" 
                                                enabled="{=${NegoHeaders>/award_type_code} !== '020'}" >
                                                <items>
                                                    <SegmentedButtonItem key="Y" text="Yes"/>
                                                    <SegmentedButtonItem key="N" text="No" />
                                                </items>
                                            </SegmentedButton>   
                                            
                                        </form:SimpleForm>

                                        <form:SimpleForm  editable="true"  layout="ColumnLayout" visible="{=!${propInfo>/isEditMode}}" 
                                                        columnsM="1"
                                                        columnsL="2"
                                                        columnsXL="4">
                                            <Label  text="Award Type"  /> 
                                            <Text text="{NegoHeaders>/award_type/award_type_name}" />
                                            <Label  text="Target Total Amount"    visible="{=${NegoHeaders>/award_type_code}==='020'}"/> 
                                            <Text text="{NegoHeaders>/target_amount}" visible="{=${NegoHeaders>/award_type_code}==='020'}"/>
                                            <Label text="Partial Response" />
                                            <Text text="{=${NegoHeaders>/partial_allow_flag}==='Y' ? 'Yes' : 'No'}" /> 
                                        </form:SimpleForm>
                                    </Panel>
                                </uxap:ObjectPageSubSection>
                            </uxap:subSections>
                        </uxap:ObjectPageSection>
                    </uxap:sections>
                    <!-- Control End -->
                    <!-- Non Price Start visible="{=${propInfo>/isNPMode}}"-->
                    <uxap:sections >
                        <uxap:ObjectPageSection id="npSection" titleUppercase="false" title="{I18N>/NW_SECTION_TITLE_NONPRICE}" visible="{=${propInfo>/isNPMode}}">
                            <uxap:subSections>
                                <uxap:ObjectPageSubSection>
                                    <Panel id="panel_NonPrice" expandable="true" expanded="true" headerText="{I18N>/NW_SECTION_TITLE_NONPRICE} {I18N>/NW_CONTENT}">
                                        <!-- rows="{viewModel>/NPHeader}" -->
                                        <t:Table id="tableNonPrice"
                                            minAutoRowCount="2"
                                            visibleRowCountMode="Auto"
                                            rows="{NegoHeaders>/ItemsNonPrice}"
                                            cellClick="mTableOnCellClick"
                                            selectionMode="{=${propInfo>/isEditMode} ? 'MultiToggle' : 'None' }"
                                            ariaLabelledBy="title">
                                            <t:extension>
                                                <OverflowToolbar visible="{=${propInfo>/isEditMode}}" >
                                                    <ToolbarSpacer/>
                                                    <Button  text="{I18N>/ROW_ADD}" type="Transparent" press="onAddNonPrice" />
                                                    <Button  text="{I18N>/ROW_DELETE}" type="Transparent" press=".onDeleteNonPrice" />
                                                </OverflowToolbar>
                                            </t:extension>

                                            <!-- visible="{= ${/propInfo/outCome} === '' }" -->
                                            <t:columns>
                                                <t:Column minScreenWidth="Tablet" hAlign="Center" width="40px" visible="{=${propInfo>/isEditMode}}">
                                                    <ObjectStatus icon="sap-icon://document" text="State" visible="false" />
                                                    <t:template>
                                                        <ObjectStatus icon="{
                                                            path: 'NegoHeaders>_row_state_',
                                                            formatter: '.formatter.toModelStateColumnIcon'
                                                        }" />
                                                    </t:template>
                                                </t:Column>
                                                <t:Column width="" hAlign="Center" >
                                                    <Label text="평가항목 유형" />
                                                    <t:template>
                                                        <!-- <Text text="{viewModel>h1}"/> -->
                                                        <Text text="{NegoHeaders>nonpr_supeval_attr_type_code}"/>
                                                    </t:template>
                                                </t:Column>
                                                <t:Column width="" hAlign="Center">
                                                    <Label text="요구사항" />
                                                    <t:template>
                                                        <Text text="{NegoHeaders>nonpr_requirements_text}" />
                                                    </t:template>
                                                </t:Column>
                                                <t:Column width="" hAlign="Center">
                                                    <Label text="비고" />
                                                    <t:template>
                                                    <Label text="{NegoHeaders>note_content}" />
                                                    </t:template>
                                                </t:Column>
                                                <t:Column width="" hAlign="Center">
                                                    <Label text="평가속성" />
                                                    <t:template>
                                                        <Text text="{NegoHeaders>nonpr_supeval_attr_val_type_cd}" />
                                                    </t:template>
                                                </t:Column>
                                                <t:Column width=""  hAlign="Center">
                                                    <Label text="점수 산정 방법" />
                                                    <t:template>
                                                        <Text text="{NegoHeaders>nonpr_score_comput_method_code}" />
                                                    </t:template>
                                                </t:Column>
                                                <t:Column width=""  hAlign="Center">
                                                    <Label text="Target Score"/>
                                                    <t:template>
                                                        <Label text="{NegoHeaders>target_score}" />
                                                    </t:template>
                                                </t:Column>
                                                <t:Column width="" hAlign="Center">
                                                    <Label text="상세 설정" />
                                                    <t:template>
                                                        <Button icon="sap-icon://value-help"  press="onPressNPSelectButton"/>
                                                    </t:template>
                                                </t:Column>
                                            </t:columns>
                                        </t:Table>                   
                                    </Panel>
                                </uxap:ObjectPageSubSection>
                            </uxap:subSections>
                        </uxap:ObjectPageSection>
                    </uxap:sections>
                    <!-- Non Price End -->
                    <!-- Line Start -->
                    <uxap:sections>
                        <uxap:ObjectPageSection titleUppercase="false" title="{I18N>/NW_SECTION_TITLE_LINES}">
                            <uxap:subSections>
                                <uxap:ObjectPageSubSection>
                                    <Panel id="panel_Line" expandable="true" expanded="true" headerText="{I18N>/NW_SECTION_TITLE_LINES} {I18N>/NW_CONTENT}">
                                        <VBox>
                                            <smartTable:SmartTable id="sTable1" tableType="Table"
                                                useExportToExcel="false" beforeExport="onBeforeExport" 
                                                useTablePersonalisation="true" 
                                                enableAutoBinding="true" 
                                                entitySet="NegoHeaders>/Items" 
                                                tableBindingPath="NegoHeaders>/Items"
                                                beforeRebindTable="beforeRebindTable"
                                                ignoreFromPersonalisation="_row_state_,Suppliers"
                                                requestAtLeastFields="pr_number,pr_approve_number,line_type_code,material_code,material_desc,specification,bpa_price,detail_net_price,recommend_info,group_id,vendor_pool_code,specific_supplier_count,request_quantity,uom_code,maturity_date,currency_code,response_currency_code
                                                ,exrate_type_code,exrate_date,bidding_start_net_price,bidding_start_net_price,bidding_target_net_price,current_price"
                                                initiallyVisibleFields="pr_number,pr_approve_number,line_type_code,material_code,material_desc,specification,bpa_price,detail_net_price,recommend_info,group_id
                                                ,vendor_pool_code,specific_supplier_count,request_quantity,uom_code,maturity_date,currency_code,response_currency_code,exrate_type_code,exrate_date,bidding_start_net_price,bidding_start_net_price,bidding_target_net_price,current_price"
                                                class="sapUiSmallMarginBottom"
                                                >
                                                <!-- <smartTable:layoutData>
                                                    <FlexItemData growFactor="1" baseSize="0%"/>
                                                </smartTable:layoutData> -->

                                                <smartTable:customToolbar>
                                                    <OverflowToolbar visible="{=${propInfo>/isEditMode}}" >
                                                        <ToolbarSpacer/>
                                                        <!-- <Button  text="{I18N>/ROW_ADD}" type="Transparent" press="onAddNonPrice" />
                                                        <Button  text="{I18N>/ROW_DELETE}" type="Transparent" press=".onDeleteNonPrice" /> -->
                                                        <Button  text="{I18N>/ROW_ADD}" type="Transparent" press=".addLineItemRow" />
                                                        <Button  text="{I18N>/ROW_DELETE}" type="Transparent" press=".onMidTableDeleteButtonPress" />
                                                        
                                                        <Button text="{I18N>/ADD_SUPPLIER_INBULK}" type="Transparent" press=".onMidTableAddBatchSuppliers"  />
                                                        <Button text="{I18N>/EXCLUDE_SUPPLIER_FROMVP}" type="Transparent" press=".createConfirmBox" />
                                                        
                                                        <Button  text="{I18N>/VENDOR_POOL} Change" type="Transparent" press=".createConfirmBox"  />
                                                        <Button  text="{I18N>/SIMPLE_CHANGE}" type="Transparent" press=".onSimpleChangePress"  /> 


                                                        <u:FileUploader uploadComplete="handleUploadComplete" change=".createConfirmBox" style="Transparent" 
                                                            buttonOnly="true" iconOnly="true" icon="sap-icon://upload" tooltip="Upload"  />
                                                        
                                                        <MenuButton buttonMode="Split" useDefaultActionOnly="true" type="Default"
                                                                    icon="sap-icon://excel-attachment" defaultAction=".onExport" >
                                                            <menu>
                                                                
                                                            </menu>
                                                        </MenuButton>
                                                    </OverflowToolbar>
                                                </smartTable:customToolbar>
                                                <!-- enableColumnFreeze="true" -->
                                                <t:Table id="tableLines"
                                                    minAutoRowCount="2"
                                                    visibleRowCountMode="Auto"
                                                    rows="{NegoHeaders>/Items}"
                                                    selectionMode="{=${propInfo>/isEditMode} ? 'MultiToggle' : 'None' }"
                                                    ariaLabelledBy="title">
<!-- 
                                                    <t:extension>
                                                        
                                                    </t:extension> -->
                                                 
                                                    <t:columns>
                                                        <t:Column id="_row_state_" minScreenWidth="Tablet" hAlign="Center" width="40px" visible="{=${propInfo>/isEditMode}}">
                                                            <ObjectStatus icon="sap-icon://document" text="State" visible="false" />
                                                            <t:template>
                                                                <ObjectStatus icon="{
                                                                    path: 'NegoHeaders>_row_state_',
                                                                    formatter: '.formatter.toModelStateColumnIcon'
                                                                }" />
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="5rem" hAlign="Center" >
                                                            <Label text="{I18N>/SUPPLIERS_TITLE}" />
                                                            <t:template>
                                                                <Button icon="sap-icon://account" press="onLoadSuppliers" />
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="13rem" hAlign="Center">
                                                            <Label text="Operating Org" required="true" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center" >
                                                                    <Input id="multiinput_purOperationOrg_code" visible="{=${propInfo>/isEditMode}}" 
                                                                        value="{NegoHeaders>operation_org_code} : {NegoHeaders>operation_org/operation_org_name}"
                                                                        showValueHelp="true" valueHelpRequest=".onOperationOrgPress" textAlign="Center"
                                                                        showSuggestion="true" showSecondaryValues="true" suggestionItemSelected=".onSuggesionItemSelectedOprOrg"
                                                                        suggestionItems="{
                                                                            path: 'org>/Pur_Operation_Mapping',
                                                                            templateShareable:true,
                                                                            sorter: { path: 'org>org_code' }
                                                                        }"
                                                                        onfocusout=".onfocusoutMultiInput_org"
                                                                        valueState="{NegoHeaders>__metadata/_valueStates/operation_org_code/valueState}" valueStateText="{NegoHeaders>__metadata/_valueStates/operation_org_code/valueStateText}"
                                                                        >
                                                                        <core:ListItem key="{org>org_code}" text="{org>org_name}"  additionalText="{org>org_code}"/>
                                                                        <!-- <tokens>
                                                                            <Token key="{key}" text="{text}" />
                                                                        </tokens> -->
                                                                        <layoutData>
                                                                            <FlexItemData growFactor="1"/>
                                                                        </layoutData>
                                                                    </Input>
                                                                    <!-- <Input value="{NegoHeaders>operation_unit_code}" visible="{=${propInfo>/isEditMode}}" textAlign="Center"/> -->
                                                                    <Text text="{NegoHeaders>operation_org_code} : {NegoHeaders>operation_org/operation_org_name}" visible="{=!${propInfo>/isEditMode}}" textAlign="Center"/>
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="{I18N>/PR_NUMBER}" />
                                                            <t:template>
                                                                <Label text="{NegoHeaders>pr_number}" />
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="Submission No" />
                                                            <t:template>
                                                                <Label text="{NegoHeaders>pr_approve_number}" />
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center" visible="false">
                                                            <Label text="Line Type"  required="true" />
                                                            <t:template>
                                                                <FlexBox >
                                                                    <Input showValueHelp="true" value="{NegoHeaders>line_type_code}" visible="{=${propInfo>/isEditMode}}"/>
                                                                    <Text text="{NegoHeaders>line_type_code}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem"  hAlign="Center">
                                                            <Label text="Material Code"  />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center" >
                                                                    <Input showValueHelp="true" value="{NegoHeaders>material_code}" visible="{=${propInfo>/isEditMode}}" valueHelpRequest=".onPartNoPress"
                                                                        editable="{=!${propInfo>/isDescEditMode}}" textAlign="Center"/>
                                                                    <Text text="{NegoHeaders>material_code}" visible="{=!${propInfo>/isEditMode}}"/>
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="20rem"  hAlign="Center">
                                                            <Label text="Description" required="true" />
                                                            <t:template>
                                                                <FlexBox width="100%" >
                                                                    <Input value="{NegoHeaders>material_desc}" visible="{=${propInfo>/isEditMode}}" width="100%" maxLength="200" placeholder="최대 200 자까지 입력 할 수 있습니다."
                                                                        valueState="{NegoHeaders>__metadata/_valueStates/material_desc/valueState}" 
                                                                        valueStateText="{NegoHeaders>__metadata/_valueStates/material_desc/valueStateText}">
                                                                        <layoutData>
                                                                            <FlexItemData growFactor="1"/>
                                                                        </layoutData>
                                                                    </Input>
                                                                    <Text text="{NegoHeaders>material_desc}" visible="{=!${propInfo>/isEditMode}}" wrapping="false" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem"  hAlign="Center">
                                                            <Label text="사양/규격" />
                                                            <t:template>
                                                                <FlexBox >
                                                                    <ComboBox items="{
                                                                            path: '/Sc_Spec_Code_View', 
                                                                            templateShareable:true, 
                                                                            filters: [{path: 'tenant_id', operator: 'EQ', value1: 'L2100'}],
                                                                            sorter: {
                                                                                path: 'sort_no',
                                                                                descending: false
                                                                            }}" 
                                                                        showSecondaryValues= "true"
                                                                        selectedKey="{NegoHeaders>specification}" visible="{=${propInfo>/isEditMode}}"
                                                                        width="100%" >
                                                                        <core:ListItem key="{specification_code}" text="{specification_name}" additionalText="{specification_code}"/>
                                                                    </ComboBox>
                                                                    
                                                                    <Text text="{NegoHeaders>specification_fk/specification_name}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem"  hAlign="Center">
                                                            <Label text="BPA Price" />
                                                            <t:template>
                                                                <FlexBox justifyContent="End">
                                                                    <Input value="{NegoHeaders>bpa_price}" visible="{=${propInfo>/isEditMode}}"  type="Number"  textAlign="Right"/>
                                                                    <Text text="{NegoHeaders>bpa_price}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="8rem" hAlign="Center">
                                                            <Label text="상세단가" />
                                                            <t:template>
                                                                <!-- <FlexBox justifyContent="Center"> -->
                                                                    <Button icon="sap-icon://value-help" press=".createConfirmBox" />
                                                                    <!-- <Input value="{NegoHeaders>detail_net_price}" visible="{=${propInfo>/isEditMode}}"/>
                                                                    <Text text="{NegoHeaders>detail_net_price}" visible="{=!${propInfo>/isEditMode}}" /> -->
                                                                <!-- </FlexBox> -->
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="추천정보" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <Input value="{NegoHeaders>recommend_info}" visible="{=${propInfo>/isEditMode}}" textAlign="Center"/>
                                                                    <Text text="{NegoHeaders>recommend_info}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="Group Id" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <Input value="{NegoHeaders>group_id}" visible="{=${propInfo>/isEditMode}}" textAlign="Center"/>
                                                                    <Text text="{NegoHeaders>group_id}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="Vendor Pool" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <Input showValueHelp="true" value="{NegoHeaders>vendor_pool_code}" visible="{=${propInfo>/isEditMode}}" textAlign="Center"/>
                                                                    <Text text="{NegoHeaders>vendor_pool_code}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="Specific Supplier" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <MultiInput id="multiinput_bp_code" visible="{=${propInfo>/isEditMode}}" 
                                                                        value="{NegoHeaders>specific_supplier_count}"
                                                                        showValueHelp="true" valueHelpRequest=".onSupplierPress" textAlign="Center">
                                                                        <!-- <tokens>
                                                                            <Token key="{key}" text="{text}" />
                                                                        </tokens> -->
                                                                    </MultiInput>
                                                                    <!-- <Input valueHelpRequest=".onSupplierPress" visible="{=${propInfo>/isEditMode}}" value="{NegoHeaders>specific_supplier_count}" showValueHelp="true" valueHelpOnly="true" type="Number" ></Input> -->
                                                                    <Text text="{NegoHeaders>specific_supplier_count}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="수량" required="true"/>
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <Input value="{NegoHeaders>request_quantity}" visible="{=${propInfo>/isEditMode}}" textAlign="Center"
                                                                        valueState="{NegoHeaders>__metadata/_valueStates/request_quantity/valueState}" 
                                                                        valueStateText="{NegoHeaders>__metadata/_valueStates/request_quantity/valueStateText}"/>
                                                                    <Text text="{NegoHeaders>request_quantity}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="UOM" required="true" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <Input value="{NegoHeaders>uom_code}" visible="{=${propInfo>/isEditMode}}" textAlign="Center"
                                                                        valueState="{NegoHeaders>__metadata/_valueStates/uom_code/valueState}" 
                                                                        valueStateText="{NegoHeaders>__metadata/_valueStates/uom_code/valueStateText}"/>
                                                                    <Text text="{NegoHeaders>uom_code}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="통화"  />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <!-- <lib-m:CodeComboBox id="searchCurrencyCombo" width="100%" showSecondaryValues="true" 
                                                                        keyField="currency_code" textField="currency_code_name" 
                                                                        useEmpty="true" emptyText="전체" visible="{=${propInfo>/isEditMode}}"
                                                                        items="{
                                                                            path: '/',
                                                                            filters: [
                                                                                {path: 'tenant_id', operator: 'EQ', value1: 'L2100'}
                                                                            ],
                                                                            sorter: {
                                                                                path: 'currency_code',
                                                                                descending: true
                                                                            },
                                                                            serviceName: 'cm.util.CommonService',
                                                                            entityName: 'Currency'
                                                                        }">
                                                                    </lib-m:CodeComboBox> -->
                                                                    <ComboBox items="{
                                                                            path: 'common>/Currency', 
                                                                            templateShareable:true, 
                                                                            filters: [{path: 'tenant_id', operator: 'EQ', value1: 'L2100'}],
                                                                            sorter: {
                                                                                path: 'currency_code',
                                                                                descending: false
                                                                            }}" 
                                                                        showSecondaryValues= "true"
                                                                        selectedKey="{NegoHeaders>currency_code}" visible="{=${propInfo>/isEditMode}}"
                                                                        width="100%" >
                                                                        <core:ListItem key="{common>currency_code}" text="{common>currency_code_name}" additionalText="{common>currency_code}"/>
                                                                    </ComboBox>
                                                                    <Text text="{NegoHeaders>currency_code}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="회신 통화" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <Input showValueHelp="true" value="{NegoHeaders>response_currency_code}" visible="{=${propInfo>/isEditMode}}" textAlign="Center"/>
                                                                    <Text text="{NegoHeaders>response_currency_code}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="Excange Rate Type" />
                                                            <t:template>
                                                                <Label text="{NegoHeader>exrate_type_code}" />
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="환율 적용날짜" />
                                                            <t:template>
                                                                <Label text="{NegoHeader>exrate_date}" />
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="Start Price" />
                                                            <t:template>
                                                                <FlexBox justifyContent="End">
                                                                    <Input value="{NegoHeaders>bidding_start_net_price}" visible="{=${propInfo>/isEditMode}}" textAlign="Right"  type="Number" />
                                                                    <Text text="{NegoHeaders>bidding_start_net_price}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="8rem" hAlign="Center" >
                                                            <Label text="협력사 공개" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <ToggleButton text="{=${NegoHeaders>bidding_start_net_price_flag} === 'Y' ? 'YES' : 'NO'}" 
                                                                        visible="{=${propInfo>/isEditMode}}" pressed="{=${NegoHeaders>bidding_start_net_price_flag} === 'Y' ? true : false}"  
                                                                        press="onPressBiddingFlag"/>

                                                                    <!-- <lib-m:FlagToggleButton  enabled="{=${propInfo>/isEditMode}}" pressed="{NegoHeaders>bidding_start_net_price_flag}" /> -->
                                                                    <Text text="{=${NegoHeaders>bidding_start_net_price_flag} === 'Y' ? 'YES' : 'NO'}" visible="{=!${propInfo>/isEditMode}}" /> 
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="Target Price" />
                                                            <t:template>
                                                                <FlexBox justifyContent="End">
                                                                    <Input value="{NegoHeaders>bidding_target_net_price}" visible="{=${propInfo>/isEditMode}}" textAlign="Right"  type="Number" />
                                                                    <Text text="{NegoHeaders>bidding_target_net_price}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="현재 단가" />
                                                            <t:template>
                                                                <FlexBox justifyContent="End">
                                                                    <Input value="{NegoHeaders>current_price}" visible="{=${propInfo>/isEditMode}}" textAlign="Right"  type="Number" />
                                                                    <Text text="{NegoHeaders>current_price}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center" visible="false">
                                                            <Label text="S/Parts 공급유형" />
                                                            <t:template>
                                                                <Label text="{}" />
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                                            <Label text="납기요청일" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <!-- <DatePicker 
                                                                            valueFormat="yyyy/MM/dd" displayFormat="yyyy/MM/dd" visible="{=${propInfo>/isEditMode}}"
                                                                            value="{path: 'NegoHeaders>maturity_date', type: 'sap.ui.model.odata.type.Date', 
                                                                                    formatOptions: { pattern: 'yyyy/MM/dd' , UTC: true} }" /> -->
                                                                    <Text text="{path: 'NegoHeaders>maturity_date', type: 'sap.ui.model.odata.type.Date', 
                                                                        formatOptions: { pattern: 'yyyy/MM/dd' , UTC: true} }"  />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                                            <Label text="Location" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <!-- <Input value="" visible="{=${propInfo>/isEditMode}}"/> -->
                                                                    <Text text="{NegoHeaders>location}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                                            <Label text="목적" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <!-- <Input value="{NegoHeaders>purpose}" visible="{=${propInfo>/isEditMode}}"/> -->
                                                                    <Text text="{NegoHeaders>purpose}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                                            <Label text="사유" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <!-- <Input value="{NegoHeaders>reason}" visible="{=${propInfo>/isEditMode}}"/> -->
                                                                    <Text text="{NegoHeaders>reason}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                                            <Label text="예산 부서"  />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <!-- <Input value="{NegoHeaders>budget_department_code}" visible="{=${propInfo>/isEditMode}}" textAlign="Center"/> -->
                                                                    <Text text="{NegoHeaders>budget_department_code}"/>
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                                            <Label text="요청자" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <!-- <Input value="{NegoHeaders>requestor_empno}" visible="{=${propInfo>/isEditMode}}" textAlign="Center"/> -->
                                                                    <Text text="{NegoHeaders>requestor_empno}"  />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                                            <Label text="요청 부서" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <!-- <Input value="{NegoHeaders>request_department_code}" visible="{=${propInfo>/isEditMode}}"/> -->
                                                                    <Text text="{NegoHeaders>request_department_code}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                                            <Label text="요청 날짜" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <!-- <Input value="" visible="{=${propInfo>/isEditMode}}"/> -->
                                                                    <Text text="{NegoHeaders>request_date}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="첨부파일" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <u:FileUploader uploadComplete="handleUploadComplete" change=".createConfirmBox" style="Transparent" 
                                                                    buttonOnly="true" iconOnly="true" icon="sap-icon://value-help" tooltip="Upload"  />
                                                                    <!-- <Input value="{NegoHeaders>attch_code}" visible="{=${propInfo>/isEditMode}}"/>
                                                                    <Text text="{NegoHeaders>attch_code}" visible="{=!${propInfo>/isEditMode}}" /> -->
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="20rem" hAlign="Center">
                                                            <Label text="협력사 제공정보" />
                                                            <t:template >
                                                                <FlexBox width="100%" >
                                                                    <!-- You can enter up to 500 characters. -->
                                                                    <Input value="{NegoHeaders>supplier_provide_info}" visible="{=${propInfo>/isEditMode}}"
                                                                    placeholder="최대 500 자까지 입력 할 수 있습니다." width="100%" fieldWidth="100%" maxLength="500">
                                                                        <layoutData>
                                                                            <FlexItemData growFactor="1"/>
                                                                        </layoutData>
                                                                    </Input>
                                                                    <Text text="{NegoHeaders>supplier_provide_info}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="Incoterms" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <ComboBox items="{
                                                                            path: '/Sc_Incoterms_View', 
                                                                            templateShareable:true, 
                                                                            filters: [{path: 'tenant_id', operator: 'EQ', value1: 'L2100'}],
                                                                            sorter: {
                                                                                path: 'sort_no',
                                                                                descending: true
                                                                            }}" 
                                                                        showSecondaryValues= "true"
                                                                        selectedKey="{NegoHeaders>incoterms_code}" visible="{=${propInfo>/isEditMode}}"
                                                                        width="100%" >
                                                                        <core:ListItem key="{incoterms_code}" text="{incoterms_name}" additionalText="{incoterms_code}"/>
                                                                    </ComboBox>
                                                                    <Text text="{NegoHeaders>incoterms/incoterms_name}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="Payment Terms" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <ComboBox items="{
                                                                            path: '/Sc_Payment_Terms_View', 
                                                                            templateShareable:true, 
                                                                            filters: [{path: 'tenant_id', operator: 'EQ', value1: 'L2100'}],
                                                                            sorter: {
                                                                                path: 'sort_no',
                                                                                descending: true
                                                                            }}" 
                                                                        showSecondaryValues= "true"
                                                                        selectedKey="{NegoHeaders>payment_terms_code}" visible="{=${propInfo>/isEditMode}}"
                                                                        width="100%" >
                                                                        <core:ListItem key="{payment_terms_code}" text="{payment_terms_name}" additionalText="{payment_terms_code}"/>
                                                                    </ComboBox>
                                                                    <Text text="{NegoHeaders>payment_terms/payment_terms_name}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="Martket" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <ComboBox items="{
                                                                            path: '/Sc_Market_Code_View', 
                                                                            templateShareable:true, 
                                                                            filters: [{path: 'tenant_id', operator: 'EQ', value1: 'L2100'}],
                                                                            sorter: {
                                                                                path: 'sort_no',
                                                                                descending: true
                                                                            }}" 
                                                                        showSecondaryValues= "true"
                                                                        selectedKey="{NegoHeaders>market_code}" visible="{=${propInfo>/isEditMode}}"
                                                                        width="100%" >
                                                                        <core:ListItem key="{market_code}" text="{market_name}" additionalText="{market_code}"/>
                                                                    </ComboBox>
                                                                    <Text text="{NegoHeaders>market/market_name}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                    </t:columns>
                                                </t:Table>  
                                            </smartTable:SmartTable>


                                            <Panel id="panel_SuppliersContent" width="100%" expandable="true" expanded="false" headerText="{I18N>/SUPPLIERS_TITLE}">
                                                <form:SimpleForm editable="true"  layout="ColumnLayout"
                                                    columnsM="2" width="100%" 
                                                    columnsL="3"
                                                    columnsXL="4">
                                                    <Label  text="Requisition No" />
                                                    <Text   text="{NegoItemPrices>/pr_number}" />
                                                    <Label  text="Material Code" />
                                                    <Text   text="{NegoItemPrices>/material_code}" />
                                                    <Label  text="Description" />
                                                    <Text   text="{NegoItemPrices>/material_desc}"/>
                                                    <Label  text="Vendor Pool" />
                                                    <Text   text="{NegoItemPrices>/vendor_pool_code}"/>
                                                </form:SimpleForm>
                                                
                                                <Panel id="panel_Evaluation" expandable="true" expanded="true" headerText="{I18N>/NW_SECTION_TITLE_SUPPLIER_01}">
                                                    <Table 
                                                        sticky="HeaderToolbar,ColumnHeaders" 
                                                        inset="false" 
                                                        class="sapFDynamicPageAlignContent" 
                                                        mode="None"
                                                        width="auto">
                                                        <columns>
                                                            <!-- <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="Seq" />
                                                            </Column> -->
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="Supplier Code" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="Supplier Name" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="Supplier Type" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="Only Maker Flag" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="Contact" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="Except Flag" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="Reason" />
                                                            </Column>
                                                        </columns>
                                                        <items>
                                                            <!-- <ColumnListItem type="Inactive" >
                                                                <cells>
                                                                    <Text text="1"/>
                                                                    <Text text="CN000260"/>
                                                                    <Text text="LGDKR_TRIPOD(WUXI) ELECTRONIC CO. LTD_CN000260"/>
                                                                    <Text text="RAW MATERIAL"/>
                                                                    <Text text="Y"/>
                                                                    <ObjectStatus  icon="sap-icon://person-placeholder"/>
                                                                    <CheckBox />
                                                                    <Text text=""/>
                                                                </cells>
                                                            </ColumnListItem>
                                                            <ColumnListItem type="Inactive" >
                                                                <cells>
                                                                    <Text text="2"/>
                                                                    <Text text="CN000351"/>
                                                                    <Text text="LGDKR_TRIPOD(WUXI) ELECTRONIC CO. LTD_CN000351"/>
                                                                    <Text text="RAW MATERIAL"/>
                                                                    <Text text="N"/>
                                                                    <ObjectStatus  icon="sap-icon://person-placeholder"/>
                                                                    <CheckBox />
                                                                    <Text text=""/>
                                                                </cells>
                                                            </ColumnListItem> -->
                                                        </items>
                                                    </Table>
                                                </Panel>
                                                <Panel id="panel_Potential" expandable="true" expanded="true" headerText="{I18N>/NW_SECTION_TITLE_SUPPLIER_02}">
                                                    <Table 
                                                        sticky="HeaderToolbar,ColumnHeaders" 
                                                        inset="false" 
                                                        class="sapFDynamicPageAlignContent" 
                                                        mode="None"
                                                        width="auto">
                                                        <columns>
                                                            <!-- <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="Seq" />
                                                            </Column> -->
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="Supplier Code" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="Supplier Name" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="Contact" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="Include Flag" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="Reason" />
                                                            </Column>
                                                        </columns>
                                                        <items>
                                                            <!-- <ColumnListItem type="Inactive" >
                                                                <cells>
                                                                    <Text text=""/>
                                                                    <Text text=""/>
                                                                    <Text text=""/>
                                                                    <Text text=""/>
                                                                    <Text text=""/>
                                                                    <Text text=""/>
                                                                </cells>
                                                            </ColumnListItem> -->
                                                        </items>
                                                    </Table>
                                                </Panel>
                                                <Panel id="panel_Specific" expandable="true" expanded="true" headerText="{I18N>/NW_SECTION_TITLE_SUPPLIER_03}">
                                                    <Table 
                                                        id="table_Specific"
                                                        sticky="HeaderToolbar,ColumnHeaders" 
                                                        inset="false" 
                                                        class="sapFDynamicPageAlignContent"     
                                                        
                                                        mode="{=${propInfo>/isEditMode} ? 'MultiSelect' : 'None' }"
                                                        items="{
                                                            path : 'NegoItemPrices>/Suppliers',
                                                            filters : [
                                                                { path : 'nego_supplier_register_type_code', operator : 'EQ', value1 : 'S'}
                                                            ],
                                                            sorter: [
                                                                {path: 'item_supplier_sequence', descending: false}
                                                            ]
                                                        }"
                                                        width="auto">
                                                        <headerToolbar>
                                                            <OverflowToolbar visible="{=${propInfo>/isEditMode}}">
                                                                <ToolbarSpacer/>
                                                                <Button  text="Supplier Add" type="Transparent" press=".onSupplierLoadPopup" />
                                                                <Button  text="{I18N>/ROW_DELETE}" type="Transparent" press=".onDeleteSuppliers" />
                                                            </OverflowToolbar>
                                                        </headerToolbar>
                                                        <columns>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true" width="40px">
                                                                <Text text="" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true" width="15%">
                                                                <Text text="Supplier Code" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true" width="35%">
                                                                <Text text="Supplier Name" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true" width="15%">
                                                                <Text text="Evaluate Type" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true" width="15%">
                                                                <Text text="Supplier Type" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true" width="10%">
                                                                <Text text="Only Maker Flag" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true" width="10%">
                                                                <Text text="Contact" />
                                                            </Column>
                                                            <!-- <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="Delete" />
                                                            </Column> -->
                                                        </columns>
                                                        <items>
                                                            <ColumnListItem type="Inactive" >
                                                                <cells>
                                                                    <!-- <Text text="{NegoItemPrices>item_supplier_sequence}">
                                                                        <customData>
                                                                            <core:CustomData key="item_supplier_sequence" value='{NegoItemPrices>item_supplier_sequence}'/>
                                                                        </customData>
                                                                    </Text> -->
                                                                    <ObjectStatus icon="{
                                                                        path: 'NegoItemPrices>_row_state_',
                                                                        formatter: '.formatter.toModelStateColumnIcon'
                                                                    }" />
                                                                    <Label text="{NegoItemPrices>supplier_code}"/>
                                                                    <Label text="{NegoItemPrices>supplier_name}"/>
                                                                    <Label text="{NegoItemPrices>evaluation_type_name}"/>
                                                                    <Label text="{NegoItemPrices>supplier_type_name}"/>
                                                                    <Label text="{NegoItemPrices>only_maker_flag}"/>
                                                                    <Button icon="sap-icon://value-help" />
                                                                    <!-- <Text text=""/> -->
                                                                </cells>
                                                            </ColumnListItem>
                                                        </items>
                                                    </Table>
                                                </Panel>
                                            </Panel>

                                        </VBox>                 
                                    </Panel>
                                </uxap:ObjectPageSubSection>
                            </uxap:subSections>
                        </uxap:ObjectPageSection>
                    </uxap:sections>
                    <!-- Line End -->
                    <uxap:footer>
                        <OverflowToolbar>
                            <ToolbarSpacer />
                            <Button text="{I18N>/TEMP_SAVE}" visible="{=${propInfo>/isEditMode}}" type="Emphasized" press=".onPageSaveButtonPress" />
                            <Button text="{I18N>/CANCEL}" visible="{=${propInfo>/isEditMode}}" type="Transparent" press=".onPageCancelButtonPress" />
                            <Button text="{I18N>/DELETE}" visible="{=${propInfo>/isEditMode}}" type="Transparent" press=".onPageDeleteButtonPress" />
                            <Button text="{I18N>/EDIT}" visible="{=!${propInfo>/isEditMode}}" type="Transparent" press=".onPageEditButtonPress" />
                        </OverflowToolbar>
                    </uxap:footer>
                </uxap:ObjectPageLayout>
            </content>
        </Page>
    </App>
</mvc:View>