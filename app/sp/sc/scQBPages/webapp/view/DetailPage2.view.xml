<mvc:View controllerName="sp.sc.scQBPages.controller.DetailPage2"
	xmlns:mvc="sap.ui.core.mvc" 
	xmlns="sap.m" 
	xmlns:uxap="sap.uxap" 
	xmlns:layout="sap.ui.layout" 
    xmlns:form="sap.ui.layout.form"
	xmlns:core="sap.ui.core"
    xmlns:rte="sap.ui.richtexteditor"
    xmlns:co="sap.suite.ui.commons"
    xmlns:si="sap.suite.ui.commons.statusindicator"
    xmlns:u="sap.ui.unified"
    xmlns:t="sap.ui.table"
    xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:lib-m="ext.lib.control.m"
	height="100%">

    <!-- <Page showNavButton="true" navButtonPress=".onNavBack"  title="견적계획"> -->
    <App id="idAppControl">
        <Page title="{I18N>/BIDDING_PLAN}" showNavButton="true" navButtonType="Back" navButtonPress="onNavBack"> 
            <content>
                    <!-- toggleHeaderOnTitleClick="true"
                    alwaysShowContentHeader = "true"
                    preserveHeaderStateOnScroll="false"
                    headerContentPinnable="true"
                    isChildPage="true"
                    upperCaseAnchorBar="false"
                    showTitleInHeaderContent="true"
                    showEditHeaderButton="true" 
                    showFooter="true" -->
                <uxap:ObjectPageLayout id="page"
                     alwaysShowContentHeader="false" preserveHeaderStateOnScroll="true" headerContentPinnable="false" upperCaseAnchorBar="false" enableLazyLoading="true" showFooter="true" class="sapUiContentPadding"
                    >
                    <uxap:headerTitle>
                        <uxap:ObjectPageDynamicHeaderTitle>
                            <!-- <uxap:navigationActions> </uxap:navigationActions> -->
                            <uxap:expandedHeading>                  
                                <!-- <Title text="견적 계획" wrapping="true" /> -->
                            </uxap:expandedHeading>
                            <uxap:snappedHeading>
                                <!-- <Title text="견적 계획" wrapping="true" /> -->
                            </uxap:snappedHeading>
                            <uxap:snappedContent>
                            </uxap:snappedContent>			
                            <uxap:navigationActions>
                                <!-- <OverflowToolbarButton id="pageNavBackButton" type="Transparent" icon="sap-icon://decline" text="back" tooltip="back to the list" press=".onNavBack" visible="{= ${/actionButtonsInfo/midColumn/closeColumn} !== null }"/> -->
                            </uxap:navigationActions> 
                        </uxap:ObjectPageDynamicHeaderTitle>
                    </uxap:headerTitle>

                    <uxap:headerContent>
                        <FlexBox wrap="Wrap" >
                            
                            <layout:VerticalLayout class="sapUiSmallMarginBeginEnd" width="30rem">
                                <ObjectStatus id="objectStatus_nego_document_number" title="{I18N>/NEGO_DOCUMENT_NUMBER}" text="{path: 'NegoHeaders>/nego_document_number'}" class="sapUiLargeMarginBegin" />
                                <ObjectStatus title="{I18N>/BUYER}" text="{NegoHeaders>/buyer_employee/employee_name} [{NegoHeaders>/buyer_employee/department_name}]" class="sapUiLargeMarginBegin" />
                                <ObjectStatus title="{I18N>/NW_CREATE_DTM}" text="{path: 'NegoHeaders>/local_create_dtm', type: 'sap.ui.model.odata.type.Date', 
                                                                        formatOptions: { pattern: 'yyyy/MM/dd' , UTC: true} }"  class="sapUiLargeMarginBegin" />
                            </layout:VerticalLayout>

                            <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                                <Label text="{I18N>/NEGO_PROGRESS_STATUS_CODE} :"/>
                                <ObjectStatus class="sapMObjectStatusLarge" text="{path: 'NegoHeaders>/nego_progress_status/nego_progress_status_name' }" state="Error" />
                            </layout:VerticalLayout>
                            <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                              
                            </layout:VerticalLayout>
                        </FlexBox>
                    </uxap:headerContent>

                    <!-- Header Start -->
                    <uxap:sections>
                        <uxap:ObjectPageSection id="objectPageSection" titleUppercase="false" title="{I18N>/NW_SECTION_TITLE_HEADER}" >
                            <uxap:subSections >
                                <uxap:ObjectPageSubSection>
                                    <uxap:blocks>
                                        <Panel id="panel_Header" expandable="true" expanded="true" headerText="{I18N>/NW_SECTION_TITLE_HEADER} {I18N>/NW_CONTENT}"  >
                                            <content>
                                                <layout:Grid
                                                    hSpacing="1"
                                                    defaultSpan="XL12 L12 M12 S12">
                                                    <layout:content>
                                                        <form:SimpleForm id="formHeader1" maxContainerCols="2" editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="false" labelSpanL="0"         labelSpanM="0" emptySpanL="0" emptySpanM="0" columnsL="3" columnsM="3">
                                                            <form:content>
                                                                <VBox class="sapUiNoMarginBottom">
                                                                    <Label  text="{I18N>/NEGO_DOCUMENT_NUMBER}:"  />
                                                                    <Input  id="inputNegotiationNo" value="{NegoHeaders>/nego_document_number}" enabled="false" visible="{=${propInfo>/isEditMode} }"/>
                                                                    <Text  id="textNegotiationNo" text="{NegoHeaders>/nego_document_number}" visible="{=!${propInfo>/isEditMode} }"/>
                                                                </VBox>

                                                                <VBox class="sapUiNoMarginBottom">
                                                                    <Label text="{I18N>/NEGO_TYPE_CODE}:"  />
                                                                    <Text  id="textType" text="{NegoHeaders>/nego_type/nego_type_name}" />
                                                                        
                                                                    <!-- nego type name 위한 temp성 콤보 -->
                                                                    <ComboBox id="comboBoxTypeTemp" items="{
                                                                            path: '/Sc_Nego_Type_Code_texts', 
                                                                            templateShareable:true, 
                                                                            filters: [{path: 'tenant_id', operator: 'EQ', value1: 'L2100'}],
                                                                            sorter: {
                                                                                path: 'locale',
                                                                                descending: true
                                                                            }
                                                                        }" 
                                                                        editable="false" enabled="false" visible="false"
                                                                        selectedKey="{NegoHeaders>/nego_type_code}" value="{NegoHeaders>/nego_type/nego_type_name}"
                                                                        width="100%" >
                                                                        <core:ListItem key="{nego_type_code}" text="{nego_type_name}" />
                                                                    </ComboBox>
                                                                </VBox>

                                                                <VBox class="sapUiNoMarginBottom">
                                                                    <Label text="{I18N>/OUTCOME_CODE}:"   />
                                                                    <Text  id="textOutcome" text="{NegoHeaders>/outcome/outcome_name}" />
                                                                </VBox>
                                                            </form:content>
                                                        </form:SimpleForm>
                                                        
                                                        <VBox  class="sapUiMediumMarginTop">
                                                            <Label text="{I18N>/NEGO_DOCUMENT_TITLE}:" required="true" class="nameTitle"  />
                                                            
                                                            <Input  id="inputTitle" width="100%" value="{NegoHeaders>/nego_document_title}" visible="{=${propInfo>/isEditMode}}"
                                                                placeholder="최대 300자까지 입력 할 수 있습니다." maxLength="300"/>
                                                            <Text  id="textTitle" text="{NegoHeaders>/nego_document_title}" visible="{=!${propInfo>/isEditMode} }"/>
                                                        </VBox>
                                                    
                                                        <VBox class="sapUiMediumMarginTop">
                                                            <Label  text="{I18N>/NEGO_DOCUMENT_DESC}:" class="nameTitle sapUiTinyMarginBottom" />
                                                            <rte:RichTextEditor id="reDescription" editorType="TinyMCE4" width="100%" height="400px" customToolbar="true" 
                                                                showGroupFont="true" showGroupLink="true" showGroupInsert="false" value="{NegoHeaders>/nego_document_desc}"
                                                                
                                                                />
                                                            <!-- <FormattedText id="formTextDescription" htmlText="{NegoHeaders>/nego_document_desc}" visible="{=!${propInfo>/isEditMode}}"/> -->
                                                        </VBox>

                                                        <VBox  width="100%" height="100%" alignItems="Start" class="sapUiMediumMarginTop" >
                                                            <Label  text="{I18N>/NW_QUATE_STYLE}:" class="nameTitle " />
                                                            <RadioButtonGroup id="rbg1" columns="2" width="100%" selectedIndex="{=${NegoHeaders>/negotiation_style_code}==='Blind' ? 1 : 0 }" 
                                                                visible="{=${propInfo>/isEditMode}}" 
                                                                buttons="{
                                                                    path: '/Sc_Negotiation_Style_Map', 
                                                                    templateShareable:true, 
                                                                    sorter: {
                                                                        path: 'negotiation_style_code',
                                                                        descending: false
                                                                    }}"
                                                                    >
                                                                    <!-- filters: [{path: 'nego_type_code', operator: 'EQ', value1: ${NegoHeaders>/nego_type_code} }], -->
                                                                <RadioButton key="{negotiation_style_code}" text="{negotiation_style_name}" >
                                                                    <customData>
                                                                        <core:CustomData key="negotiation_style_code" value='{negotiation_style_code}'/>
                                                                    </customData>
                                                                </RadioButton>
                                                                <!-- <RadioButton text="Sealed (Purchaser : X,Supplier :X)" />
                                                                <RadioButton text="Blind (Purchaser : O,Supplier :X)" /> -->
                                                            </RadioButtonGroup>
                                                            <Text text="{NegoHeaders>/negotiation_style/negotiation_style_name}" visible="{=!${propInfo>/isEditMode}}"  class="sapUiTinyMarginEnd"/>
                                                        
                                                        </VBox>

                                                        <HBox  width="100%"  class="sapUiMediumMarginTop">
                                                            <VBox width="50%">
                                                            
                                                                <Label  text="{I18N>/NW_PERIOD}:" width="100px" required="true" class="sapMLabelNoText"/> 
                                                                <HBox  height="100%" alignItems="Center" >
                                                                    <CheckBox id="checkbox_Immediately" text="{I18N>/NW_IMMEDIATELY}" selected="{=${NegoHeaders>/immediate_apply_flag}==='Y'}" editable="{=${propInfo>/isEditMode}}"
                                                                        select="selectImmediately" /> 
                                                                    <ToolbarSpacer width="1rem"/> 
                                                                    <FlexBox>
                                                                        <DateTimePicker id="searchOpenDatePicker" placeholder="Open Date ..." 
                                                                            valueFormat="yyyy/MM/ddTHH:mm" displayFormat="yyyy/MM/dd HH:mm" visible="{=${propInfo>/isEditMode}}"
                                                                            value="{path: 'NegoHeaders>/open_date', type: 'sap.ui.model.odata.type.DateTime', 
                                                                                    formatOptions: { pattern: 'yyyy/MM/dd HH:mm' , UTC: true} }" />
                                                                        <Text text="{path: 'NegoHeaders>/open_date', type: 'sap.ui.model.odata.type.DateTime', 
                                                                                    formatOptions: { pattern: 'yyyy/MM/dd HH:mm' , UTC: true} }" visible="{=!${propInfo>/isEditMode}}"  class="sapUiTinyMarginEnd"/>
                                                                    </FlexBox>
                                                                    <Text text="~" class="sapUiTinyMarginBegin sapUiTinyMarginEnd" />
                                                                    <FlexBox>
                                                                        <DateTimePicker id="searchEndDatePicker" placeholder="End Date ..." 
                                                                            valueFormat="yyyy/MM/ddTHH:mm" displayFormat="yyyy/MM/dd HH:mm" visible="{=${propInfo>/isEditMode}}"
                                                                            value="{path: 'NegoHeaders>/closing_date', type: 'sap.ui.model.odata.type.DateTime', 
                                                                                    formatOptions: { pattern: 'yyyy/MM/dd HH:mm' , UTC: true} }" />
                                                                        <Text text="{path: 'NegoHeaders>/closing_date', type: 'sap.ui.model.odata.type.DateTime', 
                                                                                    formatOptions: { pattern: 'yyyy/MM/dd HH:mm' , UTC: true} }" visible="{=!${propInfo>/isEditMode}}"  class="sapUiTinyMarginEnd"/>
                                                                    </FlexBox>
                                                                </HBox>
                                                            </VBox>

                                                            <HBox  width="50%" height="100%" alignItems="Center" >
                                                                <HBox alignContent="Center" alignItems="Center" width="100%" class="sapUiSmallMarginEnd">
                                                                    <VBox width="100px">
                                                                        <Label text="{I18N>/NW_MAX_ROUND_COUNT}:" width="160px"  required="true" class="sapMLabelNoText"/>
                                                                        <Input value="{NegoHeaders>/max_round_count}" width="100%" visible="{=${propInfo>/isEditMode}}" />
                                                                        <Text text="{NegoHeaders>/max_round_count}" width="100%" visible="{=!${propInfo>/isEditMode}}" textAlign="Center"/>
                                                                    </VBox>
                                                                    <VBox>
                                                                        <Label text=""  class="sapMLabelNoText"/>
                                                                        <CheckBox select="selectedAutoRound" selected="{=${NegoHeaders>/auto_round}==='Y'}" editable="{=${propInfo>/isEditMode}}"/>
                                                                        <!-- <CheckBox id="checkbox_Immediately" text="{I18N>/NW_IMMEDIATELY}" selected="{=${NegoHeaders>/immediate_apply_flag}==='Y'}" editable="{=${propInfo>/isEditMode}}"
                                                                        select="selectImmediately" />  -->
                                                                    </VBox>
                                                                    <VBox>
                                                                        <Label text=""  class="sapMLabelNoText"/>
                                                                        <Text text="{I18N>/NW_AUTO_ROUND}" class="sapUiTinyMarginEnd"/>
                                                                    </VBox>
                                                                    <VBox>
                                                                        <Label text=""  class="sapMLabelNoText"/>
                                                                        <Input value="{NegoHeaders>/auto_round_terms}" width="100px"  visible="{=${propInfo>/isEditMode}}"  />
                                                                        <Text text="{NegoHeaders>/auto_round_terms}" width="100px" visible="{=!${propInfo>/isEditMode}}" textAlign="Center"/>
                                                                    </VBox>
                                                                    <VBox class="sapUiLargeMarginEnd">
                                                                        <Label text=""  class="sapMLabelNoText"/>
                                                                        <Text text="{I18N>/NW_MINUTE}" class="sapUiTinyMarginBegin sapUiMediumMarginEnd"/>
                                                                    </VBox>
                                                                    <VBox class="sapUiLargeMarginBegin">
                                                                        <Label text="{I18N>/NW_PREVIOUS_ROUND}:" class="sapMLabelNoText"/>
                                                                        <SegmentedButton id="prSegmentButton" selectedKey="{NegoHeaders>/previous_round}" 
                                                                            visible="{=${propInfo>/isEditMode}}" >
                                                                            <items>
                                                                                <SegmentedButtonItem key="Y" text="Yes"/>
                                                                                <SegmentedButtonItem key="N" text="No" />
                                                                            </items>
                                                                        </SegmentedButton>   
                                                                        <Text text="{=${NegoHeaders>/previous_round}==='Y' ? 'Yes' : 'No'}" visible="{=!${propInfo>/isEditMode}}" /> 
                                                                    </VBox>
                                                                </HBox>
                                                            </HBox>
                                                        </HBox>

                                                        <VBox  class="sapUiMediumMarginTop">
                                                            <Label  text="{I18N>/NW_NOTE_TO_SUPPLIER}:" class="sapMLabelNoText sapUiTinyMarginBottom"/>
                                                            <rte:RichTextEditor id="reNoteToSupplier" editorType="TinyMCE4" width="100%" height="400px" customToolbar="true" 
                                                                value="{NegoHeaders>/note_content}" showGroupFont="true" showGroupLink="true" showGroupInsert="false"/>
                                                            <!-- <FormattedText id="formTextNoteToSupplier" htmlText="{NegoHeaders>/note_content}"  visible="{=!${propInfo>/isEditMode}}"/> -->
                                                        </VBox>

                                                        <!-- <smartTable:SmartTable tableType="Table"
                                                            useExportToExcel="false" 
                                                            useTablePersonalisation="true" 
                                                            enableAutoBinding="true" 

                                                            
                                                            
                                                            header="Attachments" showRowCount="true" 
                                                            
                                                            class="sapUiSmallMarginBottom"
                                                            >
                                                            <smartTable:customToolbar>
                                                                <OverflowToolbar>
                                                                   
                                                                    <ToolbarSpacer/>
                                                                    
                                                                    <Button text="Load Attached file From Requisition" type="Transparent" press=".onMidTableAddButtonPress" visible="{=${propInfo>/isEditMode}}" />
                                                                    <Button text="{I18N>/ROW_ADD}" type="Transparent" press=".onMidTableDeleteButtonPress" visible="{=${propInfo>/isEditMode}}" />
                                                                
                                                                </OverflowToolbar>

                                                            </smartTable:customToolbar> -->

                                                            <Table id="tableAttachments" 
                                                                sticky="HeaderToolbar,ColumnHeaders" 
                                                                inset="false" 
                                                                class="sapFDynamicPageAlignContent sapUiMediumMarginTop" 
                                                                mode="None" noDataText="파일 없음"
                                                                width="auto">
                                                                <headerToolbar>
                                                                    <OverflowToolbar>
                                                                        <Title text="{I18N>/Attachments} (0)" level="H2"/>
                                                                        <ToolbarSpacer/>
                                                                        
                                                                        <Button text="Load Attached file From Requisition" type="Transparent" press=".createConfirmBox" visible="{=${propInfo>/isEditMode}}" />
                                                                        <Button text="{I18N>/ROW_ADD}" type="Transparent" press=".createConfirmBox" visible="{=${propInfo>/isEditMode}}" />
                                                                    
                                                                    </OverflowToolbar>
                                                                </headerToolbar>
                                                                <columns>
                                                                    
                                                                    <!-- language_code -->
                                                                    <Column  minScreenWidth="Tablet" hAlign="Center" demandPopin="true" >
                                                                        <Text text="Type" />
                                                                    </Column>
                                                                    <Column minScreenWidth="Tablet" hAlign="Center" >
                                                                        <Text text="File Name" />
                                                                    </Column>
                                                                    <!-- <Column minScreenWidth="Tablet" hAlign="Center"  visible="{= ${util>/flag} === 'S' ?  true : false}" demandPopin="true">
                                                                        <Text text="File Name" />
                                                                    </Column> -->
                                                                    <Column minScreenWidth="Tablet" hAlign="Center"  >
                                                                        <Text text="Description" />
                                                                    </Column>
                                                                    <Column minScreenWidth="Tablet" hAlign="Center"  >
                                                                        <Text text="Submission No" />
                                                                    </Column>
                                                                    <Column minScreenWidth="Tablet" hAlign="Center"  >
                                                                        <Text text="Title" />
                                                                    </Column>
                                                                    <Column minScreenWidth="Tablet" hAlign="Center"  >
                                                                        <Text text="Delete" />
                                                                    </Column>
                                                                </columns>
                                                                <items>
                                                                    <!-- <ColumnListItem type="Inactive" >
                                                                        <cells>
                                                                            <Text text="txt"/>
                                                                            <Text text="fileName1"/>
                                                                            <Text text="Timing Controller ** SW0887A, SI"/>
                                                                            <Text text="2198849-1"/>
                                                                            <Text text="20109040_미정단가_홍길동"/>
                                                                            <CheckBox />  
                                                                        </cells>
                                                                    </ColumnListItem>-->
                                                                    <!-- <ColumnListItem type="Inactive" >
                                                                        <cells>
                                                                            <Text text="{viewModel>tenant_id}"/>
                                                                            <Text text="{viewModel>nego_header_id}"/>
                                                                            <Text text="{viewModel>nego_document_number}"/>
                                                                            <Text text="2198865-1"/>
                                                                            <Text text="20109046_미정단가_홍길동"/>
                                                                            <CheckBox />  
                                                                        </cells>
                                                                    </ColumnListItem>  -->
                                                                </items>
                                                            </Table>
                                                        <!-- </smartTable:SmartTable> -->
                                                    </layout:content>
                                                </layout:Grid>
                                            </content>
                                        </Panel>
                                    </uxap:blocks>
                                </uxap:ObjectPageSubSection>
                                <!-- <uxap:ObjectPageSubSection></uxap:ObjectPageSubSection> -->
                            </uxap:subSections>
                        </uxap:ObjectPageSection>
                    </uxap:sections>
                    <!-- Header End -->
                    <!-- Control Start -->
                    <uxap:sections>
                        <uxap:ObjectPageSection titleUppercase="false" title="{I18N>/NW_SECTION_TITLE_CONTROL}" visible="true">
                            <uxap:subSections>
                                <uxap:ObjectPageSubSection>
                                    <Panel id="panel_Control" expandable="true" expanded="true" headerText="{I18N>/NW_SECTION_TITLE_CONTROL} {I18N>/NW_CONTENT}">
                                        <form:SimpleForm  
                                            class="sapUiTinyMargin "
                                            layout="ResponsiveGridLayout"
                                            editable="true"
                                            visible="{=${propInfo>/isEditMode}}">
                                            <form:content>
                                                <VBox width="100%">
                                                    <HBox width="100%" class="sapUiSmallMarginBottom"  >
                                                        <VBox width="25%">
                                                            <Label  text="{I18N>/AWARD_TYPE_CODE}:" 
                                                                    required="true"
                                                                    class="sapMLabelNoText"/> 
                                                            <Select width="90%" selectedKey="{NegoHeaders>/award_type_code}" change="selectAwardTypeChange"
                                                                    items="{
                                                                        path: '/Sc_Award_Type_Code_View',
                                                                        filters: [
                                                                            {path: 'tenant_id', operator: 'EQ', value1: 'L2100'},
                                                                            {path: 'award_type_code', operator: 'EQ', value1: '010'},
                                                                            {path: 'award_type_code', operator: 'EQ', value1: '020'}
                                                                        ],
                                                                        sorter: {
                                                                            path: 'sort_no',
                                                                            descending: true
                                                                        }}">
                                                                <core:Item key="{award_type_code}" text="{award_type_name}" />
                                                            </Select > 
                                                            <layoutData>
                                                                <layout:GridData span="XL3 L4 M6 S12"/>
                                                            </layoutData>
                                                        </VBox>
                                                        <VBox width="25%" class=" "   >
                                                            <Label  text="{I18N>/TARGET_AMOUNT_CONFIG_FLAG}:" 
                                                                    class="sapMLabelNoText"/>
                                                            <SegmentedButton selectedKey="{NegoHeaders>/target_amount_config_flag}" >
                                                                <items>
                                                                    <SegmentedButtonItem key="Y" text="Yes"/>
                                                                    <SegmentedButtonItem key="N" text="No" />
                                                                </items>
                                                            </SegmentedButton>   
                                                                            
                                                            <layoutData>
                                                                <layout:GridData span="XL2 L4 M6 S12"/>
                                                            </layoutData>
                                                        </VBox>
                                                        <VBox width="25%">
                                                            <Label  text="{I18N>/NW_TARGET_AMOUNT}:" visible="true"/> 
                                                            <Input value="{
                                                                    path: 'NegoHeaders>/target_amount',
                                                                    formatter: '.numberFormatter.toNumberString'
                                                                    }"   
                                                                    textAlign="Right" visible="true" id="inputTargetAmount" liveChange="onLiveTargetTotal"/> 
                                                            <layoutData>
                                                                <layout:GridData span="XL3 L4 M6 S12"/>
                                                            </layoutData>
                                                        </VBox>
                                                    </HBox>

                                                    <HBox width="100%" class="sapUiSmallMarginBottom">
                                                        <VBox width="25%">
                                                            <Label  text="{I18N>/AWARD_METHOD_CODE}:" 
                                                                    class="sapMLabelNoText"
                                                                    required="true"/> 
                                                            <Select selectedKey="{NegoHeaders>/award_method_code}" width="90%" change="selectAwardMethodChange" id="selectAwardMethod"
                                                                items="{
                                                                    path: '/Sc_Award_Method_Code_View',
                                                                    filters: [
                                                                        {path: 'tenant_id', operator: 'EQ', value1: 'L2100'}
                                                                    ],
                                                                    sorter: {
                                                                        path: 'sort_no',
                                                                        descending: false
                                                                    }}">
                                                                <core:Item key="{award_method_code}" text="{award_method_name}" />

                                                                <!-- <core:Item key="010" text="Multi Supplier" enabled="{= ${NegoHeaders>/award_type/award_type_code} === '010' ? true : false}" />
                                                                <core:Item key="020" text="Lowest Price Supplier"  /> -->
                                                            </Select > 
                                                            <layoutData>
                                                                <layout:GridData span="XL3 L4 M6 S12"/>
                                                            </layoutData>
                                                        </VBox>
                                                        <VBox width="75%" visible="{= ${NegoHeaders>/award_method_code} === 'MP' ? true : false }">
                                                            <Label  text="{I18N>/NUMBER_OF_AWARD_SUPPLIER}:" 
                                                                    class="sapMLabelNoText"/> 
                                                            <HBox >
                                                                <Select width="100%" change="selectNumberSupplierChange" selectedKey="{NegoHeaders>/number_of_award_supplier}" 
                                                                    id="selectNumberSupplier" enabled="true">
                                                                    <core:Item key="1" text="1" />
                                                                    <core:Item key="2" text="2" />
                                                                    <core:Item key="3" text="3" />
                                                                    <core:Item key="4" text="4" />
                                                                    <core:Item key="5" text="5" />
                                                                </Select >
                                                                <Text text="Order Rate ( 1st :  " class="sapUiTinyMarginBeginEnd" />
                                                                <Input id="inputAwardSup1" value="{NegoHeaders>/order_rate_01}" type="Number" width="4rem" enabled="{= ${supplierNum>/number} >= 1 ? true : false }" liveChange="inputAwardSupChange" fieldGroupIds="SupplierNumG1"/>
                                                                <Text text="2nd :  " class="sapUiTinyMarginBeginEnd" />
                                                                <Input id="inputAwardSup2" value="{NegoHeaders>/order_rate_02}" type="Number" width="4rem" enabled="{= ${supplierNum>/number} >= 2 ? true : false }" liveChange="inputAwardSupChange" fieldGroupIds="SupplierNumG1"/>
                                                                <Text text="3rd :  " class="sapUiTinyMarginBeginEnd" />
                                                                <Input id="inputAwardSup3" value="{NegoHeaders>/order_rate_03}" type="Number" width="4rem" enabled="{= ${supplierNum>/number} >= 3 ? true : false }" liveChange="inputAwardSupChange" fieldGroupIds="SupplierNumG1"/>
                                                                <Text text="4th :  " class="sapUiTinyMarginBeginEnd" />
                                                                <Input id="inputAwardSup4" value="{NegoHeaders>/order_rate_04}" type="Number" width="4rem" enabled="{= ${supplierNum>/number} >= 4 ? true : false }" liveChange="inputAwardSupChange" fieldGroupIds="SupplierNumG1"/>
                                                                <Text text="5th :  " class="sapUiTinyMarginBeginEnd" />
                                                                <Input id="inputAwardSup5" value="{NegoHeaders>/order_rate_05}" type="Number" width="4rem" class="sapUiTinyMarginEnd" enabled="{= ${supplierNum>/number} >= 5 ? true : false }" liveChange="inputAwardSupChange" fieldGroupIds="SupplierNumG1"/>
                                                                <Text text=") Unit : %" />
                                                            </HBox> 
                                                            <layoutData>
                                                                <layout:GridData span="XL3 L4 M6 S12"/>
                                                            </layoutData>
                                                        </VBox>
                                                        
                                                    </HBox>
                                                <HBox width="100%" class="sapUiSmallMarginBottom"  >
                                                    <VBox width="25%" class=" "  >
                                                        <Label  text="{I18N>/SUPPLIER_PARTICIPATION_FLAG}:" 
                                                                class="sapMLabelNoText"/>
                                                        <SegmentedButton selectedKey="{NegoHeaders>/supplier_participation_flag}" >
                                                            <items>
                                                                <SegmentedButtonItem key="Y" text="Yes"/>
                                                                <SegmentedButtonItem key="N" text="No" />
                                                            </items>
                                                        </SegmentedButton>     
                                                        <layoutData>
                                                            <layout:GridData span="XL2 L4 M6 S12"/>
                                                        </layoutData>
                                                    </VBox>
                                                    <VBox width="25%" class=" ">
                                                        <Label  text="{I18N>/PARTIAL_ALLOW_FLAG}:" 
                                                                class="sapMLabelNoText"/> 
                                                        <SegmentedButton selectedKey="{NegoHeaders>/partial_allow_flag}" >
                                                            <items>
                                                                <SegmentedButtonItem key="Y" text="Yes"/>
                                                                <SegmentedButtonItem key="N" text="No" />
                                                            </items>
                                                        </SegmentedButton> 
                                                        <layoutData>
                                                            <layout:GridData span="XL3 L4 M6 S12"/>
                                                        </layoutData>
                                                    </VBox>
                                                </HBox>

                                                <HBox width="100%" class="sapUiSmallMarginBottom  " >
                                                    
                                                    <VBox width="25%" class="">
                                                        <Label  text="{I18N>/BID_CONFERENCE_DATE}:" 
                                                                class="sapMLabelNoText"/>
                                                        <DateTimePicker placeholder=""  width="90%" editable="{=${NegoHeaders>/bid_conference} === 'Y' ? true : false}"
                                                                            valueFormat="yyyy/MM/ddTHH:mm" displayFormat="yyyy/MM/dd HH:mm" visible="{=${propInfo>/isEditMode}}"
                                                                            value="{path: 'NegoHeaders>/bid_conference_date', type: 'sap.ui.model.odata.type.DateTime', 
                                                                                    formatOptions: { pattern: 'yyyy/MM/dd HH:mm' , UTC: true} }" />
                                                        
                                                        <!-- <DateTimePicker placeholder="YYYY/MM/DD, HH:MM" width="90%"
                                                                        valueFormat="yyyy/MM/ddTHH:mm" displayFormat="yyyy/MM/dd HH:mm" visible="{=${propInfo>/isEditMode}}"
                                                                        value="{path: 'NegoHeaders>/bid_conference_date', type: 'sap.ui.model.odata.type.DateTime', 
                                                                                formatOptions: { pattern: 'yyyy/MM/dd HH:mm' , UTC: true} }" /> -->
                                                        <layoutData>
                                                            <layout:GridData span="XL2 L4 M6 S12"/>
                                                        </layoutData>
                                                    </VBox>
                                                    <VBox width="25%" >
                                                        <Label  text="{I18N>/BID_CONFERENCE}:" 
                                                                class="sapMLabelNoText"/>
                                                        <SegmentedButton selectedKey="{NegoHeaders>/bid_conference}" >
                                                            <items>
                                                                <SegmentedButtonItem key="Y" text="Yes"/>
                                                                <SegmentedButtonItem key="N" text="No" />
                                                            </items>
                                                        </SegmentedButton>  
                                                        <layoutData>
                                                            <layout:GridData span="XL3 L4 M6 S12"/>
                                                        </layoutData>
                                                    </VBox>
                                                </HBox>
                                                <HBox width="100%" class="sapUiSmallMarginBottom">
                                                    <VBox width="75%">
                                                        <Label  text="{I18N>/BID_CONFERENCE_PLACE}:" 
                                                                class="sapMLabelNoText"/>
                                                        <Input width="97%" value="{NegoHeaders>/bid_conference_place}" editable="{=${NegoHeaders>/bid_conference} === 'Y' ? true : false}"
                                                            placeholder="최대 200 자까지 입력 할 수 있습니다."/>
                                                    </VBox>
                                                </HBox>
                                                <HBox width="100%" class="">
                                                    <VBox width="25%">
                                                        <Label  text="{I18N>/CONTACT_POINT}:" 
                                                                class="sapMLabelNoText"/>
                                                        <MultiInput id="inputContactPoint" width="90%" showValueHelp="true" valueHelpRequest=".onPressBuyerPop" valueHelpOnly="true"
                                                            maxTokens="1" editable="{=${NegoHeaders>/bid_conference} === 'Y' ? true : false}"
                                                            suggestionItems="{
                                                                path: 'NegoHeaders>/contact_point'}">
                                                            <core:Item text="{employee_name}" key="{employee_number}"/>
                                                        </MultiInput>
                                                    </VBox>
                                                    <VBox width="25%">
                                                        <Label  text="{I18N>/PHONE_NO}:" 
                                                                class="sapMLabelNoText"/>
                                                        <Input value="{NegoHeaders>/phone_no}" width="90%" class=" " id="aa" type="Number"
                                                            editable="{=${NegoHeaders>/bid_conference} === 'Y' ? true : false}"/>
                                                    </VBox>
                                                </HBox>
                                            </VBox>
                                        </form:content>
                                    </form:SimpleForm  >
                                    <!-- 조회용 시작 -->
                                    <form:SimpleForm  
                                        class="sapUiTinyMargin "
                                        layout="ResponsiveGridLayout"
                                        editable="true"
                                        visible="{=!${propInfo>/isEditMode}}"
                                        >
                                        <form:content>
                                            <VBox width="100%">
                                                <HBox width="100%" class="sapUiSmallMarginBottom"  >
                                                    <VBox width="25%">
                                                        <Label text="{I18N>/AWARD_TYPE_CODE}:"  
                                                                class="sapMLabelNoText"/> 
                                                        <Text text="{NegoHeaders>/award_type/award_type_name}" />
                                                        <layoutData>
                                                            <layout:GridData span="XL3 L4 M6 S12"/>
                                                        </layoutData>
                                                    </VBox>
                                                    <VBox width="25%" class=" "   >
                                                        <Label  text="{I18N>/TARGET_AMOUNT_CONFIG_FLAG}:" 
                                                                class="sapMLabelNoText"/>
                                                        <Text text="{=${NegoHeaders>/target_amount_config_flag}==='Y' ? 'Yes' : 'No'}"  />
                                                        <layoutData>
                                                            <layout:GridData span="XL2 L4 M6 S12"/>
                                                        </layoutData>
                                                    </VBox>
                                                    <VBox width="25%">
                                                        <Label  text="{I18N>/NW_TARGET_AMOUNT}:" visible="true"/> 
                                                        <Text text="{
                                                                path: 'NegoHeaders>/target_amount',
                                                                formatter: '.numberFormatter.toNumberString'
                                                                }" />
                                                            
                                                        <layoutData>
                                                            <layout:GridData span="XL3 L4 M6 S12"/>
                                                        </layoutData>
                                                    </VBox>
                                                </HBox>

                                                <HBox width="100%" class="sapUiSmallMarginBottom">
                                                    <VBox width="25%">
                                                        <Label  text="{I18N>/AWARD_METHOD_CODE}:" 
                                                                class="sapMLabelNoText"/> 
                                                        <Text text="{NegoHeaders>/award_method/award_method_name}" />
                                                        
                                                        <layoutData>
                                                            <layout:GridData span="XL3 L4 M6 S12"/>
                                                        </layoutData>
                                                    </VBox>
                                                    <VBox width="75%" visible="{= ${NegoHeaders>/award_method_code} === 'MP' ? true : false }">
                                                        <Label  text="{I18N>/NUMBER_OF_AWARD_SUPPLIER}:" 
                                                                class="sapMLabelNoText"/> 
                                                        <HBox >
                                                            <Select width="100%" change="selectNumberSupplierChange" visible="true" selectedKey="{NegoHeaders>/number_of_award_supplier}"
                                                                id="selectNumberSupplier2" enabled="false">
                                                                <core:Item key="1" text="1" />
                                                                <core:Item key="2" text="2" />
                                                                <core:Item key="3" text="3" />
                                                                <core:Item key="4" text="4" />
                                                                <core:Item key="5" text="5" />
                                                            </Select >
                                                            <Text text="Order Rate ( 1st :  " class="sapUiTinyMarginBeginEnd" />
                                                            <Text text="{NegoHeaders>/order_rate_01}" width="3rem" textAlign="Center"/>
                                                            <Text text="2nd :  " class="sapUiTinyMarginBeginEnd" />
                                                            <Text text="{NegoHeaders>/order_rate_02}" width="3rem" textAlign="Center"/>
                                                            <Text text="3rd :  " class="sapUiTinyMarginBeginEnd" />
                                                            <Text text="{NegoHeaders>/order_rate_03}" width="3rem" textAlign="Center"/>
                                                            <Text text="4th :  " class="sapUiTinyMarginBeginEnd" />
                                                            <Text text="{NegoHeaders>/order_rate_04}" width="3rem" textAlign="Center"/>
                                                            <Text text="5th :  " class="sapUiTinyMarginBeginEnd" />
                                                            <Text text="{NegoHeaders>/order_rate_05}" width="3rem" textAlign="Center"/>
                                                            <Text text=") Unit : %" />
                                                        </HBox> 
                                                        <layoutData>
                                                            <layout:GridData span="XL3 L4 M6 S12"/>
                                                        </layoutData>
                                                    </VBox>
                                                </HBox>
                                                <HBox width="100%" class="sapUiSmallMarginBottom"  >
                                                    <VBox width="25%" class=" "  >
                                                        <Label  text="{I18N>/SUPPLIER_PARTICIPATION_FLAG}:" 
                                                                class="sapMLabelNoText"/>
                                                        <Text text="{=${NegoHeaders>/supplier_participation_flag}==='Y' ? 'Yes' : 'No'}"  />
                                                        <layoutData>
                                                            <layout:GridData span="XL2 L4 M6 S12"/>
                                                        </layoutData>
                                                    </VBox>
                                                    <VBox width="25%" class=" ">
                                                        <Label  text="{I18N>/PARTIAL_ALLOW_FLAG}:" 
                                                                class="sapMLabelNoText"/> 
                                                        <Text text="{=${NegoHeaders>/partial_allow_flag}==='Y' ? 'Yes' : 'No'}"   />  
                                                        <layoutData>
                                                            <layout:GridData span="XL3 L4 M6 S12"/>
                                                        </layoutData>
                                                    </VBox>
                                                </HBox>

                                                <HBox width="100%" class="sapUiSmallMarginBottom  " >
                                                    
                                                    <VBox width="25%" class="">
                                                        <Label  text="{I18N>/BID_CONFERENCE_DATE}:" 
                                                                class="sapMLabelNoText"/>
                                                        <!-- <Text text="{NegoHeaders>/bid_conference_date}"  /> -->
                                                        <Text text="{path: 'NegoHeaders>/bid_conference_date', type: 'sap.ui.model.odata.type.DateTime', 
                                                                    formatOptions: { pattern: 'yyyy/MM/dd HH:mm' , UTC: true} }"  class="sapUiTinyMarginEnd"/>
                                                                         

                                                        <!-- <DateTimePicker placeholder="YYYY/MM/DD, HH:MM" width="90%"
                                                                        valueFormat="yyyy/MM/ddTHH:mm" displayFormat="yyyy/MM/dd HH:mm" visible="{=${propInfo>/isEditMode}}"
                                                                        value="{path: 'NegoHeaders>/bid_conference_date', type: 'sap.ui.model.odata.type.DateTime', 
                                                                                formatOptions: { pattern: 'yyyy/MM/dd HH:mm' , UTC: true} }" /> -->
                                                        <layoutData>
                                                            <layout:GridData span="XL2 L4 M6 S12"/>
                                                        </layoutData>
                                                    </VBox>
                                                    <VBox width="25%" >
                                                        <Label  text="{I18N>/BID_CONFERENCE}:" 
                                                                class="sapMLabelNoText"/>
                                                        <Text text="{=${NegoHeaders>/bid_conference}==='Y' ? 'Yes' : 'No'}"   />
                                                        <layoutData>
                                                            <layout:GridData span="XL3 L4 M6 S12"/>
                                                        </layoutData>
                                                    </VBox>
                                                </HBox>
                                                <HBox width="100%" class="sapUiSmallMarginBottom">
                                                    <VBox width="75%">
                                                        <Label  text="{I18N>/BID_CONFERENCE_PLACE}:" 
                                                                class="sapMLabelNoText"/>
                                                        <Text text="{NegoHeaders>/bid_conference_place}"   /> 
                                                    </VBox>
                                                    
                                                </HBox>

                                                <HBox width="100%" class="">
                                                    <VBox width="25%">
                                                        <Label  text="{I18N>/CONTACT_POINT}:" 
                                                                class="sapMLabelNoText"/>
                                                        <Text text="{NegoHeaders>/contact_point/employee_name}"   />
                                                    </VBox>
                                                    <!-- <VBox width="15%" /> -->
                                                    <VBox width="25%">
                                                        <Label  text="{I18N>/PHONE_NO}:" 
                                                                class="sapMLabelNoText"/>
                                                        <Text text="{NegoHeaders>/phone_no}"   />
                                                    </VBox>
                                                </HBox>
                                            </VBox>
                                        </form:content>
                                    </form:SimpleForm  >
                                    <!-- 조회용 끝 -->
                                    </Panel>
                                </uxap:ObjectPageSubSection>
                            </uxap:subSections>
                        </uxap:ObjectPageSection>
                    </uxap:sections>
                    <!-- Control End -->
                    <!-- Non Price Start visible="{=${propInfo>/isNPMode}}"-->
                    <uxap:sections >
                        <uxap:ObjectPageSection id="npSection" titleUppercase="false" title="{I18N>/NW_SECTION_TITLE_NONPRICE}" visible="{=${propInfo>/isNPMode}}">
                            <uxap:subSections>
                                <uxap:ObjectPageSubSection>
                                    <Panel id="panel_NonPrice" expandable="true" expanded="true" headerText="{I18N>/NW_SECTION_TITLE_NONPRICE} {I18N>/NW_CONTENT}">
                                        <t:Table id="tableNonPrice"
                                            minAutoRowCount="2"
                                            visibleRowCountMode="Auto"
                                            rows="{NegoHeaders>/ItemsNonPrice}"
                                            cellClick="mTableOnCellClick"
                                            selectionMode="{=${propInfo>/isEditMode} ? 'MultiToggle' : 'None' }"
                                            ariaLabelledBy="title">
                                            <t:extension>
                                                <OverflowToolbar visible="{=${propInfo>/isEditMode}}" >
                                                    <ToolbarSpacer/>
                                                    <Button  text="{I18N>/ROW_ADD}" type="Transparent" press="onAddNonPrice" />
                                                    <Button  text="{I18N>/ROW_DELETE}" type="Transparent" press=".onDeleteNonPrice" />
                                                </OverflowToolbar>
                                            </t:extension>

                                            <!-- visible="{= ${/propInfo/outCome} === '' }" -->
                                            <t:columns>
                                                <t:Column minScreenWidth="Tablet" hAlign="Center" width="40px" visible="{=${propInfo>/isEditMode}}">
                                                    <ObjectStatus icon="sap-icon://document" text="State" visible="false" />
                                                    <t:template>
                                                        <ObjectStatus icon="{
                                                            path: 'NegoHeaders>_row_state_',
                                                            formatter: '.formatter.toModelStateColumnIcon'
                                                        }" />
                                                    </t:template>
                                                </t:Column>
                                                <t:Column width="" hAlign="Center" >
                                                    <Label text="{I18N>/NONPR_SUPEVAL_ATTR_TYPE_CODE}" />
                                                    <t:template>
                                                         <!-- <Text text="{viewModel>h1}"/> -->
                                                        <Label text="{NegoHeaders>nonpr_supeval_attr_type/nonpr_supeval_attr_type_nm}"/>
                                                    </t:template>
                                                </t:Column>
                                                <t:Column width="" hAlign="Center">
                                                    <Label text="{I18N>/NONPR_REQUIREMENTS_TEXT}" />
                                                    <t:template>
                                                        <Label text="{NegoHeaders>nonpr_requirements_text}" />
                                                    </t:template>
                                                </t:Column>
                                                <t:Column width="" hAlign="Center">
                                                    <Label text="{I18N>/REMARK}" />
                                                    <t:template>
                                                        <Label text="{NegoHeaders>note_content}" />
                                                    </t:template>
                                                </t:Column>
                                                <t:Column width="" hAlign="Center">
                                                    <Label text="{I18N>/NONPR_SUPEVAL_ATTR_VAL_TYPE_CD}" />
                                                    <t:template>
                                                       <Label text="{NegoHeaders>nonpr_supeval_value_type/nonpr_supeval_attr_type_name}" />
                                                    </t:template>
                                                </t:Column>
                                                <t:Column width=""  hAlign="Center">
                                                    <Label text="{I18N>/NONPR_SCORE_COMPUT_METHOD_CD}" />
                                                    <t:template>
                                                        <Label text="{NegoHeaders>nonpr_score_comput_method/nonpr_score_comput_method_name}" />
                                                    </t:template>
                                                </t:Column>
                                                <t:Column width=""  hAlign="Center">
                                                    <Label text="{I18N>/NW_TARGET_SCORE}"/>
                                                    <t:template>
                                                        <Label text="{NegoHeaders>target_score}" />
                                                    </t:template>
                                                </t:Column>
                                                <t:Column width="" hAlign="Center">
                                                    <Label text="{I18N>/NW_DETAIL_SETTINGS}" />
                                                    <t:template>
                                                        <Button icon="sap-icon://value-help"  press="onPressNPSelectButton"/>
                                                    </t:template>
                                                </t:Column>
                                            </t:columns>
                                        </t:Table>                   
                                    </Panel>
                                </uxap:ObjectPageSubSection>
                            </uxap:subSections>
                        </uxap:ObjectPageSection>
                    </uxap:sections>
                    <!-- Non Price End -->
                    <!-- Line Start -->
                    <uxap:sections>
                        <uxap:ObjectPageSection titleUppercase="false" title="{I18N>/NW_SECTION_TITLE_LINES}">
                            <uxap:subSections>
                                <uxap:ObjectPageSubSection>
                                    <Panel id="panel_Line" expandable="true" expanded="true" headerText="{I18N>/NW_SECTION_TITLE_LINES} {I18N>/NW_CONTENT}">
                                        <VBox>
                                            <smartTable:SmartTable id="sTable1" tableType="Table"
                                                useExportToExcel="false" beforeExport="onBeforeExport" 
                                                useTablePersonalisation="true" 
                                                enableAutoBinding="true" 
                                                entitySet="NegoHeaders>/Items" 
                                                tableBindingPath="NegoHeaders>/Items"
                                                beforeRebindTable="beforeRebindTable"
                                                ignoreFromPersonalisation="_row_state_,Suppliers"
                                                requestAtLeastFields="pr_number,pr_approve_number,line_type_code,material_code,material_desc,specification,bpa_price,detail_net_price,recommend_info,group_id,vendor_pool_code,specific_supplier_count,request_quantity,uom_code,maturity_date,currency_code,response_currency_code
                                                ,exrate_type_code,exrate_date,bidding_start_net_price,bidding_start_net_price,bidding_target_net_price,current_price"
                                                initiallyVisibleFields="pr_number,pr_approve_number,line_type_code,material_code,material_desc,specification,bpa_price,detail_net_price,recommend_info,group_id
                                                ,vendor_pool_code,specific_supplier_count,request_quantity,uom_code,maturity_date,currency_code,response_currency_code,exrate_type_code,exrate_date,bidding_start_net_price,bidding_start_net_price,bidding_target_net_price,current_price"
                                                class="sapUiSmallMarginBottom"
                                                >
                                                <!-- <smartTable:layoutData>
                                                    <FlexItemData growFactor="1" baseSize="0%"/>
                                                </smartTable:layoutData> -->

                                                <smartTable:customToolbar>
                                                    <OverflowToolbar visible="{=${propInfo>/isEditMode}}" >
                                                        <ToolbarSpacer/>
                                                        <!-- <Button  text="{I18N>/ROW_ADD}" type="Transparent" press="onAddNonPrice" />
                                                        <Button  text="{I18N>/ROW_DELETE}" type="Transparent" press=".onDeleteNonPrice" /> -->
                                                        <Button  text="{I18N>/ROW_ADD}" type="Transparent" press=".addLineItemRow" />
                                                        <Button  text="{I18N>/ROW_DELETE}" type="Transparent" press=".onMidTableDeleteButtonPress" />
                                                        
                                                        <Button text="{I18N>/ADD_SUPPLIER_INBULK}" type="Transparent" press=".onMidTableAddBatchSuppliers"  />
                                                        <Button text="{I18N>/EXCLUDE_SUPPLIER_FROMVP}" type="Transparent" press=".createConfirmBox" />
                                                        
                                                        <Button  text="{I18N>/VENDOR_POOL} Change" type="Transparent" press=".createConfirmBox"  />
                                                        <Button  text="{I18N>/SIMPLE_CHANGE}" type="Transparent" press=".onSimpleChangePress"  /> 

                                                        <u:FileUploader uploadComplete="handleUploadComplete" change=".createConfirmBox" style="Transparent" 
                                                            buttonOnly="true" iconOnly="true" icon="sap-icon://upload" tooltip="Upload"  />
                                                        
                                                        <MenuButton buttonMode="Split" useDefaultActionOnly="true" type="Default"
                                                                    icon="sap-icon://excel-attachment" defaultAction=".onExport" >
                                                            <menu>
                                                                
                                                            </menu>
                                                        </MenuButton>
                                                    </OverflowToolbar>
                                                </smartTable:customToolbar>
                                                <t:Table id="tableLines"
                                                    minAutoRowCount="2"
                                                    visibleRowCountMode="Auto"
                                                    rows="{NegoHeaders>/Items}"
                                                    selectionMode="{=${propInfo>/isEditMode} ? 'MultiToggle' : 'None' }"
                                                    ariaLabelledBy="title">
                                                    <t:columns>
                                                        <t:Column id="_row_state_" minScreenWidth="Tablet" hAlign="Center" width="40px" visible="{=${propInfo>/isEditMode}}">
                                                            <ObjectStatus icon="sap-icon://document" text="State" visible="false" />
                                                            <t:template>
                                                                <ObjectStatus icon="{
                                                                    path: 'NegoHeaders>_row_state_',
                                                                    formatter: '.formatter.toModelStateColumnIcon'
                                                                }" />
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="5rem" hAlign="Center" >
                                                            <Label text="{I18N>/SUPPLIERS_TITLE}" />
                                                            <t:template>
                                                                <Button icon="sap-icon://account" press="onLoadSuppliers" />
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="13rem" hAlign="Center">
                                                            <Label text="{I18N>/NW_OPERATION_ORG_CODE}" required="true" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center" >
                                                                    <Input id="multiinput_purOperationOrg_code" visible="{=${propInfo>/isEditMode}}" 
                                                                        value="{NegoHeaders>operation_org_code} : {NegoHeaders>operation_org/operation_org_name}"
                                                                        showValueHelp="true" valueHelpRequest=".onOperationOrgPress" textAlign="Center"
                                                                        showSuggestion="true" showSecondaryValues="true" suggestionItemSelected=".onSuggesionItemSelectedOprOrg"
                                                                        suggestionItems="{
                                                                            path: 'org>/Pur_Operation_Mapping',
                                                                            templateShareable:true,
                                                                            sorter: { path: 'org>org_code' }
                                                                        }"
                                                                        onfocusout=".onfocusoutMultiInput_org"
                                                                        valueState="{NegoHeaders>__metadata/_valueStates/operation_org_code/valueState}" valueStateText="{NegoHeaders>__metadata/_valueStates/operation_org_code/valueStateText}"
                                                                        >
                                                                        <core:ListItem key="{org>org_code}" text="{org>org_name}"  additionalText="{org>org_code}"/>
                                                                        <!-- <tokens>
                                                                            <Token key="{key}" text="{text}" />
                                                                        </tokens> -->
                                                                        <layoutData>
                                                                            <FlexItemData growFactor="1"/>
                                                                        </layoutData>
                                                                    </Input>
                                                                    <!-- <Input value="{NegoHeaders>operation_unit_code}" visible="{=${propInfo>/isEditMode}}" textAlign="Center"/> -->
                                                                    <Text text="{NegoHeaders>operation_org_code} : {NegoHeaders>operation_org/operation_org_name}" visible="{=!${propInfo>/isEditMode}}" textAlign="Center"/>
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="{I18N>/PR_NUMBER}" />
                                                            <t:template>
                                                                <Label text="{NegoHeaders>pr_number}" />
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="{I18N>/PR_APPROVE_NUMBER}" />
                                                            <t:template>
                                                                <Label text="{NegoHeaders>pr_approve_number}" />
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center" visible="false">
                                                            <Label text="{I18N>/LINE_TYPE_CODE}"  required="true" />
                                                            <t:template>
                                                                <FlexBox >
                                                                    <Input showValueHelp="true" value="{NegoHeaders>line_type_code}" visible="{=${propInfo>/isEditMode}}"/>
                                                                    <Text text="{NegoHeaders>line_type_code}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem"  hAlign="Center">
                                                            <Label text="{I18N>/NW_MATERIAL_CODE}"  />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center" >
                                                                    <Input showValueHelp="true" value="{NegoHeaders>material_code}" visible="{=${propInfo>/isEditMode}}" valueHelpRequest=".onPartNoPress"
                                                                        editable="{=!${propInfo>/isDescEditMode}}" textAlign="Center"/>
                                                                    <Text text="{NegoHeaders>material_code}" visible="{=!${propInfo>/isEditMode}}"/>
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="20rem"  hAlign="Center">
                                                            <Label text="{I18N>/NEGO_DOCUMENT_DESC}" required="true" />
                                                            <t:template>
                                                                <FlexBox width="100%" >
                                                                    <Input value="{NegoHeaders>material_desc}" visible="{=${propInfo>/isEditMode}}" width="100%" maxLength="200" placeholder="최대 200 자까지 입력 할 수 있습니다."
                                                                        valueState="{NegoHeaders>__metadata/_valueStates/material_desc/valueState}" 
                                                                        valueStateText="{NegoHeaders>__metadata/_valueStates/material_desc/valueStateText}">
                                                                        <layoutData>
                                                                            <FlexItemData growFactor="1"/>
                                                                        </layoutData>
                                                                    </Input>
                                                                    <Text text="{NegoHeaders>material_desc}" visible="{=!${propInfo>/isEditMode}}" wrapping="false" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem"  hAlign="Center">
                                                            <Label text="{I18N>/SPECIFICATION_NAME}" />
                                                            <t:template>
                                                                <FlexBox >
                                                                    <ComboBox items="{
                                                                            path: '/Sc_Spec_Code_View', 
                                                                            templateShareable:true, 
                                                                            filters: [{path: 'tenant_id', operator: 'EQ', value1: 'L2100'}],
                                                                            sorter: {
                                                                                path: 'sort_no',
                                                                                descending: false
                                                                            }}" 
                                                                        showSecondaryValues= "true"
                                                                        selectedKey="{NegoHeaders>specification}" visible="{=${propInfo>/isEditMode}}"
                                                                        width="100%" >
                                                                        <core:ListItem key="{specification_code}" text="{specification_name}" additionalText="{specification_code}"/>
                                                                    </ComboBox>
                                                                    
                                                                    <Text text="{NegoHeaders>specification_fk/specification_name}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem"  hAlign="Center">
                                                            <Label text="{I18N>/BPA_PRICE}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="End">
                                                                    <Input value="{NegoHeaders>bpa_price}" visible="{=${propInfo>/isEditMode}}"  type="Number"  textAlign="Right" 
                                                                        placeholder="소수점 5자리까지"/>
                                                                    <Text text="{NegoHeaders>bpa_price}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="8rem" hAlign="Center">
                                                            <Label text="{I18N>/DETAIL}{I18N>/NET_PRICE}" />
                                                            <t:template>
                                                                <!-- <FlexBox justifyContent="Center"> -->
                                                                    <Button icon="sap-icon://value-help" press=".createConfirmBox" />
                                                                    <!-- <Input value="{NegoHeaders>detail_net_price}" visible="{=${propInfo>/isEditMode}}"/>
                                                                    <Text text="{NegoHeaders>detail_net_price}" visible="{=!${propInfo>/isEditMode}}" /> -->
                                                                <!-- </FlexBox> -->
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="{I18N>/RECOMMEND_INFO}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <Input value="{NegoHeaders>recommend_info}" visible="{=${propInfo>/isEditMode}}" textAlign="Center"/>
                                                                    <Text text="{NegoHeaders>recommend_info}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="{I18N>/GROUP_ID}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <Input value="{NegoHeaders>group_id}" visible="{=${propInfo>/isEditMode}}" textAlign="Center"/>
                                                                    <Text text="{NegoHeaders>group_id}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="{I18N>/VENDOR_POOL}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <Input showValueHelp="true" value="{NegoHeaders>vendor_pool_code}" visible="{=${propInfo>/isEditMode}}" textAlign="Center"
                                                                        valueHelpRequest=".createConfirmBox" valueHelpOnly="true"/>
                                                                    <Text text="{NegoHeaders>vendor_pool_code}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="{I18N>/NW_SECTION_TITLE_SUPPLIER_03}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <MultiInput id="multiinput_bp_code" visible="{=${propInfo>/isEditMode}}" 
                                                                        value="{NegoHeaders>specific_supplier_count}" valueHelpOnly="true"
                                                                        showValueHelp="true" valueHelpRequest=".onSupplierPress" textAlign="Center">
                                                                        <!-- <tokens>
                                                                            <Token key="{key}" text="{text}" />
                                                                        </tokens> -->
                                                                    </MultiInput>
                                                                    <!-- <Input valueHelpRequest=".onSupplierPress" visible="{=${propInfo>/isEditMode}}" value="{NegoHeaders>specific_supplier_count}" showValueHelp="true" valueHelpOnly="true" type="Number" ></Input> -->
                                                                    <Text text="{NegoHeaders>specific_supplier_count}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="{I18N>/QUANTITY}" required="true"/>
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <Input value="{NegoHeaders>request_quantity}" visible="{=${propInfo>/isEditMode}}" textAlign="Center"
                                                                        placeholder="소수점 3자리까지"
                                                                        valueState="{NegoHeaders>__metadata/_valueStates/request_quantity/valueState}" 
                                                                        valueStateText="{NegoHeaders>__metadata/_valueStates/request_quantity/valueStateText}"/>
                                                                    <Text text="{NegoHeaders>request_quantity}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="{I18N>/UOM}" required="true" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <Input value="{NegoHeaders>uom_code}" visible="{=${propInfo>/isEditMode}}" textAlign="Center"
                                                                        valueState="{NegoHeaders>__metadata/_valueStates/uom_code/valueState}" 
                                                                        valueStateText="{NegoHeaders>__metadata/_valueStates/uom_code/valueStateText}"/>
                                                                    <Text text="{NegoHeaders>uom_code}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="{I18N>/CURRENCY}"  />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <!-- <lib-m:CodeComboBox id="searchCurrencyCombo" width="100%" showSecondaryValues="true" 
                                                                        keyField="currency_code" textField="currency_code_name" 
                                                                        useEmpty="true" emptyText="전체" visible="{=${propInfo>/isEditMode}}"
                                                                        items="{
                                                                            path: '/',
                                                                            filters: [
                                                                                {path: 'tenant_id', operator: 'EQ', value1: 'L2100'}
                                                                            ],
                                                                            sorter: {
                                                                                path: 'currency_code',
                                                                                descending: true
                                                                            },
                                                                            serviceName: 'cm.util.CommonService',
                                                                            entityName: 'Currency'
                                                                        }">
                                                                    </lib-m:CodeComboBox> -->
                                                                    <ComboBox items="{
                                                                            path: 'common>/Currency', 
                                                                            templateShareable:true, 
                                                                            filters: [{path: 'tenant_id', operator: 'EQ', value1: 'L2100'}],
                                                                            sorter: {
                                                                                path: 'currency_code',
                                                                                descending: false
                                                                            }}" 
                                                                        showSecondaryValues= "true"
                                                                        selectedKey="{NegoHeaders>currency_code}" visible="{=${propInfo>/isEditMode}}"
                                                                        width="100%" >
                                                                        <core:ListItem key="{common>currency_code}" text="{common>currency_code_name}" additionalText="{common>currency_code}"/>
                                                                    </ComboBox>
                                                                    <Text text="{NegoHeaders>currency_code}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="{I18N>/REPLY} {I18N>/CURRENCY}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <Input showValueHelp="true" value="{NegoHeaders>response_currency_code}" visible="{=${propInfo>/isEditMode}}" textAlign="Center"
                                                                        valueHelpRequest=".createConfirmBox" valueHelpOnly="true"/>
                                                                    <Text text="{NegoHeaders>response_currency_code}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="{I18N>/NW_EXRATE_TYPE_CODE}" />
                                                            <t:template>
                                                                <Label text="{NegoHeader>exrate_type_code}" />
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="{I18N>/EXRATE_DATE}" />
                                                            <t:template>
                                                                <Label text="{NegoHeader>exrate_date}" />
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="{I18N>/BIDDING_START_NET_PRICE}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="End">
                                                                    <Input value="{NegoHeaders>bidding_start_net_price}" visible="{=${propInfo>/isEditMode}}" textAlign="Right"  type="Number"
                                                                         placeholder="소수점 5자리까지"/>
                                                                    <Text text="{NegoHeaders>bidding_start_net_price}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="8rem" hAlign="Center" >
                                                            <Label text="{I18N>/BIDDING_START_NET_PRICE_FLAG}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <ToggleButton text="{=${NegoHeaders>bidding_start_net_price_flag} === 'Y' ? 'YES' : 'NO'}" 
                                                                        visible="{=${propInfo>/isEditMode}}" pressed="{=${NegoHeaders>bidding_start_net_price_flag} === 'Y' ? true : false}"  
                                                                        press="onPressBiddingFlag"/>

                                                                    <!-- <lib-m:FlagToggleButton  enabled="{=${propInfo>/isEditMode}}" pressed="{NegoHeaders>bidding_start_net_price_flag}" /> -->
                                                                    <Text text="{=${NegoHeaders>bidding_start_net_price_flag} === 'Y' ? 'YES' : 'NO'}" visible="{=!${propInfo>/isEditMode}}" /> 
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="{I18N>/BIDDING_TARGET_NET_PRICE}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="End">
                                                                    <Input value="{NegoHeaders>bidding_target_net_price}" visible="{=${propInfo>/isEditMode}}" textAlign="Right"  type="Number"
                                                                        placeholder="소수점 5자리까지"/>
                                                                    <Text text="{NegoHeaders>bidding_target_net_price}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="{I18N>/CURRENT_PRICE}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="End">
                                                                    <Input value="{NegoHeaders>current_price}" visible="{=${propInfo>/isEditMode}}" textAlign="Right"  type="Number" 
                                                                        placeholder="소수점 5자리까지"/>
                                                                    <Text text="{NegoHeaders>current_price}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <!-- <t:Column width="11rem" hAlign="Center" visible="false">
                                                            <Label text="S/Parts 공급유형" />
                                                            <t:template>
                                                                <Label text="{}" />
                                                            </t:template>
                                                        </t:Column> -->
                                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                                            <Label text="{I18N>/MATURITY_DATE}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <!-- <DatePicker 
                                                                            valueFormat="yyyy/MM/dd" displayFormat="yyyy/MM/dd" visible="{=${propInfo>/isEditMode}}"
                                                                            value="{path: 'NegoHeaders>maturity_date', type: 'sap.ui.model.odata.type.Date', 
                                                                                    formatOptions: { pattern: 'yyyy/MM/dd' , UTC: true} }" /> -->
                                                                    <Text text="{path: 'NegoHeaders>maturity_date', type: 'sap.ui.model.odata.type.Date', 
                                                                        formatOptions: { pattern: 'yyyy/MM/dd' , UTC: true} }"  />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                                            <Label text="{I18N>/NW_LOCATION}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <!-- <Input value="" visible="{=${propInfo>/isEditMode}}"/> -->
                                                                    <Text text="{NegoHeaders>location}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                                            <Label text="{I18N>/PURPOSE}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <!-- <Input value="{NegoHeaders>purpose}" visible="{=${propInfo>/isEditMode}}"/> -->
                                                                    <Text text="{NegoHeaders>purpose}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                                            <Label text="{I18N>/REASON}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <!-- <Input value="{NegoHeaders>reason}" visible="{=${propInfo>/isEditMode}}"/> -->
                                                                    <Text text="{NegoHeaders>reason}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                                            <Label text="{I18N>/BUDGET_DEPARTMENT_CODE}"  />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <!-- <Input value="{NegoHeaders>budget_department_code}" visible="{=${propInfo>/isEditMode}}" textAlign="Center"/> -->
                                                                    <Text text="{NegoHeaders>budget_department_code}"/>
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                                            <Label text="{I18N>/REQUESTOR}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <!-- <Input value="{NegoHeaders>requestor_empno}" visible="{=${propInfo>/isEditMode}}" textAlign="Center"/> -->
                                                                    <Text text="{NegoHeaders>requestor_empno}"  />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                                            <Label text="{I18N>/REQUEST_DEPARTMENT}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <!-- <Input value="{NegoHeaders>request_department_code}" visible="{=${propInfo>/isEditMode}}"/> -->
                                                                    <Text text="{NegoHeaders>request_department_code}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center"  visible="{= ${propInfo>/outCome} === 'view' }">
                                                            <Label text="{I18N>/REQUEST_DATE}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <!-- <Input value="" visible="{=${propInfo>/isEditMode}}"/> -->
                                                                    <Text text="{NegoHeaders>request_date}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="{I18N>/Attachments}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <u:FileUploader uploadComplete="handleUploadComplete" change=".createConfirmBox" style="Transparent" 
                                                                    buttonOnly="true" iconOnly="true" icon="sap-icon://value-help" tooltip="Upload"  />
                                                                    <!-- <Input value="{NegoHeaders>attch_code}" visible="{=${propInfo>/isEditMode}}"/>
                                                                    <Text text="{NegoHeaders>attch_code}" visible="{=!${propInfo>/isEditMode}}" /> -->
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="20rem" hAlign="Center">
                                                            <Label text="{I18N>/SUPPLIER_PROVIDE_INFO}" />
                                                            <t:template >
                                                                <FlexBox width="100%" >
                                                                    <!-- You can enter up to 500 characters. -->
                                                                    <Input value="{NegoHeaders>supplier_provide_info}" visible="{=${propInfo>/isEditMode}}"
                                                                    placeholder="최대 500 자까지 입력 할 수 있습니다." width="100%" fieldWidth="100%" maxLength="500">
                                                                        <layoutData>
                                                                            <FlexItemData growFactor="1"/>
                                                                        </layoutData>
                                                                    </Input>
                                                                    <Text text="{NegoHeaders>supplier_provide_info}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="{I18N>/NW_INCOTERMS}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <ComboBox items="{
                                                                            path: '/Sc_Incoterms_View', 
                                                                            templateShareable:true, 
                                                                            filters: [{path: 'tenant_id', operator: 'EQ', value1: 'L2100'}],
                                                                            sorter: {
                                                                                path: 'sort_no',
                                                                                descending: true
                                                                            }}" 
                                                                        showSecondaryValues= "true"
                                                                        selectedKey="{NegoHeaders>incoterms_code}" visible="{=${propInfo>/isEditMode}}"
                                                                        width="100%" >
                                                                        <core:ListItem key="{incoterms_code}" text="{incoterms_name}" additionalText="{incoterms_code}"/>
                                                                    </ComboBox>
                                                                    <Text text="{NegoHeaders>incoterms/incoterms_name}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="{I18N>/PAYMENT_TERMS_CODE}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <ComboBox items="{
                                                                            path: '/Sc_Payment_Terms_View', 
                                                                            templateShareable:true, 
                                                                            filters: [{path: 'tenant_id', operator: 'EQ', value1: 'L2100'}],
                                                                            sorter: {
                                                                                path: 'sort_no',
                                                                                descending: true
                                                                            }}" 
                                                                        showSecondaryValues= "true"
                                                                        selectedKey="{NegoHeaders>payment_terms_code}" visible="{=${propInfo>/isEditMode}}"
                                                                        width="100%" >
                                                                        <core:ListItem key="{payment_terms_code}" text="{payment_terms_name}" additionalText="{payment_terms_code}"/>
                                                                    </ComboBox>
                                                                    <Text text="{NegoHeaders>payment_terms/payment_terms_name}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                        <t:Column width="11rem" hAlign="Center">
                                                            <Label text="{I18N>/NW_MARKET_CODE}" />
                                                            <t:template>
                                                                <FlexBox justifyContent="Center">
                                                                    <ComboBox items="{
                                                                            path: '/Sc_Market_Code_View', 
                                                                            templateShareable:true, 
                                                                            filters: [{path: 'tenant_id', operator: 'EQ', value1: 'L2100'}],
                                                                            sorter: {
                                                                                path: 'sort_no',
                                                                                descending: true
                                                                            }}" 
                                                                        showSecondaryValues= "true"
                                                                        selectedKey="{NegoHeaders>market_code}" visible="{=${propInfo>/isEditMode}}"
                                                                        width="100%" >
                                                                        <core:ListItem key="{market_code}" text="{market_name}" additionalText="{market_code}"/>
                                                                    </ComboBox>
                                                                    <Text text="{NegoHeaders>market/market_name}" visible="{=!${propInfo>/isEditMode}}" />
                                                                </FlexBox>
                                                            </t:template>
                                                        </t:Column>
                                                    </t:columns>
                                                </t:Table>  
                                            </smartTable:SmartTable>

                                            <Panel id="panel_SuppliersContent" width="100%" expandable="true" expanded="false" headerText="{I18N>/SUPPLIERS_TITLE}">
                                                <form:SimpleForm editable="true"  layout="ColumnLayout"
                                                    columnsM="2" width="100%" 
                                                    columnsL="3"
                                                    columnsXL="4">
                                                    <Label  text="{I18N>/NW_PR_NUMBER}" />
                                                    <Text   text="{NegoItemPrices>/pr_number}" />
                                                    <Label  text="{I18N>/NW_MATERIAL_CODE}" />
                                                    <Text   text="{NegoItemPrices>/material_code}" />
                                                    <Label  text="{I18N>/NEGO_DOCUMENT_DESC}" />
                                                    <Text   text="{NegoItemPrices>/material_desc}"/>
                                                    <Label  text="{I18N>/NW_VENDOR_POOL_CODE}" />
                                                    <Text   text="{NegoItemPrices>/vendor_pool_code}"/>
                                                </form:SimpleForm>
                                                
                                                <Panel id="panel_Evaluation" expandable="true" expanded="true" headerText="{I18N>/NW_SECTION_TITLE_SUPPLIER_01}">
                                                    <Table 
                                                        sticky="HeaderToolbar,ColumnHeaders" 
                                                        inset="false" 
                                                        class="sapFDynamicPageAlignContent" 
                                                        mode="None"
                                                        width="auto">
                                                        <columns>
                                                            <!-- <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="Seq" />
                                                            </Column> -->
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="{I18N>/NW_SUPPLIER_CODE}" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="{I18N>/NW_SUPPLIER_NAME}" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                 <Text text="{I18N>/NW_SUPPLIER_TYPE}" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="{I18N>/NW_ONLY_MAKER_FLAG}" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="{I18N>/NW_CONTACT}" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="{I18N>/NW_EXCEPT_FLAG}" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="{I18N>/NW_REASON}" />
                                                            </Column>
                                                        </columns>
                                                        <items>
                                                            <!-- <ColumnListItem type="Inactive" >
                                                                <cells>
                                                                    <Text text="1"/>
                                                                    <Text text="CN000260"/>
                                                                    <Text text="LGDKR_TRIPOD(WUXI) ELECTRONIC CO. LTD_CN000260"/>
                                                                    <Text text="RAW MATERIAL"/>
                                                                    <Text text="Y"/>
                                                                    <ObjectStatus  icon="sap-icon://person-placeholder"/>
                                                                    <CheckBox />
                                                                    <Text text=""/>
                                                                </cells>
                                                            </ColumnListItem>
                                                            <ColumnListItem type="Inactive" >
                                                                <cells>
                                                                    <Text text="2"/>
                                                                    <Text text="CN000351"/>
                                                                    <Text text="LGDKR_TRIPOD(WUXI) ELECTRONIC CO. LTD_CN000351"/>
                                                                    <Text text="RAW MATERIAL"/>
                                                                    <Text text="N"/>
                                                                    <ObjectStatus  icon="sap-icon://person-placeholder"/>
                                                                    <CheckBox />
                                                                    <Text text=""/>
                                                                </cells>
                                                            </ColumnListItem> -->
                                                        </items>
                                                    </Table>
                                                </Panel>
                                                <Panel id="panel_Potential" expandable="true" expanded="true" headerText="{I18N>/NW_SECTION_TITLE_SUPPLIER_02}">
                                                    <Table 
                                                        sticky="HeaderToolbar,ColumnHeaders" 
                                                        inset="false" 
                                                        class="sapFDynamicPageAlignContent" 
                                                        mode="None"
                                                        width="auto">
                                                        <columns>
                                                            <!-- <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="Seq" />
                                                            </Column> -->
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="{I18N>/NW_SUPPLIER_CODE}" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="{I18N>/NW_SUPPLIER_NAME}" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="{I18N>/NW_CONTACT}" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="{I18N>/NW_INCLUDE_FLAG}" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true">
                                                                <Text text="{I18N>/NW_REASON}" />
                                                            </Column>
                                                        </columns>
                                                        <items>
                                                            <!-- <ColumnListItem type="Inactive" >
                                                                <cells>
                                                                    <Text text=""/>
                                                                    <Text text=""/>
                                                                    <Text text=""/>
                                                                    <Text text=""/>
                                                                    <Text text=""/>
                                                                    <Text text=""/>
                                                                </cells>
                                                            </ColumnListItem> -->
                                                        </items>
                                                    </Table>
                                                </Panel>
                                                <Panel id="panel_Specific" expandable="true" expanded="true" headerText="{I18N>/NW_SECTION_TITLE_SUPPLIER_03}">
                                                    <Table 
                                                        id="table_Specific"
                                                        sticky="HeaderToolbar,ColumnHeaders" 
                                                        inset="false" 
                                                        class="sapFDynamicPageAlignContent"     
                                                        
                                                        mode="{=${propInfo>/isEditMode} ? 'MultiSelect' : 'None' }"
                                                        items="{
                                                            path : 'NegoItemPrices>/Suppliers',
                                                            filters : [
                                                                { path : 'nego_supplier_register_type_code', operator : 'EQ', value1 : 'S'}
                                                            ],
                                                            sorter: [
                                                                {path: 'item_supplier_sequence', descending: false}
                                                            ]
                                                        }"
                                                        width="auto">
                                                        <headerToolbar>
                                                            <OverflowToolbar visible="{=${propInfo>/isEditMode}}">
                                                                <ToolbarSpacer/>
                                                                <Button  text="{I18N>/ROW_ADD}" type="Transparent" press=".onSupplierLoadPopup" />
                                                                <Button  text="{I18N>/ROW_DELETE}" type="Transparent" press=".onDeleteSuppliers" />
                                                            </OverflowToolbar>
                                                        </headerToolbar>
                                                        <columns>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true" width="40px">
                                                                <Text text="" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true" width="15%">
                                                               <Text text="{I18N>/NW_SUPPLIER_CODE}" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true" width="35%">
                                                                <Text text="{I18N>/NW_SUPPLIER_NAME}" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true" width="15%">
                                                                <Text text="{I18N>/NW_EVALUATE_TYPE}" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true" width="15%">
                                                                <Text text="{I18N>/NW_SUPPLIER_TYPE}" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true" width="10%">
                                                                <Text text="{I18N>/NW_ONLY_MAKER_FLAG}" />
                                                            </Column>
                                                            <Column minScreenWidth="Tablet" hAlign="Center"  demandPopin="true" width="10%">
                                                                <Text text="{I18N>/NW_CONTACT}" />
                                                            </Column>
                                                        </columns>
                                                        <items>
                                                            <ColumnListItem type="Inactive" >
                                                                <cells>
                                                                    <ObjectStatus icon="{
                                                                        path: 'NegoItemPrices>_row_state_',
                                                                        formatter: '.formatter.toModelStateColumnIcon'
                                                                    }" />
                                                                    <Label text="{NegoItemPrices>supplier_code}"/>
                                                                    <Label text="{NegoItemPrices>supplier_name}"/>
                                                                    <Label text="{NegoItemPrices>supplier_register_status_name}"/>
                                                                    <Label text="{NegoItemPrices>supplier_type_name}"/>
                                                                    <Label text="{NegoItemPrices>maker_only_flag}"/>
                                                                    <Button icon="sap-icon://value-help" press="createConfirmBox"/>
                                                                </cells>
                                                            </ColumnListItem>
                                                        </items>
                                                    </Table>
                                                </Panel>
                                            </Panel>

                                        </VBox>                 
                                    </Panel>
                                </uxap:ObjectPageSubSection>
                            </uxap:subSections>
                        </uxap:ObjectPageSection>
                    </uxap:sections>
                    <!-- Line End -->
                    <uxap:footer>
                        <OverflowToolbar>
                            <ToolbarSpacer />
                            <Button text="{I18N>/TEMP_SAVE}" visible="{=${propInfo>/isEditMode}}" type="Emphasized" press=".onPageSaveButtonPress" />
                            <Button text="{I18N>/CANCEL}" visible="{=${propInfo>/isEditMode}}" type="Transparent" press=".onPageCancelButtonPress" />
                            <Button text="{I18N>/DELETE}" visible="{=${propInfo>/isEditMode}}" type="Transparent" press=".onPageDeleteButtonPress" />
                            <Button text="{I18N>/EDIT}" visible="{=!${propInfo>/isEditMode}}" type="Transparent" press=".onPageEditButtonPress" />
                        </OverflowToolbar>
                    </uxap:footer>
                </uxap:ObjectPageLayout>
            </content>
        </Page>
    </App>
</mvc:View>