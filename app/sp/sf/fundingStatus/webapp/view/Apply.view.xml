<mvc:View controllerName="sp.sf.fundingStatus.controller.Apply" 
	xmlns:mvc="sap.ui.core.mvc" 
	xmlns="sap.m" 
	xmlns:uxap="sap.uxap" 
	xmlns:layout="sap.ui.layout" 
    xmlns:form="sap.ui.layout.form"
    xmlns:richtexteditor="sap.ui.richtexteditor"
	xmlns:core="sap.ui.core"
    height="100%">
    
    <uxap:ObjectPageLayout 
        id="pageApply"
		alwaysShowContentHeader = "true"
		upperCaseAnchorBar="false"
        showFooter="false"
        toggleHeaderOnTitleClick="false"
        headerContentPinnable="false"
        preserveHeaderStateOnScroll="true">
        
		<uxap:headerTitle>
			<!-- 타이틀 영역 -->
			<uxap:ObjectPageDynamicHeaderTitle objectTitle="자금지원현황" width="100%">
                <uxap:heading>
                    <Toolbar style="Clear" width="100%">
                        <Button icon="sap-icon://nav-back" press=".onPressPageNavBack"/>
                        <Title text="자금지원현황" level="H2" wrapping="true"/>                        
                    </Toolbar>
                </uxap:heading>
                <uxap:navigationActions>
					<OverflowToolbarButton type="Transparent" icon="{viewModel>/App/btnScreen}" text="screen" tooltip="screen change" press="onPressLayoutChange" />
                </uxap:navigationActions>
			</uxap:ObjectPageDynamicHeaderTitle>
		</uxap:headerTitle>

		<uxap:headerContent>
            <!-- <Toolbar>
                <Title text="자금지원" wrapping="true"/>
                <ToolbarSpacer/>
                <OverflowToolbarButton type="Transparent" icon="{viewModel>/App/btnScreen}" text="screen" tooltip="screen change" press="onPressLayoutChange" />
                <OverflowToolbarButton type="Transparent" icon="sap-icon://decline" text="back" tooltip="back to the list" press="onPressPageNavBack" />
            </Toolbar> -->
            
            <IconTabBar
                id="idIconTabBar"
                select=".onFilterSelect"
                expandable="false"
                expanded="true"
                class="sapUiResponsiveContentPadding, iconTabBarContent">
                <items>
                    <IconTabFilter
                        icon="sap-icon://begin"
                        iconColor="Positive"
                        count="{/ProductCollectionStats/Counts/Weight/Ok}"
                        text="신청"
                        key="step1" />
                    <IconTabSeparator icon="sap-icon://open-command-field" />
                    <IconTabFilter
                        icon="sap-icon://begin"
                        iconColor="Positive"
                        count="{/ProductCollectionStats/Counts/Weight/Heavy}"
                        text="심의"
                        key="step2" />
                    <IconTabSeparator icon="sap-icon://open-command-field" />
                    <IconTabFilter
                        icon="sap-icon://begin"
                        iconColor="Positive"
                        count="{/ProductCollectionStats/Counts/Weight/Overweight}"
                        text="담보물"
                        key="step3" />
                    <IconTabSeparator icon="sap-icon://open-command-field" />
                    <IconTabFilter
                        icon="sap-icon://begin"
                        iconColor="Positive"
                        count="{/ProductCollectionStats/Counts/Weight/Overweight}"
                        text="상환계획"
                        key="step4" />
                    <IconTabSeparator icon="sap-icon://open-command-field" />
                    <IconTabFilter
                        icon="sap-icon://begin"
                        iconColor="Positive"
                        count="{/ProductCollectionStats/Counts/Weight/Overweight}"
                        text="계약"
                        key="step5" />
                    <IconTabSeparator icon="sap-icon://open-command-field" />
                    <IconTabFilter
                        icon="sap-icon://begin"
                        iconColor="Positive"
                        count="{/ProductCollectionStats/Counts/Weight/Overweight}"
                        text="실사"
                        key="step6" />
                    <IconTabSeparator icon="sap-icon://open-command-field" />
                    <IconTabFilter
                        icon="sap-icon://begin"
                        iconColor="Positive"
                        count="{/ProductCollectionStats/Counts/Weight/Overweight}"
                        text="상환이행"
                        key="step7" />
                </items>
                <content>
                    <Panel width="100%">
                        <form:SimpleForm  
                            editable="true"
                            layout="ResponsiveGridLayout"
                            class="sapUiNoMarginBottom">
                            <form:toolbar>
                                <Toolbar>
                                    <Title text="신청({viewModel>/Detail/Apply/funding_status_code_name})"/>
                                </Toolbar>
                            </form:toolbar>
                            <!-- <form:title>
                                <core:Title text="신청({viewModel>/Detail/Apply/funding_status_code_name})" level="H1"/>
                            </form:title> -->
                            <form:content>
                                <VBox>
                                    <Label text="Supplier Code :"  class="sapUiLargeMarginBegin" />
                                    <Text text="{viewModel>/Detail/Apply/supplier_code}" class="sapUiTinyMarginBegin sapUiLargeMarginEnd" design="Bold"/>
                                    <Label text="대표자명 :"  class="sapUiLargeMarginBegin" />
                                    <Text text="{viewModel>/Detail/Apply/repre_name}" class="sapUiTinyMarginBegin sapUiLargeMarginEnd" design="Bold"/>
                                </VBox>
                                <VBox>
                                    <Label text="사업자번호 :" class="sapUiLargeMarginBegin" />
                                    <Text text="{viewModel>/Detail/Apply/tax_id}" class="sapUiTinyMarginBegin sapUiLargeMarginEnd" design="Bold"/>
                                    <Label text="대표자 Mail Address :" class="sapUiLargeMarginBegin" />
                                    <Text text="{viewModel>/Detail/Apply/email_address}" class="sapUiTinyMarginBegin sapUiLargeMarginEnd" design="Bold"/>
                                </VBox>
                                <VBox>
                                    <Label text="Supplier Name :"  class="sapUiLargeMarginBegin" />
                                    <Text text="{viewModel>/Detail/Apply/supplier_name}" class="sapUiTinyMarginBegin sapUiLargeMarginEnd" design="Bold"/>
                                    <Label text="전화번호 :"  class="sapUiLargeMarginBegin" />
                                    <Text text="{viewModel>/Detail/Apply/tel_number}" class="sapUiTinyMarginBegin sapUiLargeMarginEnd" design="Bold"/>
                                </VBox>
                                <VBox>
                                    <Label text="협력회 여부 :" class="sapUiLargeMarginBegin" />
                                    <Text text="" class="sapUiTinyMarginBegin sapUiLargeMarginEnd" design="Bold"/>
                                    <Label text="주소 :" class="sapUiLargeMarginBegin" />
                                    <Text text="{viewModel>/Detail/Apply/local_full_address}" class="sapUiTinyMarginBegin sapUiLargeMarginEnd" design="Bold"/>
                                </VBox>
                            </form:content>
                        </form:SimpleForm >
                    </Panel>
                </content>
                
            </IconTabBar>
                    
            <!-- </layout:VerticalLayout> -->
		</uxap:headerContent>

		<uxap:sections>
			<!-- General Infomation -->
			<uxap:ObjectPageSection id="genaralTab" titleUppercase="true" title="기본정보">
				<uxap:subSections>
					<uxap:ObjectPageSubSection id="pageSubSection1">
                        <form:SimpleForm
                            maxContainerCols="2"
                            editable="true"
                            layout="ResponsiveGridLayout"
                            adjustLabelSpan="false"
                            labelSpanL="4"
                            labelSpanM="4"
                            emptySpanL="0"
                            emptySpanM="0"
                            columnsL="2"
                            columnsM="2">
                            <form:content>
                                <VBox>
                                    <Label text="신청번호 :"/>
                                    <Text text="{viewModel>/Detail/Apply/funding_appl_number}" design="Bold"/>
                                    <layoutData>
                                        <layout:GridData span="XL2 L2 M6 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox>
                                    <Label text="신청일 :"/>
                                    <Text text="{
                                        path:'viewModel>/Detail/Apply/funding_appl_date',
                                        type:'sap.ui.model.odata.type.DateTime',
                                        constraints : {
                                            displayFormat: 'Date'
                                        }
                                    }" design="Bold"/>
                                    <layoutData>
                                        <layout:GridData span="XL2 L2 M6 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox>
                                    <Label text="거래사업부 :"/>
                                    <Text text="{viewModel>/Detail/Apply/org_name}" design="Bold"/>
                                    <layoutData>
                                        <layout:GridData span="XL2 L2 M6 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox>
                                    <Label text="LG 구매팀 :"/>
                                    <Text text="{viewModel>/Detail/Apply/purchasing_department_name}" design="Bold"/>
                                    <layoutData>
                                        <layout:GridData span="XL2 L2 M6 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox>
                                    <Label text="총 자본금(백만원) :"/>
                                    <Text text="" design="Bold"/>
                                    <layoutData>
                                        <layout:GridData span="XL2 L2 M6 S12" linebreak="true"/>
                                    </layoutData>
                                </VBox>
                                <VBox>
                                    <Label text="자기자본금(백만원) :"/>
                                    <Text text="" design="Bold"/>
                                    <layoutData>
                                        <layout:GridData span="XL2 L2 M6 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox>
                                    <Label text="자산(백만원) :"/>
                                    <Text text="" design="Bold"/>
                                    <layoutData>
                                        <layout:GridData span="XL2 L2 M6 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox>
                                    <Label text="전년도매출액(백만원) :"/>
                                    <Text 
                                        text="{
                                            path: 'viewModel>/Detail/Apply/pyear_sales_amount',
                                            type: 'sap.ui.model.odata.type.Decimal'
                                        }" design="Bold"/>
                                    <layoutData>
                                        <layout:GridData span="XL2 L2 M6 S12"/>
                                    </layoutData>
                                </VBox>
                                <VBox>
                                    <Label text="주거래은행 :" />
                                    <Text text="{viewModel>/Detail/Apply/main_bank_name}" design="Bold"/>
                                    <layoutData>
                                        <layout:GridData span="XL2 L2 M6 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox>
                                    <Label text="신청금액(원) :" />
                                    <Text 
                                        text="{
                                            path: 'viewModel>/Detail/Apply/funding_appl_amount',
                                            type: 'sap.ui.model.odata.type.Decimal'
                                        }" design="Bold"/>
                                    <layoutData>
                                        <layout:GridData span="XL2 L2 M6 S12" linebreak="true" />
                                    </layoutData>
                                </VBox>
                                <VBox>
                                    <Label text="희망년월 :"/>
                                    <Text 
                                        text="{
                                            path : 'viewModel>/Detail/Apply/funding_hope_yyyymm', 
                                            formatter : '._formatChange'
                                        }" 
                                        design="Bold"
                                    />
                                    <layoutData>
                                        <layout:GridData span="XL2 L2 M6 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox>
                                    <Label text="상환방법 :"/>
                                    <!-- selectedKey="{applicationSup>/repayment_method_code}" -->
                                    <Text text="{viewModel>/Detail/Apply/repayment_method_code_name}" design="Bold"/>
                                    <layoutData>
                                        <layout:GridData span="XL2 L2 M6 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox>
                                    <Label text="신청자 :"/>
                                    <Text text="{viewModel>/Detail/Apply/appl_user_name}" design="Bold"/>
                                    <layoutData>
                                        <layout:GridData span="XL2 L2 M6 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox>
                                    <Label text="전화번호 :"/>
                                    <Text text="{viewModel>/Detail/Apply/appl_user_tel_number}" design="Bold"/>
                                    <layoutData>
                                        <layout:GridData span="XL2 L2 M6 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox>
                                    <Label text="Mail Address :"/>
                                    <Text text="{viewModel>/Detail/Apply/appl_user_email_address}" design="Bold"/>
                                    <layoutData>
                                        <layout:GridData span="XL2 L2 M6 S12" />
                                    </layoutData>
                                </VBox>
                            </form:content>
                        </form:SimpleForm>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

			<uxap:ObjectPageSection id="reasonTab" titleUppercase="true" title="지원사유">
				<uxap:subSections>
					<uxap:ObjectPageSubSection id="pageSubSection2">
						<form:SimpleForm>
                            <VBox id="checkBoxContent">
                                <Label text="지원사유 :" />
                                <layoutData>
                                    <layout:GridData span="XL12 L12 M12 S12" />
                                </layoutData>
                                <!-- File Upload 끝-->
                            </VBox>
						</form:SimpleForm>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

            <uxap:ObjectPageSection id="investmentPlanTab" titleUppercase="true" title="투자계획">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
                        <Table id="idProductsTable"
                            sticky="HeaderToolbar,ColumnHeaders"
                            inset="false"
                            class="sapFDynamicPageAlignContent"
                            items="{viewModel>/Detail/Apply/investPlanMst}"
                            width="auto">
                            <columns>
                                <Column hAlign="Left">
                                    <Text text="과제명" />
                                </Column>
                                <Column hAlign="Left">
                                    <Text text="투자 내역" />
                                </Column>
                                <Column hAlign="Left">
                                    <Text text="집행시기" />
                                </Column>
                                <Column hAlign="Right">
                                    <Text text="신청금액(원)" />
                                </Column>
                                <Column hAlign="Left">
                                    <Text text="적용모델" />
                                </Column>
                                <Column hAlign="Left">
                                    <Text text="투자장소" />
                                    <footer>
                                        <Text 
                                        text="{
                                            path: 'viewModel>/Detail/Apply/funding_appl_amount',
                                            type: 'sap.ui.model.odata.type.Decimal'
                                        }" design="Bold"/>
                                    </footer>
                                </Column>
                            </columns>
                            <items>
                                <ColumnListItem>
                                    <cells>
                                        <Link text="{viewModel>investment_project_name}" press=".onOpenInvestmentDtl"/>
                                        <Text text="{viewModel>investment_desc}"/>
                                        <Text text="{viewModel>execution_yyyymm}"/>
                                        <Text 
                                            text="{
                                                path: 'viewModel>appl_amount',
                                                type: 'sap.ui.model.odata.type.Decimal'
                                            }" design="Bold"/>
                                        <Text text="{viewModel>apply_model_name}"/>
                                        <Text text="{viewModel>investment_place}"/>
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

            <uxap:ObjectPageSection id="collateralTab" titleUppercase="true" title="담보물">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
                        <form:SimpleForm
                            maxContainerCols="2"
                            layout="ResponsiveGridLayout"
                            adjustLabelSpan="false">
                            <form:content>
                                <VBox>
                                    <Label text="담보물 :"/>
                                    <Text text="{viewModel>/Detail/Apply/collateral_type_code_name}" design="Bold"/>
                                    <layoutData>
                                        <layout:GridData span="XL6 L6 M12 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox>
                                    <Label text="담보금액(원) :"/>
                                    <Text 
                                        text="{
                                            path: 'viewModel>/Detail/Apply/collateral_amount',
                                            type: 'sap.ui.model.odata.type.Decimal'
                                        }" design="Bold"/>
                                    <layoutData>
                                        <layout:GridData span="XL6 L6 M12 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox>
                                    <!-- File Upload 시작-->
                                    <UploadCollection
                                        id="UploadCollection"
                                        maximumFilenameLength="55"
                                        maximumFileSize="10"
                                        multiple="true"
                                        noDataDescription=" "
                                        sameFilenameAllowed="true"
                                        instantUpload="false"
                                        uploadButtonInvisible="true"
                                    />
                                    <layoutData>
                                        <layout:GridData span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>
                            </form:content>
                        </form:SimpleForm>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>
		</uxap:sections>
	</uxap:ObjectPageLayout>
</mvc:View>