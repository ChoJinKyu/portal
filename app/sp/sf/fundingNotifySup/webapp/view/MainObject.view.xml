<mvc:View controllerName="sp.sf.fundingNotifySup.controller.MainObject" 
	xmlns:mvc="sap.ui.core.mvc" 
	xmlns="sap.m" 
	xmlns:uxap="sap.uxap" 
	xmlns:layout="sap.ui.layout" 
    xmlns:form="sap.ui.layout.form"
    xmlns:richtexteditor="sap.ui.richtexteditor"
	xmlns:core="sap.ui.core"
	height="100%">
	<uxap:ObjectPageLayout id="page"
		toggleHeaderOnTitleClick="true"
		alwaysShowContentHeader = "true"
		preserveHeaderStateOnScroll="false"
		headerContentPinnable="true"
		isChildPage="true"
		upperCaseAnchorBar="false"
		showTitleInHeaderContent="true"
		showEditHeaderButton="true" 
		showFooter="{master>/btnCreate}">
		<uxap:headerTitle>
			<!-- 타이틀 영역 -->
			<uxap:ObjectPageDynamicHeaderTitle>
				<uxap:expandedHeading>
					<Title text="{I18N>/FUNDING_NOTIFICATION}" wrapping="true" />
				</uxap:expandedHeading>
				<uxap:snappedHeading>
					<Title text="{I18N>/FUNDING_NOTIFICATION}" wrapping="true" />
				</uxap:snappedHeading>
				<uxap:snappedTitleOnMobile>
					<Title text="{I18N>/FUNDING_NOTIFICATION}" />
				</uxap:snappedTitleOnMobile>
                <uxap:navigationActions>
                    <OverflowToolbarButton id="pageNavBackButton" type="Transparent" icon="sap-icon://decline" text="back" tooltip="back to the list" press=".onPageNavBackButtonPress" visible="{= ${/actionButtonsInfo/midColumn/closeColumn} !== null }"/>
                </uxap:navigationActions>
			</uxap:ObjectPageDynamicHeaderTitle>
		</uxap:headerTitle>

		<uxap:headerContent>
			<!-- 헤더 영역 -->
			<FlexBox wrap="Wrap" visible="{midObjectView>/showMode}">
				<VBox>
                    <ObjectStatus
                        title="{I18N>/NOTIFICATION_NUMBER}"
                        text="{master>/funding_notify_number}"/>
                    <ObjectStatus
                        title="{I18N>/WRITER}"
                        text="{master>/create_user_name}"/>
                    <ObjectStatus
                        title="{I18N>/WRITE_DATE}"
                        text="{
                            path:'master>/local_create_dtm',
                            type:'sap.ui.model.odata.type.DateTime',
                            formatOptions: {
                                UTC: true, format: 'yMd'
                            }
                        }"/>
                    <layoutData>
                        <layout:GridData span="XL4 L4 M6 S12" />
                    </layoutData>
                </VBox>
			</FlexBox>
		</uxap:headerContent>

		<uxap:sections>
			<!-- General Infomation -->
			<uxap:ObjectPageSection id="pageSectionMain" titleUppercase="true" title="일반정보">
				<uxap:subSections>
					<uxap:ObjectPageSubSection id="pageSubSection1">
                        <form:SimpleForm
                            maxContainerCols="2"
                            editable="true"
                            layout="ResponsiveGridLayout"
                            adjustLabelSpan="false"
                            labelSpanL="4"
                            labelSpanM="4"
                            emptySpanL="0"
                            emptySpanM="0"
                            columnsL="2"
                            columnsM="2">
                            <form:content>
                                <VBox>
                                    <Label design="Bold" text="{I18N>/APPLICATION_PERIOD} :" />
                                    <ObjectIdentifier 
                                        text="{
                                            parts: [
                                                {path: 'master>/funding_notify_start_date'}, 
                                                {path: 'master>/funding_notify_end_date'}
                                            ], 
                                            type: 'sap.ui.model.type.DateInterval',
                                            formatOptions: {pattern: 'yyyy-MM-dd'} ,
                                            UTC: true
                                        }"
                                    />
                                    <layoutData>
                                        <layout:GridData span="XL6 L6 M6 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox>
                                    <Label design="Bold" text="{I18N>/APPLICATION_DUE_DATE} :" />
                                    <ObjectIdentifier 
                                        text="{
                                            path: 'master>/funding_appl_closing_date', 
                                            type: 'sap.ui.model.type.Date', 
                                            formatOptions: {pattern: 'yyyy-MM-dd'} ,
                                            UTC: true
                                        }"
                                    />
                                    <layoutData>
                                        <layout:GridData span="XL6 L6 M6 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox>
                                    <Label design="Bold" text="{I18N>/TITLE} :" />
                                    <Text text="{
                                            path:'master>/funding_notify_title',
                                            type:'sap.ui.model.odata.type.String'
                                        }" />
                                    <layoutData>
                                        <layout:GridData span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>
                                
                                <VBox id="idEditLayout">
                                    <Label design="Bold" text="{I18N>/CONTENTS} :" />
                                    <core:HTML content='{master>/funding_notify_contents}'>
                                    
                                    </core:HTML>
                                    
                                    <layoutData>
                                        <layout:GridData span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>
                            </form:content>
                        </form:SimpleForm>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

			<!-- 파일 첨부 -->
			<uxap:ObjectPageSection id="pageAttachmentMain" titleUppercase="true" title="첨부파일">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
						<form:SimpleForm>
                            <form:content>
                                <VBox>
                                    <!-- File Upload 시작-->
                                    <UploadCollection
                                        id="UploadCollection"
                                        maximumFilenameLength="55"
                                        maximumFileSize="10"
                                        multiple="true"
                                        sameFilenameAllowed="true"
                                        instantUpload="false"
                                        noDataDescription="Drop files or use the &quot;Add&quot; button to keep files ready for upload"
                                        change="onChange"
                                        fileDeleted="onFileDeleted"
                                        filenameLengthExceed="onFilenameLengthExceed"
                                        fileSizeExceed="onFileSizeExceed"
                                        typeMissmatch="onTypeMissmatch"
                                        uploadComplete="onUploadComplete"
                                        beforeUploadStarts="onBeforeUploadStarts" />
                                    <layoutData>
                                        <layout:GridData span="XL12 L12 M12 S12" />
                                    </layoutData>
                                    <!-- File Upload 끝-->
                                </VBox>
                            </form:content>
						</form:SimpleForm>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>
		</uxap:sections>

		<!-- 하단 버튼 처리 툴바 -->
		<uxap:footer>
			<OverflowToolbar>
				<ToolbarSpacer />
                <Button id="pageCreateNotifyButton" type="Emphasized" visible="{master>/btnCreate}" text="신청서작성" press=".onCreateFundingNotify"/>
			</OverflowToolbar>
		</uxap:footer>
	</uxap:ObjectPageLayout>
</mvc:View>