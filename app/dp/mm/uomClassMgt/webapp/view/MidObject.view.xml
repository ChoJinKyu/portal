<mvc:View controllerName="dp.mm.uomClassMgt.controller.MidObject" 
	xmlns:mvc="sap.ui.core.mvc" 
	xmlns="sap.m" 
	xmlns:uxap="sap.uxap" 
	xmlns:layout="sap.ui.layout" 
    xmlns:form="sap.ui.layout.form"
	xmlns:core="sap.ui.core"
	height="100%">

	<uxap:ObjectPageLayout id="page"
		toggleHeaderOnTitleClick="false"
		alwaysShowContentHeader = "true"
		preserveHeaderStateOnScroll="false"
		headerContentPinnable="false"
		isChildPage="true"
		upperCaseAnchorBar="false"
		showTitleInHeaderContent="true"
		showEditHeaderButton="true" 
		showFooter="true">
		<uxap:headerTitle>
			<uxap:ObjectPageDynamicHeaderTitle>
                <uxap:heading>
                    <HBox alignItems="End">
                        <OverflowToolbarButton id="pageNavBackButton" type="Transparent" icon="sap-icon://nav-back" tooltip="back to the list" press=".handleClose" visible="{= ${/actionButtonsInfo/midColumn/closeColumn} !== null }"/>
                        <Title text="{I18N>/UOM_CLASS} {I18N>/DETAIL}" wrapping="true" class="" />
                    </HBox>
                </uxap:heading>
				<uxap:expandedHeading>
					<Title text="{I18N>/UOM_CLASS} {I18N>/DETAIL}" wrapping="true" />
				</uxap:expandedHeading>
				<uxap:snappedHeading>
					<Title text="{I18N>/UOM_CLASS} {I18N>/DETAIL}" wrapping="true" />
				</uxap:snappedHeading>
				<uxap:expandedContent>
					<Text text="{I18N>/UOM_CLASS_CODE} : {master>/uom_class_code}" />
				</uxap:expandedContent>
				<uxap:snappedContent>
					<Text text="{I18N>/UOM_CLASS_CODE} : {master>/uom_class_code}" />
				</uxap:snappedContent>
				<uxap:snappedTitleOnMobile>
					<Title text="{I18N>/UOM_CLASS} {I18N>/DETAIL}" />
				</uxap:snappedTitleOnMobile>
				<uxap:actions>
					<!-- <Button id="pageEditButton" text="{I18N>/UPDATE}" type="Emphasized" press=".onPageEditButtonPress" /> -->
					<!-- <Button id="pageDeleteButton" text="Delete" type="Transparent" press=".onPageDeleteButtonPress" /> -->
				</uxap:actions>
                <uxap:navigationActions>
					<!-- <OverflowToolbarButton id="pageEnterFullScreenButton" type="Transparent" icon="sap-icon://full-screen" press="onPageEnterFullScreenButtonPress" tooltip="Enter Full Screen Mode" visible="{= ${/actionButtonsInfo/midColumn/fullScreen} !== null }"/>
					<OverflowToolbarButton id="pageExitFullScreenButton" type="Transparent" icon="sap-icon://exit-full-screen" press="onPageExitFullScreenButtonPress" tooltip="Exit Full Screen Mode" visible="false"/>
					<OverflowToolbarButton id="pageNavBackButton" type="Transparent" icon="sap-icon://decline" text="back" tooltip="back to the list" press=".onPageNavBackButtonPress" visible="{= ${/actionButtonsInfo/midColumn/closeColumn} !== null }"/> -->
                    <OverflowToolbarButton type="Transparent" icon="sap-icon://full-screen" press="handleFullScreen" tooltip="Enter Full Screen Mode" visible="{contModel>/midObject/visibleFullScreenBtn}"/>
                    <OverflowToolbarButton type="Transparent" icon="sap-icon://exit-full-screen" press="handleExitFullScreen" tooltip="Exit Full Screen Mode" visible="{= !${contModel>/midObject/visibleFullScreenBtn}}"/>
                    <!-- <OverflowToolbarButton type="Transparent" icon="sap-icon://decline" press="handleClose"  tooltip="Close column"/> -->
                </uxap:navigationActions>
			</uxap:ObjectPageDynamicHeaderTitle>
		</uxap:headerTitle>

		<uxap:headerContent>
			<FlexBox wrap="Wrap" visible="false">
				<!-- <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
					<layout:HorizontalLayout class="sapUiSmallMarginBeginEnd">
						<Label text="Chain: " />
						<Text text="{master>/chain_code}"/>
					</layout:HorizontalLayout>
				</layout:VerticalLayout>

				<layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
					<layout:HorizontalLayout class="sapUiSmallMarginBeginEnd">
						<Label text="Created: "/>
						<Text text="{master>/create_user_id} / {master>/system_create_dtm}"/>
					</layout:HorizontalLayout>
					<layout:HorizontalLayout class="sapUiSmallMarginBeginEnd">
						<Label text="Updated: "/>
						<Text text="{master>/update_user_id} / {master>/system_update_dtm}"/>
					</layout:HorizontalLayout>
				</layout:VerticalLayout> -->
			</FlexBox>
		</uxap:headerContent>

		<uxap:sections>
			<uxap:ObjectPageSection showTitle="false" id="pageSectionMain" titleUppercase="false" title="{I18N>/DEFAULT}{I18N>/INFORMATION}">
				<uxap:subSections>
					<uxap:ObjectPageSubSection id="pageSubSection1">
                        <form:SimpleForm         
                            editable="true"
                            layout="ResponsiveGridLayout"			
                            labelSpanXL="12"
                            labelSpanL="12"
                            labelSpanM="12"
                            labelSpanS="12"
                            adjustLabelSpan="false"
                            emptySpanXL="0"
                            emptySpanL="0"
                            emptySpanM="0"
                            emptySpanS="0"
                            columnsXL="1"
                            columnsL="1"
                            columnsM="1" >                            
                            <form:content>
                                <VBox width="100%">
                                    <Label text="{I18N>/UOM_CLASS_CODE}" visible="{contModel>/createMode}"  required="true"/>                                    
                                    <Input 
                                        width="50%"
                                        value="{
                                            path: 'master>/uom_class_code',
                                            type: 'sap.ui.model.type.String',
                                            constraints: {
                                                maxLength: 10
                                            }
                                        }" visible="{contModel>/createMode}" editable="{contModel>/createMode}" required="true">
                                    </Input>
                                    <layoutData>
                                        <layout:GridData
                                            span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox width="100%">
                                    <Label text="{I18N>/UOM_CLASS_NAME}" required="true"/>
                                    <Text
                                        width="50%"
                                        text="{master>/uom_class_name}"
                                        visible="{contModel>/readMode}">
                                    </Text>                                    
                                    <Input 
                                        width="50%"
                                        value="{
                                            path: 'master>/uom_class_name',
                                            type: 'sap.ui.model.type.String',
                                            constraints: {
                                                maxLength: 20
                                            }
                                        }" visible="{contModel>/editMode}" editable="{contModel>/editMode}" required="true">
                                    </Input>
                                    <layoutData>
                                        <layout:GridData
                                            span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox width="100%">
                                    <Label text="{I18N>/BASE_UOM_CODE}"/>
                                    <Text
                                        width="50%"
                                        text="{master>/base_uom_code}">
                                    </Text>
                                    <layoutData>
                                        <layout:GridData
                                            span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox width="100%">
                                    <Label text="{I18N>/BASE_UOM_NAME}"/>
                                    <Text
                                        width="50%"
                                        text="{master>/base_uom_name}">
                                    </Text>
                                    <layoutData>
                                        <layout:GridData
                                            span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox width="100%">
                                    <Label text="{I18N>/UOM_CLASS_DESC}"/>
                                    <Text
                                        width="50%"
                                        text="{master>/uom_class_desc}"
                                        visible="{contModel>/readMode}">
                                    </Text>                                    
                                    <Input 
                                        width="50%"
                                        value="{
                                            path: 'master>/uom_class_desc',
                                            type: 'sap.ui.model.type.String',
                                            constraints: {
                                                maxLength: 50
                                            }
                                        }" visible="{contModel>/editMode}" editable="{contModel>/editMode}">
                                    </Input>
                                    <layoutData>
                                        <layout:GridData
                                            span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox width="100%">			
                                    <Label text="{I18N>/DISABLE_DATE}"/>
                                    <Text width="50%" visible="{contModel>/readMode}" text="{path: 'master>/disable_date',formatter: '.dateFormatter.toDateString'}"/>
                                    <DatePicker width="50%" visible="{contModel>/editMode}" placeholder="YYYY. MM. DD." value="{path: 'master>/disable_date',type: 'sap.ui.model.odata.type.DateTime', formatOptions: { UTC: true, format: 'yMd' }}"/>
                                    <layoutData>
                                        <layout:GridData
                                            span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>                                                                
                            </form:content>
                        </form:SimpleForm>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>			

			<uxap:ObjectPageSection 
                titleUppercase="false" 
                title="{I18N>/MULTILINGUAL} ({= (${details>/UomClassLng})?${details>/UomClassLng}.length:0})">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
                    <uxap:blocks>
						<Table 
                            id="midTable" 
                            mode="{= ${contModel>/readMode}?'None':'MultiSelect'}"
                            sticky="HeaderToolbar,ColumnHeaders"
                            inset="false"
                            class="sapFDynamicPageAlignContent"
                            width="auto"
                            items="{
                                path: 'details>/UomClassLng'
                            }">
							<headerToolbar>
                                <Toolbar visible="true">
                                    <ToolbarSpacer/>
                                    <HBox >
                                        <Button
                                            id="midTableAddButton" 
                                            type="Transparent" 
                                            text="{I18N>/ROW_ADD}"
                                            press=".onMidTableAddButtonPress"/>
                                        <Button
                                            id="midTableDeleteButton" 
                                            type="Transparent" 
                                            text="{I18N>/ROW_DELETE}"
                                            press=".onMidTableDeleteButtonPress"/>
                                    </HBox>
                                    <ToolbarSeparator/>
									<SearchField id="midTableSearchField" placeholder="Class Text" width="10rem" search=".onMidTableFilterPress" />
                                </Toolbar>
                            </headerToolbar>
							<columns>
                                <Column 
                                    visible="{contModel>/editMode}"
                                    width="4em">
                                    <Label text="{I18N>/STATUS}"/>
                                </Column>
                                <Column>
                                    <Label text="{I18N>/LANGUAGE}" required="true" />
                                </Column>
                                <Column>
                                    <Label text="{I18N>/UOM_CLASS_NAME}" />
                                </Column>
                                <Column>
                                    <Label text="{I18N>/UOM_CLASS_DESC}" />
                                </Column>
                            </columns>
                                <items>
                                    <ColumnListItem>
                                        <cells>                                            
                                            <ObjectStatus icon="{
                                                path: 'details>_row_state_',
                                                formatter: '.formatter.toModelStateColumnIcon'
                                            }" />
                                            <HBox>
                                                <Text
                                                    visible="{contModel>/readMode}"
                                                    text="{details>language_code}"/>                                                
                                                <ComboBox 
                                                    visible="{contModel>/editMode}"
                                                    showSecondaryValues= "true"
                                                    width="100%" 
                                                    selectedKey="{details>language_code}"
                                                    items="{
                                                        path: 'util>/Code',
                                                        templateShareable:true,
                                                        filters: [
                                                            {path: 'tenant_id', operator: 'EQ', value1: 'L2100'},                                        
                                                            {path: 'group_code', operator: 'EQ', value1: 'CM_LANG_CODE'}
                                                        ]
                                                    }" editable="{= ${details>_row_state_} === 'C' }" required="true"> 
                                                    <items>
                                                        <core:ListItem 
                                                            key="{util>code}" 
                                                            text="{util>code_name}"
                                                            additionalText="{util>code}"/>
                                                    </items>
                                                </ComboBox>
                                            </HBox>
                                            <HBox
                                                direction="Column">
                                                <Text
                                                    visible="{contModel>/readMode}"
                                                    text="{details>uom_class_name}" />
                                                <Input
                                                    visible="{contModel>/editMode}"
                                                    maxLength="240"
                                                    value="{details>uom_class_name}" />
                                            </HBox>
                                            <HBox
                                                direction="Column">
                                                <Text
                                                    visible="{contModel>/readMode}"
                                                    text="{details>uom_class_desc}" />
                                                <Input
                                                    visible="{contModel>/editMode}"
                                                    maxLength="240"
                                                    value="{details>uom_class_desc}" />
                                            </HBox>
                                        </cells>
                                    </ColumnListItem>
                                </items>
                            </Table>
                        </uxap:blocks>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

		</uxap:sections>
		
		<uxap:footer>
			<OverflowToolbar>
                <Button
                    icon="sap-icon://alert"
                    type="Emphasized"
                    text="{= ${message>/}.length }"
                    visible="{= ${message>/}.length > 0 }"
                    ariaHasPopup="Dialog"
                    press=".onMessagePopoverPress" />				
				<ToolbarSpacer />				
                    <Button id="pageEditButton" text="{I18N>/UPDATE}" type="Transparent" press=".onPageEditButtonPress" />                
                    <Button id="pageCancelButton" type="Transparent" text="{I18N>/CANCEL}" press=".onPageCancelEditButtonPress"/>
                    <Button id="pageSaveButton" type="Emphasized" text="{I18N>/SAVE}" press=".onPageSaveButtonPress" />
			</OverflowToolbar>
		</uxap:footer>
	</uxap:ObjectPageLayout>
</mvc:View>