<mvc:View controllerName="dp.tc.projectMgt.controller.McstBomInfo" 
    xmlns:mvc="sap.ui.core.mvc" 
    xmlns="sap.m" 
    xmlns:f="sap.f" 
    xmlns:form="sap.ui.layout.form" 
    xmlns:layout="sap.ui.layout"
    xmlns:core="sap.ui.core" 
    xmlns:lib-m="ext.lib.m"
    xmlns:t="sap.ui.table"
    xmlns:tnt="sap.tnt"
    xmlns:uxap="sap.uxap"
    xmlns:block="dp.tc.projectMgt.blocks.mcstproject"
    height="100%">

    <f:DynamicPage id="dpBomInfo" headerExpanded="true" showFooter="true" toggleHeaderOnTitleClick="true">
        <f:title>
            <f:DynamicPageTitle>
                <f:heading>
                    <HBox alignItems="End">
                        <OverflowToolbarButton type="Transparent" icon="sap-icon://nav-back" press=".onBackPress" />
                        <Title text="{I18N>/BOM} {I18N>/INFORMATION}" wrapping="true"/>
                    </HBox>
                </f:heading>
            </f:DynamicPageTitle>
        </f:title>
 
        <f:header>
            <f:DynamicPageHeader pinnable="true">
                <!--IconTabBar 시작-->
                <IconTabBar
                    id="itbProgress"
                    applyContentPadding="false"
                    class="sapUiNoContentPadding"
                    selectedKey="2"
                    select=".onTabSelect">
                    <items>
                        <IconTabFilter
                            icon="sap-icon://hint"
                            iconColor="Default"
                            design="Horizontal"
                            text="Project Info."
                            key="1" />
                        <IconTabSeparator icon="sap-icon://process" />
                        <IconTabFilter
                            icon="sap-icon://add-product"
                            iconColor="Default"
                            design="Horizontal"
                            text="BOM Info."
                            key="2" />
                        <IconTabSeparator icon="sap-icon://process" />
                        <IconTabFilter
                            icon="sap-icon://expense-report"
                            iconColor="Default"
                            design="Horizontal"
                            text="Net Price Info."
                            key="3" />
                    </items>
                    <content>
                        <VBox width="100%">
                            <form:SimpleForm  
                                editable="true"
                                layout="ResponsiveGridLayout"
                                class="sapUiNoMarginBottom sapUiNoContentPadding">
                                <form:content>

                                <form:SimpleForm  
                                    editable="true"
                                    layout="ResponsiveGridLayout"
                                    class="sapUiNoMarginBottom sapUiNoContentPadding">
                                    <form:content>

                                    <Label text="{I18N>/COMPUT_TYPE}">
                                        <layoutData>
                                            <layout:GridData span="XL2 L2 M2 S12" />
                                        </layoutData>
                                    </Label>
                                    <Text text="{detailModel>/mcst_text/code_name}">
                                        <layoutData>
                                            <layout:GridData span="XL4 L4 M4 S12" />
                                        </layoutData>
                                    </Text>

                                    <Label text="Seq">
                                        <layoutData>
                                            <layout:GridData span="XL2 L2 M2 S12" />
                                        </layoutData>
                                    </Label>
                                    <Text text="{detailModel>/version_sequence}'st ">
                                        <layoutData>
                                            <layout:GridData span="XL4 L4 M4 S12" />
                                        </layoutData>
                                    </Text>

                                    <Label text="{I18N>/REQUESTOR}">
                                        <layoutData>
                                            <layout:GridData span="XL2 L2 M2 S12" />
                                        </layoutData>
                                    </Label>
                                    <Text text="{detailModel>/project_creator_info/user_local_name} {detailModel>/project_creator_info/job_title}">
                                        <layoutData>
                                            <layout:GridData span="XL4 L4 M4 S12" />
                                        </layoutData>
                                    </Text>

                                    <Label text="{I18N>/COMPANY}">
                                        <layoutData>
                                            <layout:GridData span="XL2 L2 M2 S12" />
                                        </layoutData>
                                    </Label>
                                    <Text text="{detailModel>/company_code}">
                                        <layoutData>
                                            <layout:GridData span="XL4 L4 M4 S12" />
                                        </layoutData>
                                    </Text>
                                    

                                    <Label text="{I18N>/CREATION_DATE}">
                                        <layoutData>
                                            <layout:GridData span="XL2 L2 M2 S12" />
                                        </layoutData>
                                    </Label>
                                    <Text text="{
                                                path: 'detailModel>/project_create_date',
                                                formatter: '.dateFormatter.toUTCDateString'
                                            }">
                                        <layoutData>
                                            <layout:GridData span="XL4 L4 M4 S12" />
                                        </layoutData>
                                    </Text>

                                    <Label text="{I18N>/BUSINESS_DIVISION}">
                                        <layoutData>
                                            <layout:GridData span="XL2 L2 M2 S12" />
                                        </layoutData>
                                    </Label>
                                    <Text text="{detailModel>/bizdivision_text/bizdivision_name}">
                                        <layoutData>
                                            <layout:GridData span="XL4 L4 M4 S12" />
                                        </layoutData>
                                    </Text>

                                    </form:content>

                                    <form:layoutData>
                                        <layout:GridData span="XL6 L6 M6 S12" />
                                    </form:layoutData>
                                
                                </form:SimpleForm>

                                <VBox class="sapUiSmallMarginTop">
                                    <Label text="{I18N>/STATUS}">
                                        <layoutData>
                                            <layout:GridData span="XL1 L1 M6 S12" />
                                        </layoutData>
                                    </Label>
                                    <ObjectStatus class="sapMObjectStatusLarge" text="{detailModel>/mcst_status_text/code_name}" state="Error">
                                        <layoutData>
                                            <layout:GridData span="XL3 L3 M6 S12" />
                                        </layoutData>
                                    </ObjectStatus>
                                    <layoutData>
                                        <layout:GridData span="XL6 L6 M6 S12" />
                                    </layoutData>
                                </VBox>

                                </form:content>
                            </form:SimpleForm>
                        </VBox>                        
                    </content>
                </IconTabBar>
                <!--IconTabBar 끝-->
            </f:DynamicPageHeader>
        </f:header>

        <f:content>
            <!--BOM List 시작-->
            <t:Table id="tblBOMListTable" 
                    noData="{I18N>/NCM01004}"
                    rows="{partListModel>/results}"
                    selectionMode="MultiToggle"
                    visibleRowCountMode="Auto"
                    columnResize=""
                    cellClick=""
                    rowSelectionChange=""
                    width="auto">
                <t:extension>
                    <OverflowToolbar>
                        <Title text="{I18N>/BOM} {I18N>/LIST} {= ${partListModel>/results}.length || 0 }" level="H2"/>
                        <ToolbarSpacer/>
                        <Button text="Add" type="Transparent" press="" />
                        <Button text="Delete" type="Transparent" press="" />
                        <Button text="Compare BOM" type="Transparent" press="" />
                        <Button text="BOM Mapping" type="Transparent" press="" />
                        <Button text="BOM Info." type="Transparent" press="" />
                        <Button text="Draft" type="Transparent" press="" />
                        <ToolbarSeparator/>
                        <Button text="Search" type="Emphasized" press="" />
                        <Button text="Confirm &amp; Next" type="Emphasized" press="" />
                        <ToolbarSeparator/>
                        <Button icon="sap-icon://upload" press=""/>
                        <Button icon="sap-icon://excel-attachment" press=""/>
                        <Button icon="sap-icon://group-2" press=""/>
                        <Button icon="sap-icon://action-settings" press=""/>
                    </OverflowToolbar>
                </t:extension>
                <t:columns>
                    <t:Column id="mainColumnState" hAlign="Center" width="2em" >
                        <ObjectStatus icon="sap-icon://document" text="State" visible="false" />
                        <t:template>
							<ObjectStatus icon="{
                                path: 'partListModel>_row_state_',
                                formatter: '.formatter.toModelStateColumnIcon'
                            }" />
						</t:template>
                    </t:Column>
                    <t:Column hAlign="Center" width="12%" >
                        <Label text="자재코드" required="true" />
                        <t:template>
							<Text text="{partListModel>material_code}"/>
						</t:template>
                    </t:Column>
                    <t:Column hAlign="Left" width="auto" >
                        <Label text="자재설명" textAlign="Center" width="100%"/>
                        <t:template>
							<Text text="{partListModel>material_desc}"/>
						</t:template>
                    </t:Column>
                    <t:Column hAlign="Center" width="10em" >
                        <Label text="단위" />
                        <t:template>
							<Text text="{partListModel>uom_name}"/>
						</t:template>
                    </t:Column>
                    <t:Column hAlign="Center" width="10em" >
                        <Label text="소요량" />
                        <t:template>
							<Text text="{partListModel>material_reqm_quantity}"/>
						</t:template>
                    </t:Column>
                    <t:Column hAlign="Center" width="15em" >
                        <Label text="변경정보" />
                        <t:template>
                            <Text text="{partListModel>change_info_text}"/>
						</t:template>
                    </t:Column>
                    <t:Column hAlign="Center" width="10%" >
                        <Label text="소요량 차이&#10;&#13;(목표 比)" />
                        <t:template>
                            <Text text="{partListModel>material_reqm_diff_quantity}"/>
						</t:template>
                    </t:Column>
                    <t:Column hAlign="Center" width="15%" >
                        <Label text="Mapping Info." />
                        <t:template>
                            <Text text="{partListModel>change_info_text}"/>
						</t:template>
                    </t:Column>
                </t:columns>
            </t:Table>
            <!--BOM List 끝-->
        </f:content>

        <f:footer>
            <OverflowToolbar>
                <ToolbarSpacer />
                    <Button type="Transparent" text="{I18N>/CANCEL}" press=".onReadPress" class="sapUiSmallMarginEnd" visible="{detailModel>/mode/editMode}"/>
                    <Button type="Transparent" text="{I18N>/UPDATE}" press=".onEditPress" class="sapUiSmallMarginEnd" enabled="{detailModel>/mode/readMode}"/>
                    <Button type="Emphasized"  text="{I18N>/SAVE}"  press=".onSavePress" class="sapUiSmallMarginEnd" visible="{detailModel>/mode/editMode}"/>
            </OverflowToolbar>
        </f:footer>
    </f:DynamicPage>

</mvc:View>