<mvc:View controllerName="dp.tc.projectMgt.controller.McstProjectInfo" 
    xmlns:mvc="sap.ui.core.mvc" 
    xmlns="sap.m" 
    xmlns:f="sap.f" 
    xmlns:form="sap.ui.layout.form" 
    xmlns:layout="sap.ui.layout"
    xmlns:core="sap.ui.core" 
    xmlns:lib-m="ext.lib.m"
    xmlns:t="sap.ui.table"
    xmlns:tnt="sap.tnt"
    xmlns:uxap="sap.uxap"
    xmlns:block="dp.tc.projectMgt.blocks.mcstproject"
    height="100%">

	<uxap:ObjectPageLayout id="oplProjectInfo"
        upperCaseAnchorBar="false"
        showAnchorBarPopover="false"
        showFooter="true">
		<uxap:headerTitle>
			<uxap:ObjectPageDynamicHeaderTitle>
				<uxap:expandedHeading>
                    <Title text="재료비정보" wrapping="true"/>
				</uxap:expandedHeading>
                <uxap:navigationActions>
                </uxap:navigationActions>
			</uxap:ObjectPageDynamicHeaderTitle>
		</uxap:headerTitle>

        <uxap:headerContent id="iconHeaderContent">
            <!--IconTabBar 시작-->
            <IconTabBar
                id="itbProgress"
                applyContentPadding="false"
                select=".onTabSelect">
                <items>
                    <IconTabFilter
                        icon="sap-icon://hint"
                        iconColor="Default"
                        design="Horizontal"
                        text="Project Info."
                        key="1" />
                    <IconTabSeparator icon="sap-icon://process" />
                    <IconTabFilter
                        icon="sap-icon://add-product"
                        iconColor="Default"
                        design="Horizontal"
                        text="BOM Info."
                        key="2" />
                    <IconTabSeparator icon="sap-icon://process" />
                    <IconTabFilter
                        icon="sap-icon://expense-report"
                        iconColor="Default"
                        design="Horizontal"
                        text="Net Price Info."
                        key="3" />
                </items>
                <content>
                    <VBox width="100%">
                        <form:SimpleForm  
                            editable="true"
                            layout="ResponsiveGridLayout"
                            class="sapUiNoMarginBottom sapUiNoContentPadding">
                            <form:content>

                            <form:SimpleForm  
                                editable="true"
                                layout="ResponsiveGridLayout"
                                class="sapUiNoMarginBottom sapUiNoContentPadding">
                                <form:content>

                                <Label text="생성자">
                                    <layoutData>
                                        <layout:GridData span="XL2 L2 M2 S12" />
                                    </layoutData>
                                </Label>
                                <Text text="{detailModel>/project_creator_info/user_local_name} {detailModel>/project_creator_info/job_title}">
                                    <layoutData>
                                        <layout:GridData span="XL4 L4 M4 S12" />
                                    </layoutData>
                                </Text>

                                <Label text="회사">
                                    <layoutData>
                                        <layout:GridData span="XL2 L2 M2 S12" />
                                    </layoutData>
                                </Label>
                                <Text text="{detailModel>/company_code}">
                                    <layoutData>
                                        <layout:GridData span="XL4 L4 M4 S12" />
                                    </layoutData>
                                </Text>
                                

                                <Label text="생성일">
                                    <layoutData>
                                        <layout:GridData span="XL2 L2 M2 S12" />
                                    </layoutData>
                                </Label>
                                <Text text="{
                                            path: 'detailModel>/project_create_date',
                                            formatter: '.dateFormatter.toUTCDateString'
                                        }">
                                    <layoutData>
                                        <layout:GridData span="XL4 L4 M4 S12" />
                                    </layoutData>
                                </Text>

                                <Label text="사업부">
                                    <layoutData>
                                        <layout:GridData span="XL2 L2 M2 S12" />
                                    </layoutData>
                                </Label>
                                <Text text="{detailModel>/bizdivision_text/bizdivision_name}">
                                    <layoutData>
                                        <layout:GridData span="XL4 L4 M4 S12" />
                                    </layoutData>
                                </Text>

                                </form:content>

                                <form:layoutData>
                                    <layout:GridData span="XL6 L6 M6 S12" />
                                </form:layoutData>
                            
                            </form:SimpleForm>

                            <VBox class="sapUiSmallMarginTop">
                                <Label text="상태">
                                    <layoutData>
                                        <layout:GridData span="XL1 L1 M6 S12" />
                                    </layoutData>
                                </Label>
                                <ObjectStatus class="sapMObjectStatusLarge" text="{detailModel>/project_status_text/code_name}" state="Error">
                                    <layoutData>
                                        <layout:GridData span="XL3 L3 M6 S12" />
                                    </layoutData>
                                </ObjectStatus>
                                <layoutData>
                                    <layout:GridData span="XL2 L2 M2 S12" />
                                </layoutData>
                            </VBox>

                            <!--Image-->
                            <Image 
                                ariaDetails="detailsActiveImage" class="sapUiLargeMarginBegin"
                                src="https://www.asiatime.co.kr/news/data/20171128/p179534486305855_461.jpg"
                                decorative="false"
                                width="10em"
                                height="10em">            
                                <layoutData>
                                    <layout:GridData span="XL4 L4 M4 S12" />
                                </layoutData>                    
                            </Image>
                            </form:content>
                        </form:SimpleForm>
                    </VBox>                        
                </content>
            </IconTabBar>
            <!--IconTabBar 끝-->        
        </uxap:headerContent>

		<uxap:sections>
			<uxap:ObjectPageSection title="기준정보" titleUppercase="false">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
						<uxap:blocks>
                            <!--기준정보 Block 시작-->
							<block:BlockGeneralInfo id="blMcstGeneralInfo" />
                            <!--기준정보 Block 끝-->
						</uxap:blocks>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
 		    </uxap:ObjectPageSection>

            <uxap:ObjectPageSection title="판가/물동/원가" titleUppercase="false">
                <uxap:subSections>
					<uxap:ObjectPageSubSection>
						<uxap:blocks>
                        <!--판가/물동/원가는 Dyanmical Table Rendering 때문에 Block 사용 안함-->
                        <VBox>
                            <!--개발일정-->
                            <VBox>
                                <Table id="tblEvents"
                                        growing="true"
                                        growingThreshold="20"
                                        class="sapFDynamicPageAlignContent"
                                        mode="None"
                                        width="auto"
                                        items="{eventsModel>/}"
                                        >
                                    <headerToolbar>
                                        <OverflowToolbar>
                                        <Label text="개발일정"/>
                                        </OverflowToolbar>
                                    </headerToolbar>
                                    <columns>
                                        <Column width="100%">
                                            <Text text="-"/>
                                        </Column>
                                    </columns>
                                    <items>
                                        <ColumnListItem>
                                            <cells></cells>
                                        </ColumnListItem>
                                    </items>
                                </Table>
                                <!--
                                <Table id="tblEvents_edit"
                                        growing="true"
                                        growingThreshold="20"
                                        class="sapFDynamicPageAlignContent"
                                        mode="None"
                                        width="auto"
                                        items="{eventsModel>/}"
                                        >
                                    <headerToolbar>
                                        <OverflowToolbar>
                                        <Label text="개발일정"/>
                                        </OverflowToolbar>
                                    </headerToolbar>
                                    <columns>
                                    </columns>
                                    <items>
                                        <ColumnListItem>
                                            <cells></cells>
                                        </ColumnListItem>
                                    </items>
                                </Table>
                                -->
                            </VBox>

                            <!--판가/물동/원가-->
                            <VBox>
                                <Table id="tblPrice"
                                        class="sapFDynamicPageAlignContent"
                                        mode="None"
                                        width="100%"
                                        items="{priceModel>/}"
                                        >
                                    <headerToolbar>
                                        <OverflowToolbar>
                                        <Label text="판가/물동/원가"/>
                                        </OverflowToolbar>
                                    </headerToolbar>
                                    <columns>
                                        <Column width="100%">
                                            <Text text="-"/>
                                        </Column>
                                    </columns>
                                    <items>
                                        <ColumnListItem>
                                            <cells>
                                            </cells>
                                        </ColumnListItem>
                                    </items>
                                </Table>
                                <Table id="tblPrice_edit"
                                        class="sapFDynamicPageAlignContent"
                                        mode="None"
                                        width="100%"
                                        visible="{= !${priceModel>/datas} ? false : true}"
                                        items="{priceModel>/}"
                                        >
                                    <headerToolbar>
                                        <OverflowToolbar>
                                        <Label text="판가/물동/원가"/>
                                        </OverflowToolbar>
                                    </headerToolbar>
                                    <columns>
                                        <Column width="100%">
                                            <Text text="-"/>
                                        </Column>
                                    </columns>
                                    <items>
                                        <ColumnListItem>
                                            <cells>
                                            </cells>
                                        </ColumnListItem>
                                    </items>
                                </Table>
                            </VBox>

                            <!--환율-->
                            <VBox>
                                <Table id="tblExchange"
                                        growing="true"
                                        growingThreshold="20"
                                        class="sapFDynamicPageAlignContent"
                                        mode="None"
                                        width="auto"
                                        items="{exchangeModel>/}"
                                        >
                                    <headerToolbar>
                                        <OverflowToolbar>
                                        <Label text="환율"/>
                                        </OverflowToolbar>
                                    </headerToolbar>
                                    <columns>
                                        <Column width="100%">
                                            <Text text="-"/>
                                        </Column>
                                    </columns>
                                    <items>
                                        <ColumnListItem>
                                            <cells>
                                            </cells>
                                        </ColumnListItem>
                                    </items>
                                </Table>
                                <Table id="tblExchange_edit"
                                        growing="true"
                                        growingThreshold="20"
                                        class="sapFDynamicPageAlignContent"
                                        mode="None"
                                        width="auto"
                                        visible="{= !${exchangeModel>/datas} ? false : true}"
                                        items="{exchangeModel>/}"
                                        >
                                    <headerToolbar>
                                        <OverflowToolbar>
                                        <Label text="환율"/>
                                        </OverflowToolbar>
                                    </headerToolbar>
                                    <columns>
                                        <Column width="100%">
                                            <Text text="-"/>
                                        </Column>
                                    </columns>
                                    <items>
                                        <ColumnListItem>
                                            <cells>
                                            </cells>
                                        </ColumnListItem>
                                    </items>
                                </Table>
                            </VBox>
                        </VBox>
						</uxap:blocks>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

			<uxap:ObjectPageSection title="첨부파일" titleUppercase="false" >
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
						<uxap:blocks>
							<block:BlockAttachment id="blAttachment"/>
						</uxap:blocks>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>
		</uxap:sections>

        <uxap:footer>
            <OverflowToolbar>
                <ToolbarSpacer />
                    <Button type="Transparent" text="취소" press=".onBackPress" class="sapUiSmallMarginEnd" visible="{detailModel>/mode/readMode}"/>
                    <Button type="Transparent" text="취소" press=".onReadPress" class="sapUiSmallMarginEnd" visible="{detailModel>/mode/editMode}"/>
                    <Button type="Transparent" text="수정" press=".onEditPress" class="sapUiSmallMarginEnd" enabled="{detailModel>/mode/readMode}"/>
                    <Button type="Emphasized"  text="저장"  press=".onSavePress" class="sapUiSmallMarginEnd" visible="{detailModel>/mode/editMode}"/>
            </OverflowToolbar>
        </uxap:footer>
	</uxap:ObjectPageLayout>

</mvc:View>