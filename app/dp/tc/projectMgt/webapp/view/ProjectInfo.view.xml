<mvc:View controllerName="dp.tc.projectMgt.controller.ProjectInfo" 
    xmlns:mvc="sap.ui.core.mvc" 
    xmlns="sap.m" 
    xmlns:f="sap.f" 
    xmlns:form="sap.ui.layout.form" 
    xmlns:layout="sap.ui.layout"
    xmlns:core="sap.ui.core" 
    xmlns:lib-m="ext.lib.m"
    xmlns:t="sap.ui.table"
    xmlns:tnt="sap.tnt"
    xmlns:uxap="sap.uxap"
    xmlns:block="dp.tc.projectMgt.blocks.project"
    height="100%">

	<uxap:ObjectPageLayout id="oplProjectInfo"
        upperCaseAnchorBar="false"
        showAnchorBarPopover="false"
        showFooter="true">
		<uxap:headerTitle>
			<uxap:ObjectPageDynamicHeaderTitle>
				<uxap:expandedHeading>
                    <Title text="프로젝트정보" wrapping="true"/>
				</uxap:expandedHeading>
                <uxap:navigationActions>
                </uxap:navigationActions>
			</uxap:ObjectPageDynamicHeaderTitle>
		</uxap:headerTitle>

        <uxap:headerContent id="iconHeaderContent">
            <VBox width="100%">
                <form:SimpleForm  
                    editable="true"
                    layout="ResponsiveGridLayout"
                    class="sapUiNoMarginBottom sapUiNoContentPadding">
                    <form:content>

                    <form:SimpleForm  
                        editable="true"
                        layout="ResponsiveGridLayout"
                        class="sapUiNoMarginBottom sapUiNoContentPadding">
                        <form:content>

                        <Label text="생성자">
                            <layoutData>
                                <layout:GridData span="XL2 L2 M2 S12" />
                            </layoutData>
                        </Label>
                        <Text text="{detailModel>/project_creator_info}">
                            <layoutData>
                                <layout:GridData span="XL4 L4 M4 S12" />
                            </layoutData>
                        </Text>

                        <Label text="회사">
                            <layoutData>
                                <layout:GridData span="XL2 L2 M2 S12" />
                            </layoutData>
                        </Label>
                        <Text text="{detailModel>/company_code}">
                            <layoutData>
                                <layout:GridData span="XL4 L4 M4 S12" />
                            </layoutData>
                        </Text>
                        

                        <Label text="생성일">
                            <layoutData>
                                <layout:GridData span="XL2 L2 M2 S12" />
                            </layoutData>
                        </Label>
                        <Text text="{
                                    path: 'detailModel>/project_create_date',
                                    formatter: '.dateFormatter.toUTCDateString'
                                }">
                            <layoutData>
                                <layout:GridData span="XL4 L4 M4 S12" />
                            </layoutData>
                        </Text>

                        <Label text="사업부">
                            <layoutData>
                                <layout:GridData span="XL2 L2 M2 S12" />
                            </layoutData>
                        </Label>
                        <Text text="{detailModel>/bizdivision_code}">
                            <layoutData>
                                <layout:GridData span="XL4 L4 M4 S12" />
                            </layoutData>
                        </Text>

                        </form:content>

                        <form:layoutData>
                            <layout:GridData span="XL6 L6 M6 S12" />
                        </form:layoutData>
                    
                    </form:SimpleForm>

                    <VBox class="sapUiSmallMarginTop">
                        <Label text="상태">
                            <layoutData>
                                <layout:GridData span="XL1 L1 M6 S12" />
                            </layoutData>
                        </Label>
                        <ObjectStatus class="sapMObjectStatusLarge" text="{detailModel>/project_status_text}" state="Error">
                            <layoutData>
                                <layout:GridData span="XL3 L3 M6 S12" />
                            </layoutData>
                        </ObjectStatus>
                        <layoutData>
                            <layout:GridData span="XL2 L2 M2 S12" />
                        </layoutData>
                    </VBox>

                    <!--Image-->
                    <Image 
                        ariaDetails="detailsActiveImage" class="sapUiLargeMarginBegin"
                        src="https://www.asiatime.co.kr/news/data/20171128/p179534486305855_461.jpg"
                        decorative="false"
                        width="10em"
                        height="10em">            
                        <layoutData>
                            <layout:GridData span="XL4 L4 M4 S12" />
                        </layoutData>                    
                    </Image>
                    </form:content>
                </form:SimpleForm>
            </VBox>        
        </uxap:headerContent>

		<uxap:sections>
			<uxap:ObjectPageSection title="기준정보" titleUppercase="false">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
						<uxap:blocks>
							<block:BlockGeneralInfo id="blGeneralInfo" />
						</uxap:blocks>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
 		    </uxap:ObjectPageSection>

            <uxap:ObjectPageSection title="판가/물동/원가" titleUppercase="false">
                <uxap:subSections>
					<uxap:ObjectPageSubSection>
						<uxap:blocks>
							<block:BlockPrice id="blPrice"/>
						</uxap:blocks>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

			<uxap:ObjectPageSection title="첨부파일" titleUppercase="false" >
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
						<uxap:blocks>
							<block:BlockAttachment id="blAttachment"/>
						</uxap:blocks>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>
		</uxap:sections>

        <uxap:footer>
            <OverflowToolbar>
                <ToolbarSpacer />
                    <Button type="Transparent" text="취소" press=".onBackPress" class="sapUiSmallMarginEnd" visible="{detailModel>/mode/readMode}"/>
                    <Button type="Transparent" text="취소" press=".onReadPress" class="sapUiSmallMarginEnd" visible="{detailModel>/mode/editMode}"/>
                    <Button type="Transparent" text="수정" press=".onEditPress" class="sapUiSmallMarginEnd" enabled="{detailModel>/mode/readMode}"/>
                    <Button type="Emphasized"  text="저장"  press=".onSavePress" class="sapUiSmallMarginEnd" visible="{detailModel>/mode/editMode}"/>
            </OverflowToolbar>
        </uxap:footer>
	</uxap:ObjectPageLayout>

</mvc:View>