<mvc:View controllerName="dp.moldApprovalList.controller.PssaCreateObject" 
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:uxap="sap.uxap"
    xmlns:form="sap.ui.layout.form" 
    xmlns:core="sap.ui.core" 
    xmlns:layout="sap.ui.layout"
    xmlns:tnt="sap.tnt"
    xmlns:co="sap.suite.ui.commons"
    xmlns:si="sap.suite.ui.commons.statusindicator"
    xmlns:u="sap.ui.unified" 
    xmlns:table="sap.ui.table" 
    xmlns="sap.m"
	height="100%">

	<uxap:ObjectPageLayout 
        id="page"
		showTitleInHeaderContent="true"
		showEditHeaderButton="true" 
        upperCaseAnchorBar="false"
		showFooter="true"
		editHeaderButtonPress="handleEditBtnPress" >
		<uxap:headerTitle>
			<uxap:ObjectPageDynamicHeaderTitle>
				<uxap:expandedHeading>
					<Title text="Participating Supplier Selection Approval" wrapping="true" />
				</uxap:expandedHeading>

				<uxap:snappedHeading>
                    <FlexBox fitContainer="true" alignItems="Center">
						<Title text="Participating Supplier Selection Approval" wrapping="true"/>
					</FlexBox>
				</uxap:snappedHeading>

			    <uxap:expandedContent>
				</uxap:expandedContent>

				<uxap:snappedContent>
				</uxap:snappedContent>

				<uxap:snappedTitleOnMobile>
				</uxap:snappedTitleOnMobile>

				<uxap:actions>
                    <!-- 상단 버튼 영역 -->
				</uxap:actions>

                <uxap:navigationActions>
					<OverflowToolbarButton id="pageNavBackButton" icon="sap-icon://decline" text="back" tooltip="back to the list" press=".onPageNavBackButtonPress" />
                </uxap:navigationActions>
			</uxap:ObjectPageDynamicHeaderTitle>
		</uxap:headerTitle>

		<uxap:headerContent>
			<FlexBox wrap="Wrap" >
				<layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                    <ObjectStatus
                        title="Report No"
                        text="332424-20B-00144"/>
                    <ObjectStatus
                        title="Requester"
                        text="김갑수[ks.kim]"/>
                    <ObjectStatus
                        title="Request Date"
                        text="2020-11-20"/>
				</layout:VerticalLayout>

                <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
					<Label text="Status :"/>
                    <ObjectStatus
                        class="sapMObjectStatusLarge"
                        text="New"
                        state="Error" />
				</layout:VerticalLayout>

                <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                      <HBox>
                        <Title text="Process"/>
                    </HBox>
                    <HBox>
                        <co:MicroProcessFlow>
                            <co:content>
                                <co:MicroProcessFlowItem state="None" stepWidth="3rem" />
                                <co:MicroProcessFlowItem state="None" stepWidth="3rem" />
                                <co:MicroProcessFlowItem state="Error" stepWidth="3rem" icon="sap-icon://circle-task" />
                                <co:MicroProcessFlowItem state="None" stepWidth="3rem" />
                                <co:MicroProcessFlowItem state="None" stepWidth="3rem" />
                                <co:MicroProcessFlowItem state="None" stepWidth="3rem" />
                                <co:MicroProcessFlowItem state="None" stepWidth="3rem" />
                                <co:MicroProcessFlowItem state="None" stepWidth="3rem" />
                                <co:MicroProcessFlowItem state="None" stepWidth="3rem" />
                            </co:content>
                        </co:MicroProcessFlow>
                    </HBox>
                      <HBox>
                        <Text text=" PR" renderWhitespace="true" />
                        <Text text="Budget" width="6em" textAlign="Right" />
                        <Text text="RFQ" width="6em" textAlign="Center" />
                        <Text text="   Mold&#10;   Spec" renderWhitespace="true" />
                        <Text text="Purchase&#10; Contract" width="8em" textAlign="Center" />
                        <Text text="PO" renderWhitespace="true" />
                        <Text text="RCV" width="5em" textAlign="Right" />
                        <Text text="Lease&#10;Contract" width="7.5em" textAlign="Center" />
                        <Text text="Invoice" />
                    </HBox>
                </layout:VerticalLayout>
			</FlexBox>
		</uxap:headerContent>

		<uxap:sections id="pss">

			<uxap:ObjectPageSection  id="pageSectionMain" titleUppercase="true" title="General Info">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
                        <layout:VerticalLayout class="sapUiSmallMarginBeginEnd"> 
                                <HBox alignItems="Center">
                                    <Label
                                        text="Subject "
                                        design="Normal"
                                        class="sapUiTinyMarginEnd"
                                        textAlign="Left"
                                        labelFor="input"
                                        required="true"/>
                                    <Input
                                        value="Input data"
                                        visible="true"
                                        width="40em" 
                                        placeholder="필수"
                                        >
                                    </Input>
                                </HBox>
                            <VBox>
                                <Label text="Description" labelFor="input" required="true"></Label> 
                                <layout:VerticalLayout id="idVerticalLayout" class="sapUiContentPadding" width="100%">
                                </layout:VerticalLayout>
                            </VBox>
                        </layout:VerticalLayout> 						
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

			<uxap:ObjectPageSection titleUppercase="false" title="Attachments">
				<uxap:subSections>
					<uxap:ObjectPageSubSection >
                        <layout:VerticalLayout class="sapUiSmallMarginBeginEnd" width="100%">
                    
                            <UploadCollection
                                id="UploadCollection"
                                maximumFilenameLength="55"
                                maximumFileSize="10"
                                multiple="true"
                                sameFilenameAllowed="true"
                                instantUpload="false"
                                noDataDescription="Drop files or use the &quot;Add&quot; button to keep files ready for upload"
                                change="onChange"
                                fileDeleted="onFileDeleted"
                                filenameLengthExceed="onFilenameLengthExceed"
                                fileSizeExceed="onFileSizeExceed"
                                typeMissmatch="onTypeMissmatch"
                                uploadComplete="onUploadComplete"
                                beforeUploadStarts="onBeforeUploadStarts" />
                                
                            <Button id="Button" text="Upload Now" press="onStartUpload" />
                        </layout:VerticalLayout> 

					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

			<uxap:ObjectPageSection titleUppercase="false" title="Participating Supplier">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
                       <HBox>
                         <VBox class="sapUiSmallMargin">
                            <Label text="Affiliate" />
                            <ObjectStatus
                                text="{pssaCreateObjectView>/company}" 
                                state="Error"
                                />
                         </VBox>
                         <VBox class="sapUiSmallMargin">
                            <Label text="Division" />
                            <ObjectStatus
                                text="{pssaCreateObjectView>/plant}" 
                                state="Error"
                                />
                         </VBox>
                        </HBox>
                    </uxap:ObjectPageSubSection>
                    <uxap:ObjectPageSubSection>
                        <!-- Participating Supplier Table -->
                        <table:Table id="psTable"
                                selectionMode="MultiToggle"
                                fixedColumnCount="4"
                                visibleRowCountMode="Auto"
                                rows="{createlist>/}"
                                >
                             <table:extension>
                                <OverflowToolbar>
                                    <ToolbarSpacer/>
                                    <!-- Add the Personalization button -->
                                    <Button id="btnPsAdd"     type="Transparent" text="Add" press=".handleTableSelectDialogPress" >
                                    	<customData>
                                            <core:CustomData key="multi" value="true" />
                                        </customData>
                                    </Button>
                                    <Button id="btnPsDelete"   type="Transparent" text="Delete"  press=".onPsDelRow" />
                                    <Button id="btnPsSuplierSel"  type="Emphasized"  text="Supplier Select"   press=".onPsSupplier" />
                                    <!-- <ToolbarSeparator/>
                                    <Button icon="sap-icon://action-settings" press="" >
                                        <layoutData>
                                            <OverflowToolbarLayoutData priority="NeverOverflow" />
                                        </layoutData>
                                    </Button> -->
                                </OverflowToolbar>
                            </table:extension>          

                                <table:columns>
                                    <table:Column id="c_model" width="5em" hAlign="Center">
                                        <Label text="Model"/>           
                                        <table:template>
                                            <Text id="mold_receipt_flag" text=""/>
                                        </table:template>
                                    </table:Column>
                                    <table:Column id="c_moldPartNo" width="10em" hAlign="Center">
                                        <Label text="Mold&#10;Part No"/>           
                                        <table:template>
                                            <Text id="mold_part_no" text=""/>
                                        </table:template>
                                    </table:Column>
                                    <table:Column id="c_seq" width="10em" hAlign="Center">
                                        <Label text="Seq"/>           
                                        <table:template>
                                            <Text id="seq" text=""/>
                                        </table:template>
                                    </table:Column>
                                    <table:Column id="c_description" width="10em" hAlign="Center">
                                        <Label text="Description"/>           
                                        <table:template>
                                            <Text id="description" text=""/>
                                        </table:template>
                                    </table:Column>       
                                    <table:Column id="c_MoldItemType" width="10em" hAlign="Center">
                                        <Label text="Mold Item Type"/>           
                                        <table:template>
                                            <Text id="moldItemType" text=""/>
                                        </table:template>
                                    </table:Column>                                     
                                    <table:Column id="c_bookCrrency" width="10em" hAlign="Center">
                                        <Label text="Book Currency"/>           
                                        <table:template>
                                            <Text id="bookCurrency" text=""/>
                                        </table:template>
                                    </table:Column>                                     
                                    <table:Column id="c_budetAmount" width="10em" hAlign="Center">
                                        <Label text="Budget Amount"/>           
                                        <table:template>
                                            <Text id="budetAmount" text=""/>
                                        </table:template>
                                    </table:Column>                                     
                                    <table:Column id="c_currency" width="10em" hAlign="Center">
                                        <Label text="Currency"/>           
                                        <table:template>
                                            <Text id="currency" text=""/>
                                        </table:template>
                                    </table:Column>                                     
                                    <table:Column id="c_targetAmount" width="10em" hAlign="Center">
                                        <Label text="Target Amount"/>           
                                        <table:template>
                                            <Text id="targetAmount" text=""/>
                                        </table:template>
                                    </table:Column>                                     
                                    <table:Column id="c_moldSupplier1" width="10em" hAlign="Center">
                                        <Label text="Mold Supplier1"/>           
                                        <table:template>
                                            <Text id="moldSupplier1" text=""/>
                                        </table:template>
                                    </table:Column>                                     
                                    <table:Column id="c_moldSupplier2" width="10em" hAlign="Center">
                                        <Label text="Mold Supplier2"/>           
                                        <table:template>
                                            <Text id="moldSupplier2" text=""/>
                                        </table:template>
                                    </table:Column>                                     
                                    <table:Column id="c_moldSupplier3" width="10em" hAlign="Center">
                                        <Label text="Mold Supplier3"/>           
                                        <table:template>
                                            <Text id="moldSupplier3" text=""/>
                                        </table:template>
                                    </table:Column>                                     
                                    <table:Column id="c_moldSupplier4" width="10em" hAlign="Center">
                                        <Label text="Mold Supplier4"/>           
                                        <table:template>
                                            <Text id="moldSupplier4" text=""/>
                                        </table:template>
                                    </table:Column>                                     
                                    <table:Column id="c_moldSupplier5" width="10em" hAlign="Center">
                                        <Label text="Mold Supplier5"/>           
                                        <table:template>
                                            <Text id="moldSupplier5" text=""/>
                                        </table:template>
                                    </table:Column>                                     
                                    <table:Column id="c_moldSupplier6" width="10em" hAlign="Center">
                                        <Label text="Mold Supplier6"/>           
                                        <table:template>
                                            <Text id="moldSupplier6" text=""/>
                                        </table:template>
                                    </table:Column>                                     
                                    <table:Column id="c_moldSupplier7" width="10em" hAlign="Center">
                                        <Label text="Mold Supplier7"/>           
                                        <table:template>
                                            <Text id="moldSupplier7" text=""/>
                                        </table:template>
                                    </table:Column>                                     
                                    <table:Column id="c_moldSupplier8" width="10em" hAlign="Center">
                                        <Label text="Mold Supplier8"/>           
                                        <table:template>
                                            <Text id="moldSupplier8" text=""/>
                                        </table:template>
                                    </table:Column>                                     
                                    <table:Column id="c_moldSupplier9" width="10em" hAlign="Center">
                                        <Label text="Mold Supplier9"/>           
                                        <table:template>
                                            <Text id="moldSupplier9" text=""/>
                                        </table:template>
                                    </table:Column>                                     
                                    <table:Column id="c_moldSupplier10" width="10em" hAlign="Center">
                                        <Label text="Mold Supplier10"/>           
                                        <table:template>
                                            <Text id="moldSupplier10" text=""/>
                                        </table:template>
                                    </table:Column>                                     
                                </table:columns>

                          </table:Table>
                       
                        <!-- // -->
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

			<uxap:ObjectPageSection titleUppercase="false" title="Approval Line">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
							
                        <Table id="ApprovalTable"       
                            growing="true"
                            growingThreshold="20"
                            class="sapFDynamicPageAlignContent" 
                            updateFinished=".onListMainTableUpdateFinished"
                            rowSelectionChange = ".onCheck"
                            mode="MultiSelect"
                            width="auto"
                            items="{appList>/undefined}"
                            >
                        <headerToolbar>
                            <OverflowToolbar>
                            <Label text="Approval Line"/>
                            </OverflowToolbar>
                        </headerToolbar>
                        <columns>
                            <Column id="no" minScreenWidth="Tablet" hAlign="Center" mergeDuplicates="true" width="5em" >
                                <Text text="No." />
                            </Column>
                            <Column id="type" minScreenWidth="Tablet" hAlign="Center" mergeDuplicates="true" width="12em" >
                                <Text text="Type" />
                            </Column>
                            <Column id="nameDept" minScreenWidth="Tablet" hAlign="Center" width="12em" >
                                <Text text="Name/Dept" />
                            </Column>
                            <Column id="status" minScreenWidth="Tablet" hAlign="Center" width="12em" >
                                <Text text="Status" />
                            </Column> 
                            <Column id="comment" minScreenWidth="Tablet" hAlign="Center" width="12em" >
                                <Text text="Comment" />
                            </Column>
                            <Column id="sort" minScreenWidth="Tablet" hAlign="Center" width="3em" >
                                  <Text text="" />
                            </Column>					
                            <Column id="action" minScreenWidth="Tablet" hAlign="Center" width="3em" >
                                  <Text text="" />
                            </Column>					
                        </columns>
                        <items>
                             <ColumnListItem>
                                <cells>
                                    <!-- <ObjectIdentifier title="{Name}" text="{ProductId}"/> -->
                                    <Text text="{appList>no}" />
                                    <ComboBox   id="searchItemType" width="100%"
                                        selectedKey=""
                                        items="{}"
                                    ><core:Item key="{util>code}" text="{util>code_description}" />
                                    </ComboBox>
                                    <SearchField placeholder="Search employee" search="onFilter"/>
                                    <Text text="{appList>status}" />
                                    <Text text="{appList>comment}" />
                                    <Button id="btnSort" icon="sap-icon://sort" press="onSort" tooltip="sort"></Button>
                                    <Button id="btnDelete" icon="sap-icon://delete" press="onDelete" tooltip="삭제"></Button>
                                </cells>
                            </ColumnListItem>   
                        </items>
                        
                    </Table>
                            
					</uxap:ObjectPageSubSection> 
                    <uxap:ObjectPageSubSection>
                        <Label text="Referrer"/>
                        <VBox>
                            <MultiInput id="searchRef" valueHelpOnly="true" width="100%" height="12em" valueHelpRequest=".onValueHelpRequested"/>
                        </VBox>
                    </uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

		</uxap:sections>
		<uxap:footer>
			<OverflowToolbar>
				<ToolbarSpacer />
				<Button type="Transparent" text="Draft" press=".onPageSaveButtonPress" />
				<Button type="Transparent" text="Preview" press=".onPageSaveButtonPress" />
				<!-- <Button type="Transparent" text="Delete" press=".onPageSaveButtonPress" /> -->
				<Button type="Emphasized" text="Request" press=".onPageCancelEditButtonPress"/>
			</OverflowToolbar>
		</uxap:footer>
	</uxap:ObjectPageLayout>
</mvc:View>