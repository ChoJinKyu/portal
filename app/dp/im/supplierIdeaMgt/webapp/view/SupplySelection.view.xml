<mvc:View controllerName="dp.im.supplierIdeaMgt.controller.SupplySelection" 
	xmlns:mvc="sap.ui.core.mvc" 
	xmlns="sap.m" 
	xmlns:uxap="sap.uxap" 
	xmlns:layout="sap.ui.layout" 
    xmlns:form="sap.ui.layout.form"
    xmlns:sc="sap.suite.ui.commons"
	xmlns:core="sap.ui.core"
    xmlns:richtexteditor="sap.ui.richtexteditor"
	height="100%">

	<uxap:ObjectPageLayout id="page"
		toggleHeaderOnTitleClick="true"
		alwaysShowContentHeader = "true"
		preserveHeaderStateOnScroll="false"
		headerContentPinnable="true"
		isChildPage="true"
		upperCaseAnchorBar="false"
		showTitleInHeaderContent="true"
		showEditHeaderButton="true" 
		showFooter="false">
		<uxap:headerTitle>
			<uxap:ObjectPageDynamicHeaderTitle>
				<uxap:expandedHeading>
					<Title text="{I18N>/IDEA} {I18N>/DETAIL}" wrapping="true" />
				</uxap:expandedHeading>
				<uxap:snappedHeading>
					<Title text="{I18N>/IDEA} {I18N>/DETAIL}" wrapping="true" />
				</uxap:snappedHeading>
				<!-- <uxap:expandedContent>
					<Text text="Details for control option {control_option_code}" />
				</uxap:expandedContent>
				<uxap:snappedContent>
					<Text text="Details for control option {control_option_code}" />
				</uxap:snappedContent>
				<uxap:snappedTitleOnMobile>
					<Title text="Control Option Details" />
				</uxap:snappedTitleOnMobile> -->
				<!-- <uxap:actions>
					<Button id="pageEditButton" text="Edit" type="Emphasized" press=".onPageEditButtonPress" />
					<Button id="pageDeleteButton" text="Delete" type="Transparent" press=".onPageDeleteButtonPress" />
				</uxap:actions> -->
                <uxap:navigationActions>
					<!-- <OverflowToolbarButton id="pageEnterFullScreenButton" type="Transparent" icon="sap-icon://full-screen" press="onPageEnterFullScreenButtonPress" tooltip="Enter Full Screen Mode" visible="{= ${/actionButtonsInfo/midColumn/fullScreen} !== null }"/>
					<OverflowToolbarButton id="pageExitFullScreenButton" type="Transparent" icon="sap-icon://exit-full-screen" press="onPageExitFullScreenButtonPress" tooltip="Exit Full Screen Mode" visible="{= ${/actionButtonsInfo/midColumn/exitFullScreen} !== null }"/> -->
					<OverflowToolbarButton id="pageNavBackButton" type="Transparent" icon="sap-icon://decline" text="back" tooltip="back to the list" press=".onPageNavBackButtonPress" visible="{= ${/actionButtonsInfo/midColumn/closeColumn} !== null }"/>
                </uxap:navigationActions>
			</uxap:ObjectPageDynamicHeaderTitle>
		</uxap:headerTitle>

		<uxap:headerContent>
			<FlexBox wrap="Wrap" visible="true">
				<layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                    <ObjectStatus
                        title="{I18N>/IDEA} {I18N>/SEQUENCE}: "
                        text="{master>/idea_number}"/>
                    <ObjectStatus
                        title="{I18N>/SUPPLIER}: "
                        text="{master>/supplier_local_name}"/>
                    <ObjectStatus
                        id="createUser"         
                        title="{I18N>/IDEA} {I18N>/WRITER}: "
                        text="{master>/idea_create_user_local_name}"/>
                    <ObjectStatus
                        id="ideaDate"         
                        title="{I18N>/IDEA} {I18N>/WRITE_DATE}: "
                        text="{master>/idea_date}"/>
				</layout:VerticalLayout>
			</FlexBox>
		</uxap:headerContent>

		<uxap:sections>
			<uxap:ObjectPageSection id="pageSectionMain" titleUppercase="false" title="품의정보">
				<uxap:subSections>
					<uxap:ObjectPageSubSection id="pageSubSection1">
                    <form:SimpleForm id="midObjectForm" editable="{midObjectViewModel>/isEditMode}">                    
                        <VBox alignContent="Center" alignItems="Stretch" class="sapUiSmallMarginBegin"> 
                            <Label  text="* 품의명" 
                                    required="{midObjectViewModel>/isEditMode}"
                                    design="Bold" 
                                    class="sapUiSmallMarginBottom" />
                            <Input value="{
                                path: 'master>/loi_selection_title',
                                type: 'sap.ui.model.type.String',
                                constraints: {
                                    maxLength: 50
                                }
                            }" class="sapMLabelNoText" required="{midObjectViewModel>/isEditMode}" width="98%" editable="{midObjectViewModel>/isEditMode}"/>
                   
                            <!-- <Label  text="* 품의명" 
                                    required="true"
                                    design="Bold" 
                                    class="sapUiSmallMarginBottom" visible="{midObjectViewModel>/isEditMode}"/>
                            <Input value="{
                                path: 'master>/loi_selection_title',
                                type: 'sap.ui.model.type.String',
                                constraints: {
                                    maxLength: 50
                                }
                            }" class="sapMLabelNoText" required="true" width="98%" visible="{midObjectViewModel>/isEditMode}"/>
                            <Label  text="* 품의명" 
                                    design="Bold" 
                                    class="sapUiSmallMarginBottom" visible="{= ${midObjectViewModel>/isEditMode} === true ? false : true }"/>                            
                            <Text text="{master>/loi_selection_title}" class="sapMLabelNoText" width="98%" visible="{= ${midObjectViewModel>/isEditMode} === true ? false : true }"/> -->

                            <Label  text="* 업체선정결과" 
                                    design="Bold" 
                                    class="sapUiSmallMarginTop"/>
                            <Table id="tableAttachments" 
                                sticky="HeaderToolbar,ColumnHeaders" 
                                inset="false" 
                                class="sapFDynamicPageAlignContent" 
                                mode="None"
                                width="98%">
                                <columns>
                                     <Column minScreenWidth="Tablet" hAlign="Center"  >
                                        <Text text="Line No." />
                                    </Column>
                                     <Column minScreenWidth="Tablet" hAlign="Center"  >
                                        <Text text="플랜트" />
                                    </Column>
                                     <Column minScreenWidth="Tablet" hAlign="Center"  >
                                        <Text text="품명" />
                                    </Column>
                                     <Column minScreenWidth="Tablet" hAlign="Center"  >
                                        <Text text="단위" />
                                    </Column>
                                     <Column minScreenWidth="Tablet" hAlign="Center"  >
                                        <Text text="수량" />
                                    </Column>
                                     <Column minScreenWidth="Tablet" hAlign="Center"  >
                                        <Text text="통화" />
                                    </Column>  
                                     <Column minScreenWidth="Tablet" hAlign="Center"  >
                                        <Text text="요청금액" />
                                    </Column> 
                                     <Column minScreenWidth="Tablet" hAlign="Center"  >
                                        <Text text="선정결과" />
                                    </Column>
                                     <Column minScreenWidth="Tablet" hAlign="Center"  >
                                        <Text text="참여업체" />
                                    </Column>
                                     <Column minScreenWidth="Tablet" hAlign="Center" width="8rem">
                                        <Text text="환산견적금액" />
                                    </Column>
                                     <Column minScreenWidth="Tablet" hAlign="Center" width="8rem">
                                        <Text text="요청납기일자" />
                                    </Column>
                                     <Column minScreenWidth="Tablet" hAlign="Center" width="8rem">
                                        <Text text="회신납기일자" />
                                    </Column>
                                     <Column minScreenWidth="Tablet" hAlign="Center"  >
                                        <Text text="비고" />
                                    </Column>  
                                     <Column minScreenWidth="Tablet" hAlign="Center"  >
                                        <Text text="견적번호" />
                                    </Column>                                                                                                                                                                                    
                                </columns>
                                <items>
                                    <ColumnListItem type="Inactive" >
                                        <cells>
                                            <Text text="10"/>
                                            <Text text="여수 공통"/>
                                            <Text text="FFU"/>
                                            <Text text="EA"/>
                                            <Text text="3,260"/>
                                            <Text text="KRW"/>
                                            <Text text="10,000,000"/>
                                            <Text text="1(선정)"/>
                                            <Text text="신성이엔지"/>
                                            <Text text="10,000,000"/>
                                            <Text text="2021-02-01"/>
                                            <Text text="2021-02-01"/>
                                            <Text text=""/>
                                            <Text text="123400"/>
                                         </cells>
                                    </ColumnListItem>
                                    <ColumnListItem type="Inactive" >
                                        <cells>
                                            <Text text="20"/>
                                            <Text text="여수 공통"/>
                                            <Text text="FFU용 Filter"/>
                                            <Text text="EA"/>
                                            <Text text="1"/>
                                            <Text text="KRW"/>
                                            <Text text="10,000,000"/>
                                            <Text text="1(선정)"/>
                                            <Text text="신성이엔지"/>
                                            <Text text="10,000,000"/>
                                            <Text text="2021-03-01"/>
                                            <Text text="2021-02-25"/>
                                            <Text text=""/>
                                            <Text text="123400"/>
                                         </cells>
                                    </ColumnListItem>
                                </items>
                            </Table>

                            <Label  text="* 특기사항" 
                                        design="Bold" 
                                        class="sapUiMediumMarginTop sapUiSmallMarginBottom"/>
                            <richtexteditor:RichTextEditor
                                editorType="TinyMCE4"
                                width="98%"
                                height="200px"
                                editable="{midObjectViewModel>/isEditMode}"
                                customToolbar="true"
                                showGroupFont="true"
                                showGroupLink="true"
                                showGroupInsert="true"
                                value="{master>/special_note}">
                            </richtexteditor:RichTextEditor>                            
                        </VBox>
                        </form:SimpleForm>                    
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

            <!-- 첨부파일 시작 -->
			<uxap:ObjectPageSection titleUppercase="false" title="첨부파일">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
						<uxap:blocks>
                            <!-- File Upload 시작-->
                            <UploadCollection
                                id="UploadCollection"
                                maximumFilenameLength="55"
                                maximumFileSize="10"
                                multiple="true"
                                sameFilenameAllowed="true"
                                instantUpload="false"
                                noDataDescription="Drop files or use the &quot;Add&quot; button to keep files ready for upload"
                                change="onChange"
                                fileDeleted="onFileDeleted"
                                filenameLengthExceed="onFilenameLengthExceed"
                                fileSizeExceed="onFileSizeExceed"
                                typeMissmatch="onTypeMissmatch"
                                uploadComplete="onUploadComplete"
                                beforeUploadStarts="onBeforeUploadStarts" />
                            <!-- File Upload 끝-->
						</uxap:blocks>
					</uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>
            <!-- 첨부파일 끝 -->

            <!-- 결재라인 시작 -->
			<uxap:ObjectPageSection titleUppercase="false" title="결재라인">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
						<uxap:blocks>
                            <!-- Approval & Reference 시작 -->
                            <HBox>
        
                            </HBox>
                            <!-- Approval & Reference 끝 -->
						</uxap:blocks>
					</uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>
            <!-- 결재라인 끝 -->

		</uxap:sections>
		
		<uxap:footer>
			<OverflowToolbar>
                <Button
                    icon="sap-icon://alert"
                    type="Emphasized"
                    text="{= ${message>/}.length }"
                    visible="{= ${message>/}.length > 0 }"
                    ariaHasPopup="Dialog"
                    press=".onMessagePopoverPress" />
				<ToolbarSpacer />
                <Button id="pageEditButton" type="Transparent" text="Edit" press=".onPageEditButtonPress" />
                <Button id="pageDeleteButton" type="Transparent" text="Delete" press=".onPageDeleteButtonPress" visible="{= ${editMode>/newcheck} === 'new' ? false : true}"/>                
				<Button id="pageSaveButton" type="Emphasized" text="Draft" press=".onPageSaveButtonPress('D')" />
                <Button id="pageRequestButton" type="Emphasized" text="Request" press=".onPageSaveButtonPress('R')" />
                <Button id="pageByPassButton" type="Emphasized" text="ByPass" press=".onPageSaveButtonPress('B')" />
				<Button id="pageCancelButton" type="Transparent" text="Cancel" press=".onPageCancelEditButtonPress"/>
			</OverflowToolbar>
		</uxap:footer>
	</uxap:ObjectPageLayout>
</mvc:View>