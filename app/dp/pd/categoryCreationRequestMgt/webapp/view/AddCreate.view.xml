<mvc:View controllerName="dp.pd.categoryCreationRequestMgt.controller.AddCreate"
	xmlns:mvc="sap.ui.core.mvc" 
	xmlns="sap.m" 
    xmlns:t="sap.ui.table"
	xmlns:uxap="sap.uxap" 
	xmlns:layout="sap.ui.layout" 
    xmlns:form="sap.ui.layout.form"
    xmlns:sc="sap.suite.ui.commons"
	xmlns:core="sap.ui.core"
    xmlns:richtexteditor="sap.ui.richtexteditor"
        
	height="100%">

	<uxap:ObjectPageLayout id="page"
		toggleHeaderOnTitleClick="true"
		alwaysShowContentHeader = "true"
		preserveHeaderStateOnScroll="false"
		headerContentPinnable="true"
		isChildPage="true"
		upperCaseAnchorBar="false"
		showTitleInHeaderContent="true"
		showEditHeaderButton="true" 
        showFooter="false"
        >
		<uxap:headerTitle>
			<uxap:ObjectPageDynamicHeaderTitle>
				<uxap:expandedHeading>
                    <HBox alignItems="End">
                        <OverflowToolbarButton id="pageNavBackButton" type="Transparent" icon="sap-icon://nav-back" tooltip="back to the list" press=".onPageNavBackButtonPress" visible="{= ${/actionButtonsInfo/midColumn/closeColumn} !== null }"/>
					    <Title text="{I18N>/PART_CATEGORY_CREATION}" wrapping="true" />
                    </HBox>
				</uxap:expandedHeading>
				<uxap:snappedHeading>
					    <Title text="{I18N>/PART_CATEGORY_CREATION}" wrapping="true" />
				</uxap:snappedHeading>
			</uxap:ObjectPageDynamicHeaderTitle>
		</uxap:headerTitle>

		<uxap:headerContent>
			<FlexBox wrap="Wrap" visible="true" width="100%">
                    <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                        <layout:HorizontalLayout class="sapUiSmallMarginBeginEnd">
                            <Label text="{I18N>/REQUEST_NUMBER} :"/>
                            <ObjectStatus text="{master>/request_number}"/>
                        </layout:HorizontalLayout>
                        <layout:HorizontalLayout class="sapUiSmallMarginBeginEnd">
                            <Label text="{I18N>/REQUESTOR} :"/>
                            <ObjectStatus text="{master>/requestor}"/>
                        </layout:HorizontalLayout>
                    </layout:VerticalLayout>
			</FlexBox>
		</uxap:headerContent>

		<uxap:sections>
			<uxap:ObjectPageSection id="pageSectionMain1" titleUppercase="false" title="{I18N>/CATEGORY}">
				<uxap:subSections>
					<uxap:ObjectPageSubSection id="pageSubSection1" >
                    <form:SimpleForm id="midObjectForm" >
                        <HBox alignContent="Center" alignItems="Stretch" class="sapUiSmallMarginBegin">
                            <layout:Grid containerQuery="true" defaultSpan="XL2 L4">
                                <VBox>
                                <!-- liveChange=".onCellChg"  -->
                                    <Label text="{I18N>/CATEGORY_GROUP}: " labelFor="groupCategoryCombo"  required="true"></Label>
                                    <ComboBox
                                        id="groupCategoryCombo"
                                        selectedKey="{master>/category_group_code}"
                                        editable="false" 
                                        visible="{viewModel>/editMode}" 
                                        items="{
                                            path: 'common>/Code',
                                            filters: [
                                                {path: 'tenant_id', operator: 'EQ', value1: 'L2101'},
                                                {path: 'group_code', operator: 'EQ', value1: 'DP_PD_CATEGORY_GROUP'}
                                            ]
                                        }">
                                        <items>
                                            <core:Item key="{common>code}" text="[{common>code}] {common>code_name}" />
                                        </items>
                                    </ComboBox>
                                    <Text id="groupCategoryComboTxt" width="80%" textAlign="Left"  text="{master>/category_group_code}" visible="{viewModel>/showMode}"/>  
                                </VBox>
                                <VBox>
                                    <Label text="{I18N>/PARENT_CATEGORY_CODE}: " labelFor="pGroupCategory"   required="true"></Label>
                                    
                                    <!-- <SearchField id="pGroupCategory" placeholder=" "  search=".onSearchPartCategory(1)"   
                                    required="true" width="50%"  value="{PdPartCategoryModel>/parent_category_code}" enabled="{viewModel>/editMode}" /> -->

                                    <Input id="pGroupCategory"  width="250px"   visible="{viewModel>/editMode}"  required="true"
                                        showValueHelp="true" valueHelpRequest=".onSearchPartCategory(1)"
                                        placeholder=" " value="{PdPartCategoryModel>/parent_category_code}"/>
                                    <Text id="pGroupCategoryTxt" width="80%" textAlign="Left"  text="{PdPartCategoryModel>/parent_category_code}" visible="{viewModel>/showMode}"/>    

                                    <!-- <Input id="pGroupCategory"  width="80%"   visible="{viewModel>/editMode}"  required="true"
                                        placeholder="{I18N>/PARENT_CATEGORY_CODE} {I18N>/NAME}" value="{PdPartCategoryModel>/parent_category_code}"/>
                                    <Text id="pGroupCategoryTxt" width="80%" textAlign="Left"  text="{PdPartCategoryModel>/parent_category_code}" visible="{viewModel>/showMode}"/> -->
                                </VBox>
                                <VBox>
                                    <Label text="{I18N>/SEQUENCE}: " labelFor="sequence"  ></Label>
                                    <Input id="sequence"  width="10%"   enabled="false"  visible="{viewModel>/editMode}" value="{PdPartCategoryModel>/sequence}"/>
                                    <Text id="sequenceTxt" width="80%" textAlign="Left"  text="{PdPartCategoryModel>/sequence}" visible="{viewModel>/showMode}"/>
                                    <!-- <MaskInput id="sequence" mask="999" placeholderSymbol=" " width="10%"   enabled="false"
                                        placeholder="{I18N>/SEQUENCE}" value="{PdPartCategoryModel>/sequence}"/> -->
                                    <!-- <Text id="sequenceTxt" width="80%" textAlign="Left"  text="{PdPartCategoryModel>/sequence}" visible="{viewModel>/showMode}"/> -->

                
                                </VBox>
                            </layout:Grid>
                            
                            <VBox>
                                <Label text="{I18N>/STATUS}: " labelFor="statusButton"></Label>
                                <SegmentedButton id="statusButton" selectedKey="{PdPartCategoryModel>/active_flag}" class="sapUiSmallMarginBottom" width="100%" >
                                    <items>
                                        <SegmentedButtonItem text="Active" key="true" width="5rem" />
                                        <SegmentedButtonItem text="Inactive" key="false" width="5rem" />
                                    </items>
                                </SegmentedButton>
                                <layoutData>
                                    <layout:GridData span="XL6 L6 M12 S12" />
                                </layoutData>
                            </VBox>
                            
                        </HBox>
                        </form:SimpleForm>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

            <uxap:ObjectPageSection id="pageSectionMain2" titleUppercase="false" 
                 title="{I18N>/LANGUAGE}">
                 <!-- title="{I18N>/LANGUAGE} ({= (${pdPartCategoryLng})?${pdPartCategoryLng}.length:0})"> -->
				<uxap:subSections>
					<uxap:ObjectPageSubSection id="pageSubSection2" >
						<Table id="midTable2" 
                            sticky="HeaderToolbar,ColumnHeaders" 
                            inset="false" 
                            items="{pdPartCategoryLng>/}"
                            class="sapFDynamicPageAlignContent"
                            mode="{= ${viewModel>/editMode} ? 'MultiSelect' : 'None' }"
                            width="100%">
							<headerToolbar>
								<OverflowToolbar>
									<ToolbarSpacer/>
                                    <Button id="midTableAddButton" text="{I18N>/ROW_ADD}" type="Transparent" press=".onAdd" 
                                        visible="{viewModel>/editMode}"/>
									<Button id="midTableDeleteButton" text="{I18N>/ROW_DELETE}" type="Transparent" press=".onDelete"
                                        visible="{viewModel>/editMode}"/>
								</OverflowToolbar>
							</headerToolbar>
							<columns>
								<Column minScreenWidth="Small" hAlign="Center" width="40px" >
									<!-- <Text text="S" /> -->
								</Column>
								<Column minScreenWidth="Small" hAlign="Center" width="150px">
									<Text text="{I18N>/LANGUAGE}" />
								</Column>
                                <Column minScreenWidth="Small" hAlign="Center">
									<Text text="{I18N>/CATEGORY_NAME}" />
								</Column>
							</columns>
							<items>
								<ColumnListItem press=".onMidTableItemPress">
									<cells>
                                        <!-- 상태 -->
										<Text text="{pdPartCategoryLng>_row_state_}"  visible="{viewModel>/editMode}" />
                                        <!-- 언어코드 -->
                                        <VBox>
                                            <ComboBox   
                                                width="100%"
                                                visible="{viewModel>/editMode}"
                                                placeholder="All"
                                                showSecondaryValues= "true"
                                                selectedKey="{pdPartCategoryLng>language_cd}"
                                                items="{
                                                    path: 'common>/Code',
                                                    filters: [
                                                    {path: 'tenant_id', operator: 'EQ', value1: 'L2101'},
                                                    {path: 'group_code', operator: 'EQ', value1: 'CM_LANG_CODE'}
                                                    ],
                                                    templateShareable:true
                                                }"
                                            >
                                            <core:ListItem 
                                                    key="{common>code}" 
                                                    text="{common>code_name}"
                                                    additionalText="{common>code}"/>
                                            </ComboBox>
                                            <Text text="{pdPartCategoryLng>language_cd}" visible="{viewModel>/showMode}" width="100%" textAlign="Center" />
                                        </VBox>
                                        <!-- 메뉴명 -->
                                        <VBox>
										    <Input value="{pdPartCategoryLng>code_name}"  required="true" visible="{viewModel>/editMode}"  />
                                            <Text text="{pdPartCategoryLng>code_name}" visible="{viewModel>/showMode}" width="100%" textAlign="Left" />
                                        </VBox>

									</cells>
								</ColumnListItem>
							</items>
						</Table>
                     
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>


			<uxap:ObjectPageSection id="pageSectionMain5" titleUppercase="false" 
                title="{I18N>/STANDARD_DAYS} ({= (${pdActivityStdDayView>/})?${pdActivityStdDayView>/}.length:0})">
				<uxap:subSections>
					<uxap:ObjectPageSubSection id="pageSubSection5" >
                                    
                        <t:Table
                            id="tableSd"
                            selectionMode="None"
                            ariaLabelledBy="title"
                            rows="{pdActivityStdDayView>/}"
                            visibleRowCount="17"
                            enableColumnFreeze="true"
                            showColumnVisibilityMenu="true">
                            <!-- 
                            selectionMode="MultiToggle"
                            selectionMode="MultiToggle" -->
                            <t:extension>
                                <OverflowToolbar style="Clear">
                                    <Label
                                        text="Copy Form: "
                                        class="sapUiTinyMarginEnd"
                                        textAlign="Left"
                                        labelFor="input"
                                        required="true"/>
                                    <VBox>
                                        <!-- <SearchField id="searchField" search=".onSearchPartCategory(2)" value="{master>/similar_category_code}" enabled="{viewModel>/editMode}" /> -->
                                            
                                        <Input id="searchField"  width="100%"   visible="{viewModel>/editMode}"  required="true"
                                            showValueHelp="true" valueHelpRequest=".onSearchPartCategory(2)"
                                            placeholder=" " value="{master>/similar_category_code}"/>

                                        <!-- <Text id="textCateCode"  text="{master>similar_category_code}" visible="{viewModel>/showMode}" width="100%"  /> -->
                                            
                                    </VBox>
                                </OverflowToolbar>
                            </t:extension>
                            <t:columns>
                                <t:Column
                                    width="8rem"
                                    sortProperty="pjtType"
                                    filterProperty="pjtType">
                                    <Label text="PJT Type" textAlign="Center" width="100%"/>
                                    <t:template>
                                        <Text text="{pdActivityStdDayView>part_project_type_name}"/>
                                    </t:template>
                                </t:Column>
                                <t:Column
                                    width="30rem"
                                    sortProperty="prodActivityName"
                                    filterProperty="prodActivityName">
                                    <Label text="{I18N>/PROD_ACTIVITY_NAME}" textAlign="Center" width="100%"/>
                                    <t:template>
                                        <Text text="{pdActivityStdDayView>activity_name}"/>
                                    </t:template>
                                </t:Column>
                                <t:Column
                                    width="8rem"
                                    sortProperty="roleName"
                                    filterProperty="roleName">
                                    <Label text="{I18N>/ROLE_NAME}" textAlign="Center" width="100%"/>
                                    <t:template>
                                        <Text text="{pdActivityStdDayView>role_name}"/>
                                    </t:template>
                                </t:Column>
                                <t:Column
                                    sortProperty="Use"
                                    filterProperty="Use"
                                    headerSpan="6">
                                    <t:multiLabels>
                                        <Label text="Copy Form" textAlign="Center" width="100%"/>
                                        <Label text="Use" textAlign="Center" width="100%"/>
                                    </t:multiLabels>
                                    <t:template>
                                        <ComboBox selectedKey="{pdActivityStdDayView>active_flag_ori}"  enabled="false" width="20em">
                                            <core:Item key="true" text="Y"/>
                                            <core:Item key="false" text="N"/>
                                        </ComboBox>
                                    </t:template>
                                </t:Column>
                                <t:Column>
                                    <t:multiLabels>
                                        <Label text="Copy Form"/>
                                        <Label text="s" textAlign="Center" width="100%"/>
                                    </t:multiLabels>
                                    <t:template>
                                        <Text text="{pdActivityStdDayView>s_grade_standard_days_ori}" textAlign="Right"  width="100%"   />
                                    </t:template>
                                </t:Column>
                                <t:Column>
                                    <t:multiLabels>
                                        <Label text="Copy Form"/>
                                        <Label text="a" textAlign="Center" width="100%"/>
                                    </t:multiLabels>
                                    <t:template>
                                        <Text text="{pdActivityStdDayView>a_grade_standard_days_ori}" textAlign="Right"  width="100%"  />
                                    </t:template>
                                </t:Column>
                                <t:Column>
                                    <t:multiLabels>
                                        <Label text="Copy Form"/>
                                        <Label text="b" textAlign="Center" width="100%"/>
                                    </t:multiLabels>
                                    <t:template>
                                        <Text text="{pdActivityStdDayView>b_grade_standard_days_ori}" textAlign="Right"  width="100%"  />
                                    </t:template>
                                </t:Column>
                                <t:Column>
                                    <t:multiLabels>
                                        <Label text="Copy Form"/>
                                        <Label text="c" textAlign="Center" width="100%"/>
                                    </t:multiLabels>
                                    <t:template>
                                        <Text text="{pdActivityStdDayView>c_grade_standard_days_ori}" textAlign="Right"  width="100%"  />
                                    </t:template>
                                </t:Column>
                                <t:Column>
                                    <t:multiLabels>
                                        <Label text="Copy Form"/>
                                        <Label text="d" textAlign="Center" width="100%"/>
                                    </t:multiLabels>
                                    <t:template>
                                        <Text text="{pdActivityStdDayView>d_grade_standard_days_ori}" textAlign="Right"  width="100%"  />
                                    </t:template>
                                </t:Column>
                                <t:Column
                                    sortProperty="Use"
                                    filterProperty="Use"
                                    headerSpan="6">
                                    <t:multiLabels>
                                        <Label text="Target" textAlign="Center" width="100%"/>
                                        <Label text="Use" textAlign="Center" width="100%"/>
                                    </t:multiLabels>
                                    <t:template>
                                        <ComboBox selectedKey="{pdActivityStdDayView>active_flag}"  width="20em"  enabled="{viewModel>/editMode}" >
                                            <core:Item key="true" text="Y"/>
                                            <core:Item key="false" text="N"/>
                                        </ComboBox>
                                    </t:template>
                                </t:Column>
                                <t:Column
                                    sortProperty="s"
                                    filterProperty="s">
                                    <t:multiLabels>
                                        <Label text="Target"/>
                                        <Label text="s" textAlign="Center" width="100%"/>
                                    </t:multiLabels>
                                    <t:template  >
                                        <VBox>
                                        <MaskInput mask="999" placeholderSymbol=" "  value="{pdActivityStdDayView>s_grade_standard_days}"  placeholder="0" textAlign="Right"  visible="{viewModel>/editMode}"  />
										<Text text="{pdActivityStdDayView>s_grade_standard_days}" visible="{viewModel>/showMode}" width="100%" textAlign="Right" />
                                        </VBox>
                                    </t:template>
                                </t:Column>
                                <t:Column
                                    sortProperty="a"
                                    filterProperty="a">
                                    <t:multiLabels>
                                        <Label text="Target"/>
                                        <Label text="a" textAlign="Center" width="100%"/>
                                    </t:multiLabels>
                                    <t:template>
                                        <VBox>
                                        <MaskInput mask="999" placeholderSymbol=" "  value="{pdActivityStdDayView>a_grade_standard_days}" placeholder="0" textAlign="Right"  visible="{viewModel>/editMode}"  />
										<Text text="{pdActivityStdDayView>a_grade_standard_days}" visible="{viewModel>/showMode}" width="100%" textAlign="Right" />
                                        </VBox>
                                    </t:template>
                                </t:Column>
                                <t:Column
                                    sortProperty="b"
                                    filterProperty="b">
                                    <t:multiLabels>
                                        <Label text="Target"/>
                                        <Label text="b" textAlign="Center" width="100%"/>
                                    </t:multiLabels>
                                    <t:template>
                                        <VBox>
                                        <MaskInput mask="999" placeholderSymbol=" "  value="{pdActivityStdDayView>b_grade_standard_days}"  placeholder="0" textAlign="Right"  visible="{viewModel>/editMode}"  />
										<Text text="{pdActivityStdDayView>b_grade_standard_days}" visible="{viewModel>/showMode}" width="100%" textAlign="Right" />
                                        </VBox>
                                    </t:template>
                                </t:Column>
                                <t:Column
                                    sortProperty="c"
                                    filterProperty="c">
                                    <t:multiLabels>
                                        <Label text="Target"/>
                                        <Label text="c" textAlign="Center" width="100%"/>
                                    </t:multiLabels>
                                    <t:template>
                                        <VBox>
                                        <MaskInput mask="999" placeholderSymbol=" "  value="{pdActivityStdDayView>c_grade_standard_days}"   placeholder="0" textAlign="Right"   visible="{viewModel>/editMode}"  />
										<Text text="{pdActivityStdDayView>c_grade_standard_days}" visible="{viewModel>/showMode}" width="100%" textAlign="Right" />
                                        </VBox>
                                    </t:template>
                                </t:Column>
                                <t:Column
                                    sortProperty="d"
                                    filterProperty="d">
                                    <t:multiLabels>
                                        <Label text="Target"/>
                                        <Label text="d" textAlign="Center" width="100%"/>
                                    </t:multiLabels>
                                    <t:template>
                                        <VBox>
                                        <MaskInput mask="999" placeholderSymbol=" "  value="{pdActivityStdDayView>d_grade_standard_days}"  placeholder="0" textAlign="Right"  visible="{viewModel>/editMode}" />
										<Text text="{pdActivityStdDayView>d_grade_standard_days}" visible="{viewModel>/showMode}" width="100%" textAlign="Right" />
                                        </VBox>
                                    </t:template>
                                </t:Column>
                                
                            </t:columns>
                        </t:Table>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

		</uxap:sections>
		
		<uxap:footer>
			<OverflowToolbar>
                <Button
                    icon="sap-icon://alert"
                    type="Emphasized"
                    text="{= ${message>/}.length }"
                    visible="{= ${message>/}.length > 0 }"
                    ariaHasPopup="Dialog"
                    press=".onMessagePopoverPress" />
				<ToolbarSpacer />
                
                <!-- <Button id="pageEditButton" type="Transparent" text="{I18N>/EDIT}" press=".onPageEditButtonPress" /> -->
				<Button id="pageSaveButton" type="Transparent" text="{I18N>/SAVE}" press=".onPageSaveButtonPress()" />
				<Button id="pageCancelButton" type="Transparent" text="{I18N>/CANCEL}" press=".onPageCancelButtonPress"/>
				<!-- <Button id="pageDeleteButton" type="Transparent" text="{I18N>/DELETE}" press=".onPageSaveButtonPress('D')"/> -->
				<Button id="pageListButton" type="Transparent" text="{I18N>/LIST}" press=".onPageListButtonPress"/>
                <!-- <Button id="pageSubmitButton" type="Emphasized" text="{I18N>/SUBMIT}" press=".onPageSaveButtonPress('R')" /> -->
			</OverflowToolbar>
		</uxap:footer>
	</uxap:ObjectPageLayout>
</mvc:View>