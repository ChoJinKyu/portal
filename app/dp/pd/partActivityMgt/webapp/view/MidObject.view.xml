<mvc:View controllerName="dp.pd.partActivityMgt.controller.MidObject" 
	xmlns:mvc="sap.ui.core.mvc" 
	xmlns="sap.m" 
	xmlns:uxap="sap.uxap" 
	xmlns:layout="sap.ui.layout" 
    xmlns:form="sap.ui.layout.form"
	xmlns:core="sap.ui.core"
    xmlns:richtexteditor="sap.ui.richtexteditor"
	height="100%">

	<uxap:ObjectPageLayout id="page"
		toggleHeaderOnTitleClick="true"
		alwaysShowContentHeader = "true"
		preserveHeaderStateOnScroll="false"
		headerContentPinnable="true"
		isChildPage="true"
		upperCaseAnchorBar="false"
		showTitleInHeaderContent="true"
		showEditHeaderButton="true" 
		showFooter="true">
		<uxap:headerTitle>
			<uxap:ObjectPageDynamicHeaderTitle>
                <uxap:heading>
                    <HBox alignItems="End">
                        <OverflowToolbarButton id="pageNavBackButton" type="Transparent" icon="sap-icon://nav-back" tooltip="back to the list" press=".handleClose" visible="{= ${/actionButtonsInfo/midColumn/closeColumn} !== null }"/>
                        <Title text="{I18N>/PART_ACTIVITY_DETAIL}" wrapping="true" class="" />
                    </HBox>
                </uxap:heading>				
                <uxap:navigationActions>
                    <OverflowToolbarButton type="Transparent" icon="sap-icon://full-screen" press="handleFullScreen" tooltip="Enter Full Screen Mode" visible="{contModel>/midObject/visibleFullScreenBtn}"/>
                    <OverflowToolbarButton type="Transparent" icon="sap-icon://exit-full-screen" press="handleExitFullScreen" tooltip="Exit Full Screen Mode" visible="{= !${contModel>/midObject/visibleFullScreenBtn}}"/>                    					
                </uxap:navigationActions>
			</uxap:ObjectPageDynamicHeaderTitle>
		</uxap:headerTitle>

        <uxap:headerContent>						
            <FlexBox wrap="Wrap" visible="true">
				<layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
					<layout:HorizontalLayout class="sapUiSmallMarginBeginEnd">
						<Label text="{I18N>/UPDATE_USER_ID} :"/>
                        <Label text="{master>/update_user_id}" class="sapUiTinyMarginBegin sapUiLargeMarginEnd" design="Bold"/>
					</layout:HorizontalLayout>
				</layout:VerticalLayout>
				<layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
					<layout:HorizontalLayout class="sapUiSmallMarginBeginEnd">
						<Label text="{I18N>/LATEST} {I18N>/CHANGE} {I18N>/DATE_TIME} :" class="sapUiLargeMarginBegin" />
                        <Label text="{
                            path: 'master>/local_update_dtm',
                            formatter: '.dateFormatter.toUTCDateTimeString'
                        }"  
                        class="sapUiTinyMarginBegin"  
                        design="Bold"/>
					</layout:HorizontalLayout>					
				</layout:VerticalLayout>
			</FlexBox>            
		</uxap:headerContent>       

		<uxap:sections>
			<uxap:ObjectPageSection id="pageSectionMain" titleUppercase="false" title="{I18N>/DEFAULT}{I18N>/INFORMATION}">
				<uxap:subSections>
					<uxap:ObjectPageSubSection id="pageSubSection1">
                        <form:SimpleForm         
                            editable="true"
                            layout="ResponsiveGridLayout"			
                            labelSpanXL="12"
                            labelSpanL="12"
                            labelSpanM="12"
                            labelSpanS="12"
                            adjustLabelSpan="false"
                            emptySpanXL="0"
                            emptySpanL="0"
                            emptySpanM="0"
                            emptySpanS="0"
                            columnsXL="1"
                            columnsL="1"
                            columnsM="1" >
                            
                            <form:content>                                
                                <VBox width="100%">			
                                    <Label text="{I18N>/COMPANY}" required="true"/>
                                    <Text
                                        width="50%"
                                        text="{master>/company_code}"
                                        visible="{contModel>/readMode}">
                                    </Text>
                                    <ComboBox 
                                        width="50%"
                                        visible="{contModel>/editMode}"
                                        showSecondaryValues= "true"                                         
                                        selectedKey="{master>/company_code}"
                                        items="{
                                            path: '/CompanyView'
                                        
                                        }" editable="{contModel>/createMode}" required="true">
                                        <items>
                                            <core:ListItem
                                                key="{company_code}" 
                                                text="{company_name}" 
                                                additionalText="{company_code}"/>
                                        </items>
                                    </ComboBox>
                                    <layoutData>
                                        <layout:GridData
                                            span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox width="100%">			
                                    <Label text="{I18N>/ORGANIZATION}" required="true"/>
                                    <Text
                                        width="50%"
                                        text="{master>/org_code}"
                                        visible="{contModel>/readMode}">
                                    </Text>
                                    <ComboBox
                                        width="50%" 
                                        visible="{contModel>/editMode}"
                                        showSecondaryValues= "true"                                        
                                        selectedKey="{master>/org_code}"
                                        items="{
                                            path: '/OrgView'
                                        
                                        }" editable="{contModel>/createMode}" required="true">
                                        <items>
                                            <core:ListItem
                                                key="{org_code}" 
                                                text="{org_name}" 
                                                additionalText="{org_code}"/>
                                        </items>
                                    </ComboBox>
                                    <layoutData>
                                        <layout:GridData
                                            span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox width="100%">			
                                    <Label text="{I18N>/PROJECT_TYPE}" required="true"/>
                                    <Text
                                        width="50%"
                                        text="{master>/part_project_type_code}"
                                        visible="{contModel>/readMode}">
                                    </Text>                                    
                                    <ComboBox
                                        width="50%" 
                                        visible="{contModel>/editMode}"
                                        showSecondaryValues= "true"                                         
                                        selectedKey="{master>/part_project_type_code}"
                                        items="{
                                            path: 'util>/Code',
                                            filters: [
                                                {path: 'tenant_id', operator: 'EQ', value1: 'L2101'},                                        
                                                {path: 'group_code', operator: 'EQ', value1: 'DP_PART_PJT_TYPE'}
                                            ]
                                        }" editable="{contModel>/createMode}" required="true"> 
                                        <items>
                                            <core:ListItem
                                                key="{util>code}" 
                                                text="{util>code_name}"
                                                additionalText="{util>code}" />
                                        </items>
                                    </ComboBox>    
                                    <layoutData>
                                        <layout:GridData
                                            span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox width="100%">			
                                    <Label text="{I18N>/ACTIVITY_CODE}" required="true"/>
                                    <Text
                                        width="50%"
                                        text="{master>/activity_code}"
                                        visible="{= !${contModel>/createMode} }">
                                    </Text>
                                    <Input
                                        width="50%"                                        
                                        visible="{contModel>/createMode}" 
                                        id="searchActivityInput"                                        
                                        showValueHelp="true"
                                        required="true"
                                        value="{master>/activity_code}"
                                        valueHelpRequest=".onDialogActivityPress"/>
                                    <!-- <Input 
                                        width="50%"    
                                        value="{
                                            path: 'master>/activity_code',
                                            type: 'sap.ui.model.type.String',
                                            constraints: {
                                                maxLength: 2
                                            }
                                        }" visible="{contModel>/editMode}" editable="false"></Input> -->
                                    <layoutData>
                                        <layout:GridData
                                            span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox width="100%">			
                                    <Label text="{I18N>/ACTIVITY_NAME}"/>
                                    <Text
                                        id="searchActivityName"
                                        width="50%"
                                        visible="{= !${contModel>/createMode} }"
                                        text="{master>/activity_name}">                                       
                                    </Text>
                                    <Input 
                                        width="50%"
                                        value="{
                                            path: 'master>/activity_name'
                                        }" visible="{contModel>/createMode}" editable="false"></Input>                                    
                                    <layoutData>
                                        <layout:GridData
                                            span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>                                
                                <VBox width="100%">			
                                    <Label text="{I18N>/SEQUENCE}"/>
                                    <Text
                                        width="50%"
                                        text="{master>/sequence}"
                                        visible="{contModel>/readMode}">
                                    </Text>
                                    <Input 
                                        width="50%"
                                        value="{
                                            path: 'master>/sequence'
                                        }" type="Number"  visible="{contModel>/editMode}" editable="{= !${contModel>/createMode}}"></Input>
                                    <layoutData>
                                        <layout:GridData
                                            span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox width="100%">			
                                    <Label text="{I18N>/ROLE}"/>
                                    <Text
                                        width="50%"
                                        text="{master>/actual_role_name}"
                                        visible="{contModel>/readMode}">
                                    </Text>
                                    <ComboBox
                                        width="50%" 
                                        visible="{contModel>/editMode}"
                                        showSecondaryValues= "true"                                         
                                        selectedKey="{master>/actual_role_code}"
                                        items="{
                                            path: 'util>/Code',
                                            filters: [
                                                {path: 'tenant_id', operator: 'EQ', value1: 'L2101'},                                        
                                                {path: 'group_code', operator: 'EQ', value1: 'DP_ROLE_GROUP'}
                                            ]
                                        }" editable="{contModel>/editMode}"> 
                                        <items>
                                            <core:ListItem 
                                                key="{util>code}" 
                                                text="{util>code_name}" 
                                                additionalText="{util>code}"/>
                                        </items>
                                    </ComboBox>
                                    <layoutData>
                                        <layout:GridData
                                            span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox width="100%">			
                                    <Label text="{I18N>/EVENT}"/>
                                    <Text
                                        width="50%"
                                        text="{master>/develope_event_name}"
                                        visible="{contModel>/readMode}">
                                    </Text>
                                    <ComboBox
                                        width="50%" 
                                        visible="{contModel>/editMode}"
                                        showSecondaryValues= "true"                                         
                                        selectedKey="{master>/develope_event_code}"
                                        items="{
                                            path: 'util>/Code',
                                            filters: [
                                                {path: 'tenant_id', operator: 'EQ', value1: 'L2101'},                                        
                                                {path: 'group_code', operator: 'EQ', value1: 'DP_DEVELOPE_EVENT_CODE'}
                                            ]
                                        }" editable="{contModel>/editMode}"> 
                                        <items>
                                            <core:ListItem
                                                key="{util>code}" 
                                                text="{util>code_name}" 
                                                additionalText="{util>code}"/>
                                        </items>
                                    </ComboBox>
                                    <layoutData>
                                        <layout:GridData
                                            span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox width="100%">
                                    <Label text="{I18N>/ATTACHMENT_MANDATORY}"/>
                                    <Text
                                        width="50%"
                                        text="{master>/attachment_mandatory_flag_val}"
                                        visible="{= !${contModel>/editMode} }"/>                                    
                                    <SegmentedButton                                        
                                        id="editAttachmentflag"
                                        selectedKey="{master>/attachment_mandatory_flag}" 
                                        selectionChange=""
                                        visible="{contModel>/editMode}"
                                        width="100%">
                                        <items>
                                            <SegmentedButtonItem text="Yes" width="5em" key="true"/>
                                            <SegmentedButtonItem text="No" width="5em" key="false"/>
                                        </items>
                                    </SegmentedButton>                                        
                                    <layoutData>
                                        <layout:GridData
                                            span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox width="100%">
                                    <Label text="{I18N>/APPROVE_MANDATORY}"/>
                                    <Text
                                        width="50%"
                                        text="{master>/approve_mandatory_flag_val}"
                                        visible="{= !${contModel>/editMode} }"/>                                    
                                    <SegmentedButton 
                                        id="editApproveflag"
                                        selectedKey="{master>/approve_mandatory_flag}" 
                                        selectionChange=""
                                        visible="{contModel>/editMode}"
                                        width="100%">
                                        <items>
                                            <SegmentedButtonItem text="Yes" width="5em" key="true"/>
                                            <SegmentedButtonItem text="No" width="5em" key="false"/>
                                        </items>
                                    </SegmentedButton>                                        
                                    <layoutData>
                                        <layout:GridData
                                            span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox width="100%">
                                    <Label text="{I18N>/USE_FLAG}"/> 
                                    <Text
                                        width="50%"
                                        text="{master>/active_flag_val}"
                                        visible="{= !${contModel>/editMode} }"/>                                   
                                    <SegmentedButton 
                                        id="editUseflag"
                                        selectedKey="{master>/active_flag}" 
                                        selectionChange=""
                                        visible="{contModel>/editMode}"                                        
                                        width="100%">
                                        <items>
                                            <SegmentedButtonItem text="Yes" width="5em" key="true"/>
                                            <SegmentedButtonItem text="No" width="5em" key="false"/>
                                        </items>
                                    </SegmentedButton>                                        
                                    <layoutData>
                                        <layout:GridData
                                            span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox> 
                                <VBox width="100%">			
                                    <Label text="{I18N>/ACTIVITY_COMPLETE_TYPE}"/>
                                    <Text
                                        width="50%"
                                        text="{master>/activity_complete_type_name}"
                                        visible="{contModel>/readMode}">
                                    </Text>
                                    <ComboBox
                                        width="50%" 
                                        visible="{contModel>/editMode}"
                                        showSecondaryValues= "true"                                         
                                        selectedKey="{master>/activity_complete_type_code}"
                                        items="{
                                            path: 'util>/Code',
                                            filters: [
                                                {path: 'tenant_id', operator: 'EQ', value1: 'L2101'},                                        
                                                {path: 'group_code', operator: 'EQ', value1: 'DP_ACTIVITY_COMPLETE_TYPE'}
                                            ]
                                        }" editable="{contModel>/editMode}"> 
                                        <items>
                                            <core:ListItem
                                                key="{util>code}" 
                                                text="{util>code_name}" 
                                                additionalText="{util>code}"/>
                                        </items>
                                    </ComboBox>
                                    <layoutData>
                                        <layout:GridData
                                            span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox width="100%">			
                                    <Label text="{I18N>/JOB_TYPE}"/>
                                    <Text
                                        width="50%"
                                        text="{master>/job_type_name}"
                                        visible="{contModel>/readMode}">
                                    </Text>
                                    <ComboBox 
                                        width="50%"
                                        visible="{contModel>/editMode}"
                                        showSecondaryValues= "true"                                        
                                        selectedKey="{master>/job_type_code}"
                                        items="{
                                            path: 'util>/Code',
                                            filters: [
                                                {path: 'tenant_id', operator: 'EQ', value1: 'L2101'},                                        
                                                {path: 'group_code', operator: 'EQ', value1: 'DP_JOB_TYPE'}
                                            ]
                                        }" editable="{contModel>/editMode}"> 
                                        <items>
                                            <core:ListItem
                                                key="{util>code}" 
                                                text="{util>code_name}" 
                                                additionalText="{util>code}"/>
                                        </items>
                                    </ComboBox>
                                    <layoutData>
                                        <layout:GridData
                                            span="XL12 L12 M12 S12" />
                                    </layoutData>
                                </VBox>                                
                            </form:content>
                        </form:SimpleForm>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>            				

			<!-- <uxap:ObjectPageSection 
                titleUppercase="false" 
                title="{I18N>/MULTILINGUAL} ({= (${languages>/PdPartBaseActivityLng})?${languages>/PdPartBaseActivityLng}.length:0})">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
                    <uxap:blocks>
						<Table 
                            id="lngTable" 
                            mode="{= ${contModel>/readMode}?'None':'MultiSelect'}"
                            sticky="HeaderToolbar,ColumnHeaders"
                            inset="false"
                            class="sapFDynamicPageAlignContent"
                            width="auto"
                            items="{
                                path: 'languages>/PdPartBaseActivityLng'
                            }">
							<headerToolbar>
                                <Toolbar visible="{contModel>/editMode}">
                                    <ToolbarSpacer/>
                                    <HBox >
                                        <Button
                                            id="lngTableAddButton" 
                                            type="Transparent" 
                                            text="{I18N>/ROW_ADD}"
                                            press=".onLngTableAddButtonPress"/>
                                        <Button
                                            id="lngTableDeleteButton" 
                                            type="Transparent" 
                                            text="{I18N>/ROW_DELETE}"
                                            press=".onLngTableDeleteButtonPress"/>
                                    </HBox>
                                </Toolbar>
                            </headerToolbar>
							<columns>
                                    <Column 
                                        visible="{contModel>/editMode}"
                                        width="4em">
                                        <Text text="{I18N>/STATUS}"/>
                                    </Column>
                                    <Column>
                                        <Text text="{I18N>/LANGUAGE}" />
                                    </Column>
                                    <Column>
                                        <Text text="{I18N>/ACTIVITY_NAME}" />
                                    </Column>
                                </columns>
                                <items>
                                    <ColumnListItem>
                                        <cells>
                                            <Text text="{languages>_row_state_}"/>
                                            <HBox>
                                                <Text
                                                    visible="{contModel>/readMode}"
                                                    text="{languages>language_cd}" />                                                
                                                <ComboBox 
                                                    visible="{contModel>/editMode}"
                                                    showSecondaryValues= "true"
                                                    width="100%" 
                                                    selectedKey="{languages>language_cd}"
                                                    items="{
                                                        path: 'util>/Code',
                                                        filters: [
                                                            {path: 'tenant_id', operator: 'EQ', value1: 'L2100'},                                        
                                                            {path: 'group_code', operator: 'EQ', value1: 'CM_LANG_CODE'}
                                                        ]
                                                    }" editable="{= ${languages>_row_state_} === 'C' }" required="true"> 
                                                    <items>
                                                        <core:Item key="{util>code}" text="{util>code}: {util>code_name}" />
                                                    </items>
                                                </ComboBox>
                                            </HBox>
                                            <HBox
                                                direction="Column">
                                                <Text
                                                    visible="{contModel>/readMode}"
                                                    text="{languages>code_name}" />
                                                <Input
                                                    visible="{contModel>/editMode}"
                                                    maxLength="240"
                                                    value="{languages>code_name}" />
                                            </HBox>
                                        </cells>
                                    </ColumnListItem>
                                </items>
                            </Table>
                        </uxap:blocks>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection> -->

		</uxap:sections>
		
		<uxap:footer>
			<OverflowToolbar>
                <Button
                    icon="sap-icon://alert"
                    type="Emphasized"
                    text="{= ${message>/}.length }"
                    visible="{= ${message>/}.length > 0 }"
                    ariaHasPopup="Dialog"
                    press=".onMessagePopoverPress" />
				<ToolbarSpacer />
                <Button id="pageEditButton" text="{I18N>/UPDATE}" type="Transparent" press=".onPageEditButtonPress" />							
                <Button id="pageCancelButton" type="Transparent" text="{I18N>/CANCEL}" press=".onPageCancelEditButtonPress"/>
                <Button id="pageDeleteButton" type="Transparent" text="{I18N>/DELETE}" press=".onPageDeleteEditButtonPress"/>
                <Button id="pageSaveButton" type="Emphasized" text="{I18N>/SAVE}" press=".onPageSaveButtonPress" />	
			</OverflowToolbar>
		</uxap:footer>
	</uxap:ObjectPageLayout>
</mvc:View>