<mvc:View controllerName="dp.pd.productActivityMgt.controller.MidObject" 
	xmlns:mvc="sap.ui.core.mvc" 
	xmlns="sap.m" 
    xmlns:t="sap.ui.table"
	xmlns:uxap="sap.uxap" 
	xmlns:layout="sap.ui.layout" 
    xmlns:form="sap.ui.layout.form"
	xmlns:core="sap.ui.core"
    xmlns:lib-m="ext.lib.control.m"
	height="100%">

	<uxap:ObjectPageLayout id="page"
		toggleHeaderOnTitleClick="true"
		alwaysShowContentHeader = "true"
		preserveHeaderStateOnScroll="false"
		headerContentPinnable="true"
		isChildPage="true"
		upperCaseAnchorBar="false"
		showTitleInHeaderContent="true"
		showEditHeaderButton="true" 
		showFooter="true">
		<uxap:headerTitle>
			<uxap:ObjectPageDynamicHeaderTitle>
				<uxap:expandedHeading>
					<Title text="{I18N>/PRODUCT_ACTIVITY_DETAIL}" wrapping="true" />
				</uxap:expandedHeading>
				<uxap:snappedHeading>
					<Title text="{I18N>/PRODUCT_ACTIVITY_DETAIL}" wrapping="true" />
				</uxap:snappedHeading>
				<uxap:expandedContent>
				</uxap:expandedContent>
				<uxap:snappedContent>
				</uxap:snappedContent>
				<uxap:snappedTitleOnMobile>
					<Title text="{I18N>/PRODUCT_ACTIVITY_DETAIL}" />
				</uxap:snappedTitleOnMobile>
                <uxap:navigationActions>
					<OverflowToolbarButton id="pageEnterFullScreenButton" type="Transparent" icon="sap-icon://full-screen" press="onPageEnterFullScreenButtonPress" tooltip="Enter Full Screen Mode" visible="{= ${/actionButtonsInfo/midColumn/fullScreen} !== null }"/>
					<OverflowToolbarButton id="pageExitFullScreenButton" type="Transparent" icon="sap-icon://exit-full-screen" press="onPageExitFullScreenButtonPress" tooltip="Exit Full Screen Mode" visible="{= ${/actionButtonsInfo/midColumn/exitFullScreen} !== null }"/>
					<OverflowToolbarButton id="pageNavBackButton" type="Transparent" icon="sap-icon://decline" text="back" tooltip="back to the list" press=".onPageNavBackButtonPress" visible="{= ${/actionButtonsInfo/midColumn/closeColumn} !== null }"/>
                </uxap:navigationActions>
			</uxap:ObjectPageDynamicHeaderTitle>
		</uxap:headerTitle>

		<uxap:headerContent>
			<FlexBox wrap="Wrap">
				<layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
					<layout:HorizontalLayout class="sapUiSmallMarginBeginEnd">
						<Label text="{= !${midObjectViewModel>/isAddedMode} ? ${I18N>/UPDATE_USER_ID} : ${I18N>/CREATE_USER_ID}} : " />
						<Text text="{master>/update_user_id}"/>
					</layout:HorizontalLayout>
				</layout:VerticalLayout>

				<layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
					<layout:HorizontalLayout class="sapUiSmallMarginBeginEnd">
						<Label text="{= !${midObjectViewModel>/isAddedMode} ? ${I18N>/CHANGE_DATE} : ${I18N>/CREATION_DATE}} : "/>
						<Text text="{
                                    path: 'master>/local_update_dtm',
                                    formatter: '.dateFormatter.toDateString'
                                    }"/>
					</layout:HorizontalLayout>
				</layout:VerticalLayout>
			</FlexBox>
		</uxap:headerContent>

		<uxap:sections>
			<uxap:ObjectPageSection id="pageSectionMain" titleUppercase="false" title="General Info(x)">
				<uxap:subSections>
					<uxap:ObjectPageSubSection id="pageSubSection1" >

                        <FlexBox height="40px" alignItems="Start" justifyContent="Start" class="sapUiLargeMarginBottom" >        
                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label  
                                    text="{I18N>/ACTIVITY_CODE} :" 
                                    design="Bold" 
                                    class="sapUiTinyMarginTop sapUiTinyMarginBottom sapMLabelNoText"/>
                                    <Text visible="{= !${midObjectViewModel>/isAddedMode} }" text="{master>/product_activity_code}" class="sapMLabelNoText"/> 
                                    <Input visible="{= ${midObjectViewModel>/isAddedMode} }" value="{master>/product_activity_code}" class="sapMLabelNoText"/> 
                                    <!-- <Input id="input_category_text" visible="false"/> -->
                            </layout:VerticalLayout>
                        </FlexBox>

                        <FlexBox height="40px" alignItems="Start" justifyContent="Start" class="sapUiLargeMarginBottom" >        
                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label  
                                    text="{I18N>/SEQUENCE} :" 
                                    design="Bold" 
                                    class="sapUiTinyMarginTop sapUiTinyMarginBottom sapMLabelNoText"/>
                                    <Text visible="{= ${midObjectViewModel>/editMode} ? ${midObjectViewModel>/isAddedMode} ? true : false : true }" text="{master>/sequence}" class="sapMLabelNoText"/> 
                                    <Input visible="{= ${midObjectViewModel>/editMode} ? ${midObjectViewModel>/isAddedMode} ? false : true : false }" type="Number" value="{master>/sequence}" class="sapMLabelNoText"/> 
                            </layout:VerticalLayout>
                        </FlexBox>

                        <FlexBox height="40px" alignItems="Start" justifyContent="Start" class="sapUiLargeMarginBottom" >        
                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                <Label  
                                    text="{I18N>/DESCRIPTION} :" 
                                    design="Bold" 
                                    class="sapUiTinyMarginTop sapUiTinyMarginBottom sapMLabelNoText"/>
                                    <Text visible="{= !${midObjectViewModel>/editMode} }" text="{master>/description}" class="sapMLabelNoText"/> 
                                    <Input visible="{midObjectViewModel>/editMode}" value="{master>/description}" class="sapMLabelNoText"/> 
                            </layout:VerticalLayout>
                        </FlexBox>

                        <FlexBox height="40px" alignItems="Start" justifyContent="Start" class="sapUiLargeMarginBottom" >        
                            <layout:VerticalLayout class="sapUiLargeMarginEnd">
                                 <Label 
                                    text="{I18N>/STATUS} :" 
                                    design="Bold" 
                                    class="sapUiTinyMarginTop sapUiTinyMarginBottom sapMLabelNoText"/>
                                <Text visible="{= !${midObjectViewModel>/editMode} }" text="{path: 'master>/active_flag', formatter: '.viewFormatter.toStatus'}" class="sapMLabelNoText"/> 
                                <SegmentedButton 
                                    id="segmentedbutton_use_flag"
                                    selectedKey="{path: 'master>/active_flag', formatter: '.viewFormatter.toStatus'}"
                                    visible="{midObjectViewModel>/editMode}"
                                    width="100%">
                                    <items>
                                        <SegmentedButtonItem text="Active" width="4em" key="Active"/>
                                        <SegmentedButtonItem text="Inactive" width="5em" key="Inactive"/>
                                    </items>
                                </SegmentedButton> 
                            </layout:VerticalLayout>    
                        </FlexBox>

					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

			<uxap:ObjectPageSection titleUppercase="false" title="언어(x)">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
						<!-- <t:Table 
                            id="pdActivityLengTable" 
                            rows="{details>/PdProdActivityTemplateLng}"
                            selectionMode="{= ${midObjectViewModel>/editMode} ? 'MultiToggle' : 'None' }"
                            visibleRowCount="{= ${details>/PdProdActivityTemplateLng}.length }"
                            columnResize=".onColumnResize"
                            rowSelectionChange=".onMainTableItemPress"
                            width="auto">
                            <t:extension>
                                <OverflowToolbar class="sapFDynamicPageAlignContent">
                                    <ToolbarSpacer/>
                                    <Button visible="{midObjectViewModel>/editMode}" text="행추가(x)" press=".onPdActivityLengCreate"  type="Transparent"/>
                                    <Button visible="{midObjectViewModel>/editMode}" text="삭제(x)" press=".onPdActivityLengDelete"/>
                                    
                                </OverflowToolbar>
                            </t:extension>

                            <t:columns>

                                <t:Column hAlign="Center">
                                    <Text text="언어 코드(x)" />
                                    <t:template>
                                        <VBox>

                                            <ComboBox
                                                id="langDataComboBox"
                                                width="150px"
                                                selectedKey="{details>language_cd}"
                                                required="{= ${details>addItem}}"
                                                visible="{= ${details>addItem}}"
                                                items="{
                                                    path: 'langDataModel>/',
                                                    templateShareable:true
                                                }">
                                                <items>
                                                    <core:Item key="{langDataModel>code}" text="{langDataModel>code} - {langDataModel>code_name}" />
                                                </items>
                                            </ComboBox>

                                            <Text text="{details>language_cd}" visible="{= !${details>addItem}}" ></Text>  
                                        </VBox> 
                                    </t:template>
                                </t:Column>

                                <t:Column visible="{= !${midObjectViewModel>/editMode} }" hAlign="Center">
                                    <Text text="Activity 명(x)" />
                                    <t:template>
                                        <Text text="{details>code_name}" ></Text>  
                                    </t:template>
                                </t:Column>

                                <t:Column visible="{midObjectViewModel>/editMode}" hAlign="Center">
                                    <Text text="Activity 명(x)" />
                                    <t:template>
                                        <Input value="{details>code_name}" ></Input>  
                                    </t:template>
                                </t:Column>

                            </t:columns>  
                        </t:Table> -->

                        <Table
                            id="pdActivityLengTable" 
                            
                            mode="{= ${midObjectViewModel>/editMode} ? 'MultiSelect' : 'None' }"
                            sticky="HeaderToolbar,ColumnHeaders"
                            inset="false"
                            class="sapFDynamicPageAlignContent"
                            width="auto"
                            items="{details>/PdProdActivityTemplateLng}">
							<headerToolbar>
                                <Toolbar visible="{midObjectViewModel>/editMode}">
                                    <ToolbarSpacer/>
                                    <HBox >
                                        <Button text="행추가(x)" press=".onPdActivityLengCreate"  type="Transparent"/>
                                        <Button text="삭제(x)" press=".onPdActivityLengDelete"/>
                                    </HBox>
                                </Toolbar>
                            </headerToolbar>
							<columns>
                                    <Column 
                                        visible="{midObjectViewModel>/editMode}"
                                        width="4em">
                                        <Text text="{I18N>/STATUS}"/>
                                    </Column>
                                    <Column>
                                        <Text text="{I18N>/LANGUAGE}" />
                                    </Column>
                                    <Column>
                                        <Text text="{I18N>/ACTIVITY_NAME}" />
                                    </Column>
                                </columns>
                                <items>
                                    <ColumnListItem>
                                        <cells>
                                            <Text text="{details>_row_state_}"/>
                                            <HBox>
                                                <Text
                                                    visible="{= !${details>_row_state_}}"
                                                    text="{details>language_cd}" /> 
                                                <ComboBox 
                                                    visible="{= ${details>_row_state_} === 'C' || ${details>_row_state_} === 'D'}"
                                                    showSecondaryValues= "true"
                                                    width="100%" 
                                                    selectedKey="{details>language_cd}"
                                                    items="{
                                                        path: 'langDataModel>/',
                                                        templateShareable:true
                                                    }" editable="{= ${details>_row_state_} === 'C' }" required="true"> 
                                                    <items>
                                                        <core:Item key="{langDataModel>code}" text="{langDataModel>code}: {langDataModel>code_name}" />
                                                    </items>
                                                </ComboBox>
                                            </HBox>
                                            <HBox
                                                direction="Column">
                                                <Text
                                                    visible="{= !${midObjectViewModel>/editMode} }"
                                                    text="{details>code_name}" />
                                                <Input
                                                    visible="{midObjectViewModel>/editMode}"
                                                    maxLength="240"
                                                    value="{details>code_name}" />
                                            </HBox>
                                        </cells>
                                    </ColumnListItem>
                                </items>
                            </Table>

					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

		</uxap:sections>
		
		<uxap:footer>
			<OverflowToolbar>
				<ToolbarSpacer />
				<Button enabled="{midObjectViewModel>/editMode}" type="Transparent" text="취소(x)" press=".onPageCancelButton" />
				<Button enabled="{= !${midObjectViewModel>/editMode} }" type="Transparent" text="수정(x)" press=".onPageEditeButton" />
                <Button enabled="{midObjectViewModel>/editMode}" type="Transparent" text="삭제(x)" press=".onPageDeleteButton" />
                <Button enabled="{midObjectViewModel>/editMode}" type="Emphasized" text="저장(x)" press=".onPageSaveButton" />
			</OverflowToolbar>
		</uxap:footer>
	</uxap:ObjectPageLayout>
</mvc:View>