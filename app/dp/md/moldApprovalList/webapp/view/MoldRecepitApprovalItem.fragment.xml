<!-- 
   description : Mold Recepit Item 화면  
-->
<core:FragmentDefinition
	xmlns="sap.m" 
        xmlns:uxap="sap.uxap" 
        xmlns:form="sap.ui.layout.form" 
        xmlns:core="sap.ui.core" 
        xmlns:layout="sap.ui.layout" 
        xmlns:tnt="sap.tnt" 
        xmlns:co="sap.suite.ui.commons" 
        xmlns:si="sap.suite.ui.commons.statusindicator" 
        xmlns:u="sap.ui.unified" 
        xmlns:table="sap.ui.table" 
        xmlns:lib-m="ext.lib.m" 
         core:require="{ I18NFormatter: 'dp/md/util/controller/I18NFormatter' }"
        >
    <VBox class="sapUiSmallMargin">
        <form:SimpleForm
                editable="true" 
                layout="ResponsiveGridLayout" 
                labelSpanXL="2" 
                labelSpanL="2" 
                labelSpanM="2" 
                labelSpanS="2" 
                adjustLabelSpan="false" 
                emptySpanXL="0" 
                emptySpanL="0" 
                emptySpanM="0" 
                emptySpanS="0" 
                columnsXL="2" 
                columnsL="1" 
                columnsM="1" 
                width="70%"
                singleContainerFullSize="true"
        >
            <form:content>
                <HBox>
                    <VBox class="sapUiSmallMargin">
                        <Label text="{I18N>/COMPANY}"/>
                        <ObjectStatus text="[{company>/company_code}] {company>/company_name}" state="Error"/>
                    </VBox>
                    <VBox class="sapUiSmallMargin">
                        <Label text="{I18N>/PLANT}"/>
                        <ObjectStatus text="[{plant>/org_code}] {plant>/org_name}" state="Error"/>
                    </VBox>
                </HBox>
          </form:content>
    </form:SimpleForm>
    <form:SimpleForm editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="false" labelSpanL="4" labelSpanM="4" emptySpanL="0" emptySpanM="0" columnsL="2" columnsM="2">
       <form:content>
      	<!-- moldItem Recepit Table -->
		<table:Table id="moldRecepitTable" 
                        selectionMode="{=${mode>/editFlag}?'MultiToggle':'None'}" 
                        fixedColumnCount="6" 
                        visibleRowCountMode="Auto" 
                        rows="{path:'mdRecepit>/MoldRecepit'}">
					<table:extension>
						<OverflowToolbar>
							<ToolbarSpacer/>
							<!-- Add the Personalization button -->
							    <Button visible="{mode>/editFlag}" type="Transparent" text="{I18N>/ROW_ADD}" press=".onMoldRecepitAddPress">
								<!-- Add -->
								<customData>
									<core:CustomData key="multi" value="true"/>
								</customData>
							</Button>
							<Button visible="{mode>/editFlag}" type="Transparent" text="{I18N>/ROW_DELETE}" press=".onMoldRecepitDelRow"/>
						</OverflowToolbar>
					</table:extension>
					<table:columns>
						<table:Column visible="false">
							<Label text="mold_id"/>
							<table:template>
								<Text text="{mdRecepit>mold_id}"/>
							</table:template>
						</table:Column>
						<table:Column visible="false">
							<Label text="approval_number"/>
							<table:template>
								<Text  text="{mdRecepit>approval_number}"/>
							</table:template>
						</table:Column>
						<table:Column  width="8em" hAlign="Center">
							<Label text="{I18N>/MODEL}"/>
							<table:template>
								<Text  text="{mdRecepit>model}"/>
							</table:template>
						</table:Column>
						<table:Column  width="12em" hAlign="Center">
							<Label text="{path:'I18N>/MOLD_NO', formatter:'I18NFormatter'}" />
							<table:template>
								<Text  text="{mdRecepit>mold_number}"/>
							</table:template>
						</table:Column>
						<table:Column width="4em" hAlign="Center">
							<Label text="{path:'I18N>/SEQUENCE', formatter:'I18NFormatter'}" />
							<table:template>
								<Text  text="{mdRecepit>mold_sequence}"  textAlign="Center"/>
							</table:template>
						</table:Column>
						<table:Column  width="10em" hAlign="Center">
							<Label text="{I18N>/DESCRIPTION}"/>
							<table:template>
								<Text  text="{mdRecepit>spec_name}"/>
							</table:template>
						</table:Column>
                        <!--  여기까지 픽스 -->
						<table:Column width="10em" hAlign="Center">
							 <Label text="{path:'I18N>/ITEM_TYPE', formatter:'I18NFormatter'}" />
							<table:template>
								<Text text="{mdRecepit>mold_item_type_code_nm}"/>
							</table:template>
						</table:Column>
						<table:Column width="4em" hAlign="Center">
							 <Label text="{path:'I18N>/CURRENCY', formatter:'I18NFormatter'}" />
							<table:template>
								<Text text="{mdRecepit>currency_code_nm}" textAlign="Center" />
							</table:template>
						</table:Column>
						<table:Column width="8em" hAlign="Center">
							<Label text="{path:'I18N>/RECEIPT_AMOUNT', formatter:'I18NFormatter'}"/>
							<table:template>
								<Text text="{mdRecepit>receiving_amount}" textAlign="Right" />
							</table:template>
						</table:Column>
						<table:Column width="4em" hAlign="Center">
							<Label text="{path:'I18N>/BOOK_CURRENCY', formatter:'I18NFormatter'}" />
							<table:template>
								<Text text="{mdRecepit>book_currency_code}" textAlign="Center" />
							</table:template>
						</table:Column>
						<table:Column width="8em" hAlign="Center">
							<Label text="{path:'I18N>/BUDGET_AMOUNT', formatter:'I18NFormatter'}"/>
							<table:template>
								<Text text="{mdRecepit>provisional_budget_amount}" textAlign="Right"/>
							</table:template>
						</table:Column>
						<table:Column width="15em" hAlign="Center">
							<Label text="{path:'I18N>/ORDER_SUPPLIER', formatter:'I18NFormatter'}"/>
							<table:template>
								<Text text="{mdRecepit>supplier_code_nm}"/>
							</table:template>
						</table:Column>
						<table:Column width="10em" hAlign="Center">
							<Label text="{path:'I18N>/PRODUCTION_SUPPLIER', formatter:'I18NFormatter'}"/>
							<table:template>
								<Text text="{mdRecepit>production_supplier_local_name}"/>
							</table:template>
						</table:Column>
						<table:Column width="10em" hAlign="Center">
							<!-- <Label text="Project Code"/> -->
                            <Label text="{path:'I18N>/PROJECT_CODE', formatter:'I18NFormatter'}"/>
					        <table:template>
								<Text text="{mdRecepit>project_code}"/>
							</table:template>
						</table:Column>
						<table:Column width="15em" hAlign="Center">
							<Label text="{path:'I18N>/ACQUISITION_DEPARTMENT', formatter:'I18NFormatter'}"/>
					        <table:template> 
                            <!-- Md_Asset > acq_department_code -->
                                <Input 
                                   id="acq_department_code" 
                                    editable="{mode>/editFlag}" 
                                    showValueHelp="true" 
                                    valueHelpOnly="true"
                                    value="{mdRecepit>acq_department_code_nm}"
                                    valueHelpRequest=".onValueHelpRequestedDept(${mdRecepit>mold_id})" /> 
                               
							</table:template>
						</table:Column>
						<table:Column width="10em" hAlign="Center">
							<Label text="{path:'I18N>/DRAWING_CONSENT_PLAN', formatter:'I18NFormatter'}"/>
					        <table:template>
                               <Text text="{path: 'mdRecepit>drawing_consent_plan', formatter: '.dateFormatter.toDateString'}"/>
							</table:template>
						</table:Column>
						<table:Column width="10em" hAlign="Center">
							<Label text="{path:'I18N>/DRAWING_CONSENT_RESULT', formatter:'I18NFormatter'}"/>
					        <table:template>
                                <Text text="{path:'mdRecepit>drawing_consent_result', formatter: '.dateFormatter.toDateString'}"/>
							</table:template>
						</table:Column>
						<table:Column width="10em" hAlign="Center">
                            <Label text="{path:'I18N>/1ST_PRODUCTION_PLAN', formatter:'I18NFormatter'}"/>
					        <table:template>
								<Text text="{path:'mdRecepit>production_plan', formatter: '.dateFormatter.toDateString'}"/>
							</table:template>
						</table:Column>
						<table:Column width="10em" hAlign="Center">
							<!-- <Label text="1st Production Result"/> -->
                            <Label text="{path:'I18N>/1ST_PRODUCTION_RESULT', formatter:'I18NFormatter'}"/>
					        <table:template>
								<Text text="{path:'mdRecepit>production_result', formatter: '.dateFormatter.toDateString'}"/>
							</table:template>
						</table:Column>
						<table:Column width="10em" hAlign="Center">
							<Label text="{path:'I18N>/COMPLETION_PLAN', formatter:'I18NFormatter'}"/>
					        <table:template>
								<Text text="{path:'mdRecepit>completion_plan', formatter: '.dateFormatter.toDateString'}"  />
							</table:template>
						</table:Column>
						<table:Column width="10em" hAlign="Center">
                            <Label text="{path:'I18N>/COMPLETION_RESULT', formatter:'I18NFormatter'}"/>
					        <table:template>
								<Text text="{path:'mdRecepit>completion_result' , formatter: '.dateFormatter.toDateString'}" />
							</table:template>
						</table:Column>

					</table:columns>
				</table:Table>
	    </form:content>
        </form:SimpleForm>
    </VBox>
  
</core:FragmentDefinition>
