<mvc:View controllerName="dp.md.moldApprovalList.controller.ParticipatingSupplierSelection" 
  xmlns:mvc="sap.ui.core.mvc"
    xmlns:uxap="sap.uxap"
    xmlns:form="sap.ui.layout.form" 
    xmlns:core="sap.ui.core" 
    xmlns:layout="sap.ui.layout"
    xmlns:tnt="sap.tnt"
    xmlns:sc="sap.suite.ui.commons"
    xmlns:si="sap.suite.ui.commons.statusindicator"
    xmlns:u="sap.ui.unified" 
    xmlns:table="sap.ui.table" 
    xmlns="sap.m"
	height="100%">

	<uxap:ObjectPageLayout 
        id="page"
		showTitleInHeaderContent="true"
		showEditHeaderButton="true" 
        upperCaseAnchorBar="false"
		showFooter="true"
		editHeaderButtonPress="handleEditBtnPress" >
		<uxap:headerTitle>
			<uxap:ObjectPageDynamicHeaderTitle>
				<uxap:expandedHeading>
					<Title text="{i18n>appTitle}" wrapping="true" />
				</uxap:expandedHeading>

				<uxap:snappedHeading>
                    <FlexBox fitContainer="true" alignItems="Center">
						<Title text="{i18n>appTitle}" wrapping="true"/>
					</FlexBox>
				</uxap:snappedHeading>

			    <uxap:expandedContent>
				</uxap:expandedContent>

				<uxap:snappedContent>
				</uxap:snappedContent>

				<uxap:snappedTitleOnMobile>
				</uxap:snappedTitleOnMobile>

				<uxap:actions>
                    <!-- 상단 버튼 영역 -->
				</uxap:actions>

                <uxap:navigationActions>
					<OverflowToolbarButton id="pageNavBackButton" icon="sap-icon://decline" text="back" tooltip="back to the list" press=".onPageNavBackButtonPress" />
                </uxap:navigationActions>
			</uxap:ObjectPageDynamicHeaderTitle>
		</uxap:headerTitle>

		<uxap:headerContent>
			<FlexBox wrap="Wrap" >
				<layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                    <ObjectStatus
                        title="Report No"
                        text="{appMaster>/approval_number}"/>
                    <ObjectStatus
                        title="Requester"
                        text="{appMaster>/requestor_empno}"/>
                    <ObjectStatus
                        title="Request Date"
                        text="{appMaster>/request_date}"/>
				</layout:VerticalLayout>

                <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
					<Label text="Status :"/>
                    <ObjectStatus
                        class="sapMObjectStatusLarge"
                        text="{= ${appMaster>/approval_number} !== null ? 'Update' : 'New' }"
                        state="Error" />
				</layout:VerticalLayout>

                <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                      <HBox>
                        <Title text="Process"/>
                    </HBox>
                    <HBox>
                        <sc:MicroProcessFlow>
                            <sc:content>
                                <sc:MicroProcessFlowItem state="None" stepWidth="3rem" icon="sap-icon://complete" />
                                <sc:MicroProcessFlowItem state="None" stepWidth="3rem" icon="sap-icon://complete" />
                                <sc:MicroProcessFlowItem state="Error" stepWidth="3rem" icon="sap-icon://circle-task" />
                                <sc:MicroProcessFlowItem state="None" stepWidth="3rem" />
                                <sc:MicroProcessFlowItem state="None" stepWidth="3rem" />
                                <sc:MicroProcessFlowItem state="None" stepWidth="3rem"/>
                                <sc:MicroProcessFlowItem state="None" stepWidth="3rem" />
                                <sc:MicroProcessFlowItem state="None" stepWidth="3rem" />
                                <sc:MicroProcessFlowItem state="None" stepWidth="3rem" />
                            </sc:content>
                        </sc:MicroProcessFlow>
                    </HBox>
                    <HBox>
                        <Text text=" PR" renderWhitespace="true" />
                        <Text text="Budget" width="6em" textAlign="Right" />
                        <Text text="RFQ" width="6em" textAlign="Center" />
                        <Text text="   Mold&#10;   Spec" renderWhitespace="true" />
                        <Text text="Purchase&#10; Contract" width="8em" textAlign="Center" />
                        <Text text="PO" renderWhitespace="true" />
                        <Text text="RCV" width="5em" textAlign="Right" />
                        <Text text="Lease&#10;Contract" width="7.5em" textAlign="Center" />
                        <Text text="Invoice" />
                    </HBox>
                </layout:VerticalLayout>
			</FlexBox>
		</uxap:headerContent>

		<uxap:sections id="pss">

			<uxap:ObjectPageSection  id="pageSectionMain" titleUppercase="true" title="General Info">
				<uxap:subSections>
					<uxap:ObjectPageSubSection id="pageGeneralInfoSection">
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

            <uxap:ObjectPageSection titleUppercase="false" title="Purchase Order Item">
				<uxap:subSections>
                    <uxap:ObjectPageSubSection>
                        <HBox>
                            <VBox class="sapUiSmallMargin">
                                <Label text="{I18N>/AFFILIATE}" />
                                <ObjectStatus
                                    text="[{company>/company_code}] {company>/company_name}" 
                                    state="Error"
                                    />
                            </VBox>
                            <VBox class="sapUiSmallMargin">
                                <Label text="{I18N>/BUSINESS_DIVISION}" />
                                <ObjectStatus
                                    text="[{plant>/plant_code}] {plant>/plant_name}" 
                                    state="Error"
                                    />
                            </VBox>
                        </HBox>
					</uxap:ObjectPageSubSection>
                    <uxap:ObjectPageSubSection>
                        <!-- Purchase Order Item Table -->
                        <table:Table id="psTable"
                            selectionMode="MultiToggle"
                            fixedColumnCount="6" 
                            visibleRowCountMode="Auto"
                            rows="{path:'mdItemMaster>/ParticipatingSupplier'}"
                            >
                            <table:extension>
                                <OverflowToolbar>
                                    <ToolbarSpacer/>
                                    <Button id="btnPoItemAdd"    type="Transparent" text="{I18N>/ROW_ADD}" press=".onPsAddPress" >
                                        <customData>
                                            <core:CustomData key="multi" value="true" />
                                        </customData>
                                    </Button>
                                    <Button id="btnPoItemDelete" type="Transparent" text="{I18N>/ROW_DELETE}"  press=".onPsDelRow" />
                                    <Button id="btnSupplier" type="Emphasized" text="Supplier Selection" press=".onSupplierSelection"/>
                                </OverflowToolbar>
                            </table:extension>                             
                            <table:columns>
                                <table:Column id="c_mold_id" visible="false">
                                    <Label text="mold_id"/>
                                    <table:template>
                                        <Text id="t_mold_id" text="{mdItemMaster>mold_id}"/>
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_approval_number" visible="false">
                                    <Label text="approval_number"/>
                                    <table:template>
                                        <Text id="t_approval_number" text="{mdItemMaster>approval_number}"/>
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_model" width="20em" hAlign="Center">
                                    <Label text="{I18N>/MODEL}"/>
                                    <table:template>
                                        <Text id="t_model" text="{mdItemMaster>model}"/>
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_moldPartNo" width="10em" hAlign="Center">
                                    <Label text="Mold No"/>
                                    <table:template>
                                        <Text id="t_mold_part_no" text="{mdItemMaster>mold_number}"/>
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_seq" width="5em" hAlign="Center">
                                    <Label text="Seq"/>
                                    <table:template>
                                        <Text id="t_seq" text="{mdItemMaster>mold_sequence}"/>
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_description" width="15em" hAlign="Center">
                                    <Label text="{I18N>/DESCRIPTION}"/>
                                    <table:template>
                                        <Text id="description" text="{mdItemMaster>spec_name}"/>
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_itemType" width="10em" hAlign="Center">
                                    <VBox>
                                        <Label text="Item"/>
                                        <Label text="Type"/>
                                    </VBox>
                                    <table:template>
                                        <ComboBox selectedKey="{mdItemMaster>mold_item_type_code}" items="{ path : 'util>/CodeDetails',
                                                filters : [
                                                    {path : 'tenant_id', operator : 'EQ', value1 : 'L1100'},
                                                    {path : 'group_code', operator : 'EQ', value1 : 'DP_MD_ITEM_TYPE'}
                                                ]
                                            }">
                                            <core:Item key="{util>code}" text="{util>code_description}"/> 
                                        </ComboBox>
                                        <!-- <Text id="moldItemTypeCodeNm" text="{mdItemMaster>mold_item_type_code_nm}"/> -->
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_bookCurrency" width="10em" hAlign="Center">
                                    <VBox>
                                        <Label text="Book"/>
                                        <Label text="Currency"/>
                                    </VBox>
                                    <table:template>
                                        <Text text="{mdItemMaster>book_currency_code}"/>
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_budget_amount" width="10em" hAlign="Center">
                                    <VBox>
                                        <Label text="Budget"/>
                                        <Label text="Amount"/>
                                    </VBox>
                                    <table:template>
                                        <Text text="{mdItemMaster>provisional_budget_amount}"/>
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_currency" width="10em" hAlign="Center">
                                    <VBox>
                                        <Label text="Currency"/>
                                    </VBox>
                                    <table:template>
                                    <!-- <Text text="{mdItemMaster>company_code}"/> -->
                                        <ComboBox selectedKey="{mdItemMaster>currency_code}" 
                                        items="{ 
                                            path : 'psOrgCode>/OrgCodeLanguages',
                                            filters : [
                                                {path : 'tenant_id', operator : 'EQ', value1 : 'L1100'},
                                                {path : 'group_code', operator : 'EQ', value1 : 'DP_MD_LOCAL_CURRENCY'}
                                            ]
                                        }">
                                            <core:Item key="{psOrgCode>code}" text="{psOrgCode>code_name}"/> 
                                        </ComboBox>
                                        <!-- <Input value="{mdItemMaster>currency_code}"/> -->
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_target_amount" width="10em" hAlign="Center">
                                    <VBox>
                                        <Label text="Target"/>
                                        <Label text="Amount"/>
                                    </VBox>
                                    <!-- <Label text="Budget Amount"/> -->
                                    <table:template>
                                        <Input value="{mdItemMaster>target_amount}"/>
                                        <!-- <Input value="{mdItemMaster>provisional_budget_amount}"/> -->
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_mold_supplier1" width="10em" hAlign="Center">
                                    <VBox>
                                        <Label text="Mold"/>
                                        <Label text="Supplier1"/>
                                    </VBox>
                                    <!-- <Label text="Budget Amount"/> -->
                                    <table:template>
                                        <Text text="{mdItemMaster>supplier_code_1}"/>
                                        <!-- <ComboBox selectedKey="{mdItemMaster>supplier_code_1}" 
                                            editable="false" 
                                            items="{ 
                                                path : 'org>/Company',
                                                filters : [
                                                    {path : 'tenant_id', operator : 'EQ', value1 : 'L1100'}
                                                ]
                                            }">
                                            <core:Item key="{org>company_code}" text="{org>company_name}"/> 
                                        </ComboBox> -->
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_mold_supplier2" width="10em" hAlign="Center">
                                    <VBox>
                                        <Label text="Mold"/>
                                        <Label text="Supplier2"/>
                                    </VBox>
                                    <!-- <Label text="Budget Amount"/> -->
                                    <table:template>
                                        <Text text="{mdItemMaster>supplier_code_2}"/>
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_mold_supplier3" width="10em" hAlign="Center">
                                    <VBox>
                                        <Label text="Mold"/>
                                        <Label text="Supplier3"/>
                                    </VBox>
                                    <!-- <Label text="Budget Amount"/> -->
                                    <table:template>
                                        <Text text="{mdItemMaster>supplier_code_3}"/>
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_mold_supplier4" width="10em" hAlign="Center">
                                    <VBox>
                                        <Label text="Mold"/>
                                        <Label text="Supplier4"/>
                                    </VBox>
                                    <!-- <Label text="Budget Amount"/> -->
                                    <table:template>
                                        <Text text="{mdItemMaster>supplier_code_4}"/>
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_mold_supplier5" width="10em" hAlign="Center">
                                    <VBox>
                                        <Label text="Mold"/>
                                        <Label text="Supplier5"/>
                                    </VBox>
                                    <!-- <Label text="Budget Amount"/> -->
                                    <table:template>
                                        <Text text="{mdItemMaster>supplier_code_5}"/>
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_mold_supplier6" width="10em" hAlign="Center">
                                    <VBox>
                                        <Label text="Mold"/>
                                        <Label text="Supplier6"/>
                                    </VBox>
                                    <!-- <Label text="Budget Amount"/> -->
                                    <table:template>
                                        <Text text="{mdItemMaster>supplier_code_6}"/>
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_mold_supplier7" width="10em" hAlign="Center">
                                    <VBox>
                                        <Label text="Mold"/>
                                        <Label text="Supplier7"/>
                                    </VBox>
                                    <!-- <Label text="Budget Amount"/> -->
                                    <table:template>
                                        <Text text="{mdItemMaster>supplier_code_7}"/>
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_mold_supplier8" width="10em" hAlign="Center">
                                    <VBox>
                                        <Label text="Mold"/>
                                        <Label text="Supplier8"/>
                                    </VBox>
                                    <!-- <Label text="Budget Amount"/> -->
                                    <table:template>
                                        <Text text="{mdItemMaster>supplier_code_8}"/>
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_mold_supplier9" width="10em" hAlign="Center">
                                    <VBox>
                                        <Label text="Mold"/>
                                        <Label text="Supplier9"/>
                                    </VBox>
                                    <!-- <Label text="Budget Amount"/> -->
                                    <table:template>
                                        <Text text="{mdItemMaster>supplier_code_9}"/>
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_mold_supplier10" width="10em" hAlign="Center">
                                    <VBox>
                                        <Label text="Mold"/>
                                        <Label text="Supplier10"/>
                                    </VBox>
                                    <!-- <Label text="Budget Amount"/> -->
                                    <table:template>
                                        <Text text="{mdItemMaster>supplier_code_10}"/>
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_mold_supplier11" width="10em" hAlign="Center">
                                    <VBox>
                                        <Label text="Mold"/>
                                        <Label text="Supplier11"/>
                                    </VBox>
                                    <!-- <Label text="Budget Amount"/> -->
                                    <table:template>
                                        <Text text="{mdItemMaster>supplier_code_11}"/>
                                    </table:template>
                                </table:Column>
                                <table:Column id="c_mold_supplier12" width="10em" hAlign="Center">
                                    <VBox>
                                        <Label text="Mold"/>
                                        <Label text="Supplier12"/>
                                    </VBox>
                                    <!-- <Label text="Budget Amount"/> -->
                                    <table:template>
                                        <Text text="{mdItemMaster>supplier_code_12}"/>
                                    </table:template>
                                </table:Column>
                            </table:columns>
                        </table:Table>
                    </uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

			<uxap:ObjectPageSection titleUppercase="false" title="Attachments">
				<uxap:subSections>
					<uxap:ObjectPageSubSection id="pageAttachmentsSection" >
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

			<uxap:ObjectPageSection titleUppercase="false" title="Approval Line">
				<uxap:subSections>
					<uxap:ObjectPageSubSection id="pageApprovalLineSection" >
                    </uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

		</uxap:sections>
		<uxap:footer>
			<OverflowToolbar>
				<ToolbarSpacer />
				<Button type="Transparent" text="Draft"         press=".onPageDraftButtonPress" />
				<Button type="Transparent" text="Preview"       press=".onPagePreviewButtonPress" />
				<Button type="Transparent" text="PO Sheet"      press=".onPagePOSheetButtonPress" />
				<Button type="Transparent" text="Request Cancel" press=".onPageRequestCancelButtonPress" />
				<Button type="Emphasized"  text="Request"       press=".onPageRequestButtonPress"/>
			</OverflowToolbar>
		</uxap:footer>
	</uxap:ObjectPageLayout>
</mvc:View>