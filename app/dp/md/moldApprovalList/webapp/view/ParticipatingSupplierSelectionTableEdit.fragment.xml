<!-- 
   description : 집행품의 Edit 화면  
-->
<core:FragmentDefinition
	xmlns="sap.m" 
        xmlns:uxap="sap.uxap" 
        xmlns:form="sap.ui.layout.form" 
        xmlns:core="sap.ui.core" 
        xmlns:layout="sap.ui.layout" 
        xmlns:tnt="sap.tnt" 
        xmlns:co="sap.suite.ui.commons" 
        xmlns:si="sap.suite.ui.commons.statusindicator" 
        xmlns:u="sap.ui.unified" 
        xmlns:table="sap.ui.table" >

      		<table:Table id="psTable"
                selectionMode="{=${mode>/editFlag}?'MultiToggle':'None'}" 
                fixedColumnCount="6" 
                visibleRowCountMode="Auto"
                rows="{path:'mdItemMaster>/ParticipatingSupplier'}"
                >
                <table:extension>
                    <OverflowToolbar>
                        <ToolbarSpacer/>
                        <Button id="btnPoItemAdd" visible="{mode>/editFlag}" type="Transparent" text="{I18N>/ROW_ADD}" press=".onPsAddPress" >
                            <customData>
                                <core:CustomData key="multi" value="true" />
                            </customData>
                        </Button>
                        <Button visible="{mode>/editFlag}" id="btnPoItemDelete" type="Transparent" text="{I18N>/ROW_DELETE}"  press=".onPsDelRow" />
                        <Button visible="{mode>/editFlag}" id="btnSupplier" type="Emphasized" text="Supplier Selection" press=".onSupplierSelection"/>
                    </OverflowToolbar>
                </table:extension>                             
                <table:columns>
                    <table:Column id="c_mold_id" visible="false">
                        <Label text="mold_id"/>
                        <table:template>
                            <Text id="t_mold_id" text="{mdItemMaster>mold_id}"/>
                        </table:template>
                    </table:Column>
                    <table:Column id="c_approval_number" visible="false">
                        <Label text="approval_number"/>
                        <table:template>
                            <Text id="t_approval_number" text="{mdItemMaster>approval_number}"/>
                        </table:template>
                    </table:Column>
                    <table:Column id="c_model" width="20em" hAlign="Center">
                        <Label text="{I18N>/MODEL}"/>
                        <table:template>
                            <Text id="t_model" text="{mdItemMaster>model}"/>
                        </table:template>
                    </table:Column>
                    <table:Column id="c_moldPartNo" width="10em" hAlign="Center">
                        <Label text="Mold No"/>
                        <table:template>
                            <Text id="t_mold_part_no" text="{mdItemMaster>mold_number}"/>
                        </table:template>
                    </table:Column>
                    <table:Column id="c_seq" width="5em" hAlign="Center">
                        <Label text="Seq"/>
                        <table:template>
                            <Text id="t_seq" text="{mdItemMaster>mold_sequence}"/>
                        </table:template>
                    </table:Column>
                    <table:Column id="c_description" width="15em" hAlign="Center">
                        <Label text="{I18N>/DESCRIPTION}"/>
                        <table:template>
                            <Text id="description" text="{mdItemMaster>spec_name}"/>
                        </table:template>
                    </table:Column>
                    <table:Column id="c_itemType" width="10em" hAlign="Center">
                        <VBox>
                            <Label text="Item"/>
                            <Label text="Type"/>
                        </VBox>
                        <table:template>
                            <Text id="description" text="{mdItemMaster>mold_item_type_code}"/>
                            <!-- <ComboBox visible="{mode>/editFlag}"
                                    editable="false"
                                    selectedKey="{mdItemMaster>mold_item_type_code}" items="{ path : 'util>/Code',
                                    filters : [
                                        {path : 'tenant_id', operator : 'EQ', value1 : 'L1100'},
                                        {path : 'group_code', operator : 'EQ', value1 : 'DP_MD_ITEM_TYPE'}
                                    ]
                                }">
                                <core:Item key="{util>code}" text="{util>code_name}"/> 
                            </ComboBox> -->
                            <!-- <Text id="moldItemTypeCodeNm" text="{mdItemMaster>mold_item_type_code_nm}"/> -->
                        </table:template>
                    </table:Column>
                    <table:Column id="c_bookCurrency" width="10em" hAlign="Center">
                        <VBox>
                            <Label text="Book"/>
                            <Label text="Currency"/>
                        </VBox>
                        <table:template>
                            <Text text="{mdItemMaster>book_currency_code}"/>
                        </table:template>
                    </table:Column>
                    <table:Column id="c_budget_amount" width="10em" hAlign="Center">
                        <VBox>
                            <Label text="Budget"/>
                            <Label text="Amount"/>
                        </VBox>
                        <table:template>
                            <Text text="{mdItemMaster>provisional_budget_amount}"/>
                        </table:template>
                    </table:Column>
                    <table:Column id="c_currency" width="10em" hAlign="Center">
                        <VBox>
                            <Label text="Currency"/>
                        </VBox>
                        <table:template>
                        <!-- <Text text="{mdItemMaster>company_code}"/> -->
                            <ComboBox visible="{mode>/editFlag}"
                                id="g_currency" selectedKey="{mdItemMaster>currency_code}" 
                                items="{ 
                                    path : 'psOrgCode>/OrgCodeLanguages',
                                    filters : [
                                        {path : 'tenant_id', operator : 'EQ', value1 : 'L1100'},
                                        {path : 'group_code', operator : 'EQ', value1 : 'DP_MD_LOCAL_CURRENCY'}
                                    ]
                                }">
                                <core:Item key="{psOrgCode>code}" text="{psOrgCode>code_name}"/> 
                            </ComboBox>
                            <!-- <Input value="{mdItemMaster>currency_code}"/> -->
                        </table:template>
                    </table:Column>
                    <table:Column id="c_target_amount" width="10em" hAlign="Center">
                        <VBox>
                            <Label text="Target"/>
                            <Label text="Amount"/>
                        </VBox>
                        <!-- <Label text="Budget Amount"/> -->
                        <table:template>
                            <Input visible="{mode>/editFlag}" value="{mdItemMaster>target_amount}"/>
                            <!-- <Input value="{mdItemMaster>provisional_budget_amount}"/> -->
                        </table:template>
                    </table:Column>
                    <table:Column id="c_mold_supplier1" width="10em" hAlign="Center">
                        <VBox>
                            <Label text="Mold"/>
                            <Label text="Supplier1"/>
                        </VBox>
                        <!-- <Label text="Budget Amount"/> -->
                        <table:template>
                            <Text text="{mdItemMaster>supplier_code_nm_1}"/>
                            <!-- <ComboBox selectedKey="{mdItemMaster>supplier_code_nm_1}" 
                                editable="false" 
                                items="{ 
                                    path : 'org>/Company',
                                    filters : [
                                        {path : 'tenant_id', operator : 'EQ', value1 : 'L1100'}
                                    ]
                                }">
                                <core:Item key="{org>company_code}" text="{org>company_name}"/> 
                            </ComboBox> -->
                        </table:template>
                    </table:Column>
                    <table:Column id="c_mold_supplier2" width="10em" hAlign="Center">
                        <VBox>
                            <Label text="Mold"/>
                            <Label text="Supplier2"/>
                        </VBox>
                        <!-- <Label text="Budget Amount"/> -->
                        <table:template>
                            <Text text="{mdItemMaster>supplier_code_nm_2}"/>
                        </table:template>
                    </table:Column>
                    <table:Column id="c_mold_supplier3" width="10em" hAlign="Center">
                        <VBox>
                            <Label text="Mold"/>
                            <Label text="Supplier3"/>
                        </VBox>
                        <!-- <Label text="Budget Amount"/> -->
                        <table:template>
                            <Text text="{mdItemMaster>supplier_code_nm_3}"/>
                        </table:template>
                    </table:Column>
                    <table:Column id="c_mold_supplier4" width="10em" hAlign="Center">
                        <VBox>
                            <Label text="Mold"/>
                            <Label text="Supplier4"/>
                        </VBox>
                        <!-- <Label text="Budget Amount"/> -->
                        <table:template>
                            <Text text="{mdItemMaster>supplier_code_nm_4}"/>
                        </table:template>
                    </table:Column>
                    <table:Column id="c_mold_supplier5" width="10em" hAlign="Center">
                        <VBox>
                            <Label text="Mold"/>
                            <Label text="Supplier5"/>
                        </VBox>
                        <!-- <Label text="Budget Amount"/> -->
                        <table:template>
                            <Text text="{mdItemMaster>supplier_code_nm_5}"/>
                        </table:template>
                    </table:Column>
                    <table:Column id="c_mold_supplier6" width="10em" hAlign="Center">
                        <VBox>
                            <Label text="Mold"/>
                            <Label text="Supplier6"/>
                        </VBox>
                        <!-- <Label text="Budget Amount"/> -->
                        <table:template>
                            <Text text="{mdItemMaster>supplier_code_nm_6}"/>
                        </table:template>
                    </table:Column>
                    <table:Column id="c_mold_supplier7" width="10em" hAlign="Center">
                        <VBox>
                            <Label text="Mold"/>
                            <Label text="Supplier7"/>
                        </VBox>
                        <!-- <Label text="Budget Amount"/> -->
                        <table:template>
                            <Text text="{mdItemMaster>supplier_code_nm_7}"/>
                        </table:template>
                    </table:Column>
                    <table:Column id="c_mold_supplier8" width="10em" hAlign="Center">
                        <VBox>
                            <Label text="Mold"/>
                            <Label text="Supplier8"/>
                        </VBox>
                        <!-- <Label text="Budget Amount"/> -->
                        <table:template>
                            <Text text="{mdItemMaster>supplier_code_nm_8}"/>
                        </table:template>
                    </table:Column>
                    <table:Column id="c_mold_supplier9" width="10em" hAlign="Center">
                        <VBox>
                            <Label text="Mold"/>
                            <Label text="Supplier9"/>
                        </VBox>
                        <!-- <Label text="Budget Amount"/> -->
                        <table:template>
                            <Text text="{mdItemMaster>supplier_code_nm_9}"/>
                        </table:template>
                    </table:Column>
                    <table:Column id="c_mold_supplier10" width="10em" hAlign="Center">
                        <VBox>
                            <Label text="Mold"/>
                            <Label text="Supplier10"/>
                        </VBox>
                        <!-- <Label text="Budget Amount"/> -->
                        <table:template>
                            <Text text="{mdItemMaster>supplier_code_nm_10}"/>
                        </table:template>
                    </table:Column>
                    <table:Column id="c_mold_supplier11" width="10em" hAlign="Center">
                        <VBox>
                            <Label text="Mold"/>
                            <Label text="Supplier11"/>
                        </VBox>
                        <!-- <Label text="Budget Amount"/> -->
                        <table:template>
                            <Text text="{mdItemMaster>supplier_code_nm_11}"/>
                        </table:template>
                    </table:Column>
                    <table:Column id="c_mold_supplier12" width="10em" hAlign="Center">
                        <VBox>
                            <Label text="Mold"/>
                            <Label text="Supplier12"/>
                        </VBox>
                        <!-- <Label text="Budget Amount"/> -->
                        <table:template>
                            <Text text="{mdItemMaster>supplier_code_nm_12}"/>
                        </table:template>
                    </table:Column>
                </table:columns>
            </table:Table>
	
</core:FragmentDefinition>
