
    <mvc:View controllerName="dp.md.remodelRepairMgtList.controller.RrMgtDetail" 
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:uxap="sap.uxap"
    xmlns:form="sap.ui.layout.form" 
    xmlns:core="sap.ui.core" 
    xmlns:layout="sap.ui.layout"
    xmlns:tnt="sap.tnt"
    xmlns:sc="sap.suite.ui.commons"
    xmlns:si="sap.suite.ui.commons.statusindicator"
    xmlns:u="sap.ui.unified" 
    xmlns:table="sap.ui.table" 
    xmlns="sap.m"
    xmlns:cm-ui="cm.util.control.ui"
    xmlns:dnd="sap.ui.core.dnd"
    core:require="{ I18NFormatter: 'dp/md/util/controller/I18NFormatter' }"
	height="100%">

	<uxap:ObjectPageLayout 
        id="page"
		showTitleInHeaderContent="true"
		showEditHeaderButton="true" 
        upperCaseAnchorBar="false"
		showFooter="true"
		editHeaderButtonPress="handleEditBtnPress" >
		<uxap:headerTitle>
			<uxap:ObjectPageDynamicHeaderTitle>
                <uxap:expandedHeading>
					<Title text="Remodel/Repair Management" wrapping="true" />
				</uxap:expandedHeading>

				<uxap:snappedHeading>
                    <FlexBox fitContainer="true" alignItems="Center">
						<Title text="Remodel/Repair Management" wrapping="true"/>
					</FlexBox>
				</uxap:snappedHeading>

			    <uxap:expandedContent>
				</uxap:expandedContent>

				<uxap:snappedContent>
				</uxap:snappedContent>

				<uxap:snappedTitleOnMobile>
				</uxap:snappedTitleOnMobile>

				<uxap:actions>
				 <!-- <Button id="pageEditButton" text="Edit" type="Emphasized" press=".onPageEditButtonPress" enabled="{= ${rrMgt>/approve_status_code} === 'AR'?false:${mode>/viewFlag} }"/> --> 
				</uxap:actions>

                <uxap:navigationActions>
					<OverflowToolbarButton type="Transparent" icon="sap-icon://decline" text="back" tooltip="back to the list" press=".onPageNavBackButtonPress" />
                </uxap:navigationActions>
                <!-- <uxap:heading> 
                    <HBox alignItems="End">
                        <OverflowToolbarButton type="Transparent" icon="sap-icon://nav-back" press=".onPageNavBackButtonPress"  tooltip="Close column" />
                        <Title text="Participating Supplier Selection Cancel Approval" wrapping="true" class="" />
                    </HBox>
				</uxap:heading> -->
			</uxap:ObjectPageDynamicHeaderTitle>
		</uxap:headerTitle>

		<uxap:headerContent>
			<FlexBox wrap="Wrap" >
                <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                    <ObjectStatus
                        title="{I18N>/REQUEST_NUMBER}"
                        text="{rrMgt>/repair_request_number}"/>
                    <ObjectStatus
                        title="{I18N>/REQUESTOR}"
                        text="[{rrMgt>/user_english_name}]{rrMgt>/user_local_name}"/>
                    <ObjectStatus
                        title="{I18N>/REQUEST_DATE}"
                        text="{rrMgt>/repair_request_date}"/>
				</layout:VerticalLayout>

                <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
					<HBox><Label text="{I18N>/STATUS}" /> <Label text=" :"/></HBox>
                    <!-- <ObjectStatus
                        class="sapMObjectStatusLarge"
                        text="{= ${rrMgt>/approval_number} === undefined ?'New':''}{rrMgt>/approve_status_code_nm}"
                        state="Error" /> -->
                        <ObjectStatus
                        class="sapMObjectStatusLarge"
                        text="New"
                        state="Error" />
				</layout:VerticalLayout>

                <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                      <HBox>
                         <Title text="{I18N>/PROCESS}"/>
                    </HBox>
                      <HBox id="rrMgtProcess"></HBox>
                </layout:VerticalLayout>
			</FlexBox>
		</uxap:headerContent>

		<uxap:sections>

	        <uxap:ObjectPageSection id="pageSectionReqEntry" titleUppercase="true" title="Request Entry">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
                        <VBox>
                            <HBox>
                                <Label
                                    text="{path:'I18N>/SUBJECT', formatter:'I18NFormatter'}"
                                    class="sapUiTinyMarginEnd"
                                    textAlign="Left"
                                    labelFor="input"
                                    required="true"/>
                                <Input
                                    value="{rrMgt>/repair_desc}"
                                    width="40em" 
                                    placeholder="Input data" required="true">
                                </Input><!--class="readonlyField" fieldGroupIds="ge"-->
                            </HBox>
                            <VBox>
                                <Label
                                    text="{path:'I18N>/REMARK', formatter:'I18NFormatter'}"
                                    class="sapUiTinyMarginEnd"
                                    textAlign="Left"
                                    labelFor="input" 
                                    required="true"
                                    />
                                <TextArea
                                    value="{rrMgt>/repair_reason}"
                                    width="100%"
                                    height="10em" 
                                    required="true"
                                    >
                                </TextArea><!--class="readonlyField" fieldGroupIds="ge"-->
                            </VBox>
                        </VBox>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

	        <uxap:ObjectPageSection id="pageSectionRepairInfo" titleUppercase="true" title="Repair Info">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
                        <VBox>
                            <form:SimpleForm editable="true" 
                                    layout="ResponsiveGridLayout" 
                                    labelSpanXL="2" 
                                    labelSpanL="2" 
                                    labelSpanM="2" 
                                    labelSpanS="2" 
                                    adjustLabelSpan="false" 
                                    emptySpanXL="0" 
                                    emptySpanL="0" 
                                    emptySpanM="0" 
                                    emptySpanS="0" 
                                    columnsXL="2" 
                                    columnsL="1" 
                                    columnsM="1" 
                                    width="100%"
                                    singleContainerFullSize="true">
                                <form:content>
                                   
                                    <VBox height="6em">
                                        <Label
                                            text="{path:'I18N>/MODEL', formatter:'I18NFormatter'}"
                                            class="sapUiTinyMarginEnd"
                                            textAlign="Left"
                                            labelFor="input"
                                             />
                                        <Text text="{rrMgt>/model}"/>
                                        <layoutData>
						                    <layout:GridData span="XL4 L4 M6 S6"/>
					                    </layoutData>
                                    </VBox>
                                    <VBox height="6em">
                                        <Label
                                            text="{path:'I18N>/MOLD_NUMBER', formatter:'I18NFormatter'}"
                                            class="sapUiTinyMarginEnd"
                                            textAlign="Left"
                                            labelFor="input"
                                            />
                                        <Text text="{rrMgt>/mold_number}"/>
                                        <layoutData>
						                    <layout:GridData span="XL4 L4 M6 S6"/>
					                    </layoutData>
                                    </VBox>
                                    <VBox height="6em">
                                        <Label
                                            text="{path:'I18N>/SEQUENCE', formatter:'I18NFormatter'}"
                                            class="sapUiTinyMarginEnd"
                                            textAlign="Left"
                                            labelFor="input"
                                             />
                                        <Text text="{rrMgt>/mold_sequence}"/>
                                        <layoutData>
						                    <layout:GridData span="XL4 L4 M6 S6"/>
					                    </layoutData>
                                    </VBox>
                                    <VBox height="6em">
                                        <Label
                                            text="{path:'I18N>/DESCRIPTION', formatter:'I18NFormatter'}"
                                            class="sapUiTinyMarginEnd"
                                            textAlign="Left"
                                            labelFor="input"
                                             />
                                        <Text text="{rrMgt>/class_desc}"/>
                                        <layoutData>
						                    <layout:GridData span="XL4 L4 M6 S6"/>
					                    </layoutData>
                                    </VBox>
                                    <VBox height="6em">
                                        <Label
                                            text="{path:'I18N>/PRODUCTION_TYPE', formatter:'I18NFormatter'}"
                                            class="sapUiTinyMarginEnd"
                                            textAlign="Left"
                                            labelFor="input"
                                            />
                                        <Text text="{rrMgt>/mold_production_type_code_nm}"/>
                                        <layoutData>
						                    <layout:GridData span="XL4 L4 M6 S6"/>
					                    </layoutData>
                                    </VBox>
                                    <VBox height="6em">
                                        <Label
                                            text="{path:'I18N>/TOOL_TYPE', formatter:'I18NFormatter'}"
                                            class="sapUiTinyMarginEnd"
                                            textAlign="Left"
                                            labelFor="input"
                                             />
                                        <Text text="{rrMgt>/mold_item_type_code_nm}"/>
                                        <layoutData>
						                    <layout:GridData span="XL4 L4 M6 S6"/>
					                    </layoutData>
                                    </VBox>
                                    <VBox height="6em">
                                        <Label
                                            text="{path:'I18N>/MOLD_SUPPLIER', formatter:'I18NFormatter'}"
                                            class="sapUiTinyMarginEnd"
                                            textAlign="Left"
                                            labelFor="input"
                                           />
                                        <Input
                                            value="{rrMgt>/mold_mfger_code_nm}"
                                            width="10em"
                                            placeholder="Input data"   >
                                        </Input>
                                        <layoutData>
						                    <layout:GridData span="XL4 L4 M6 S6"/>
					                    </layoutData>
                                    </VBox>
                                    <VBox height="6em">
                                        <Label
                                            text="{path:'I18N>/ORDER_SUPPLIER', formatter:'I18NFormatter'}"
                                            class="sapUiTinyMarginEnd"
                                            textAlign="Left"
                                            labelFor="input"
                                            />
                                        <Text text="{rrMgt>/supplier_code_nm}"/>
                                        <layoutData>
						                    <layout:GridData span="XL4 L4 M6 S6"/>
					                    </layoutData>
                                    </VBox>
                                    <VBox height="6em">
                                        <Label
                                            text="{path:'I18N>/PRODUCTION_SUPPLIER', formatter:'I18NFormatter'}"
                                            class="sapUiTinyMarginEnd"
                                            textAlign="Left"
                                            labelFor="input"
                                            />
                                        <Text text="{rrMgt>/production_supplier_code_nm}"/>
                                        <layoutData>
						                    <layout:GridData span="XL4 L4 M6 S6"/>
					                    </layoutData>
                                    </VBox>
                                    <VBox height="6em">
                                        <Label
                                            text="{path:'I18N>/MOVE_PLAN', formatter:'I18NFormatter'}"
                                            class="sapUiTinyMarginEnd"
                                            textAlign="Left"
                                            labelFor="input"
                                            required="true"/>
                                        <DatePicker dateValue="{path : 'rrMgt>/mold_moving_plan_date'}"  valueFormat="yyyyMMdd" displayFormat="yyyy-MM-dd" required="true"/>
                                        <layoutData>
						                    <layout:GridData span="XL4 L4 M12 S12"/>
					                    </layoutData>
                                    </VBox>
                                    <VBox height="6em">
                                        <Label
                                            text="{path:'I18N>/COMPLETE_PLAN', formatter:'I18NFormatter'}"
                                            class="sapUiTinyMarginEnd"
                                            textAlign="Left"
                                            labelFor="input"
                                            required="true"/>
                                        <DatePicker dateValue="{path : 'rrMgt>/mold_complete_plan_date'}"  valueFormat="yyyyMMdd" displayFormat="yyyy-MM-dd" required="true"/>
                                        <layoutData>
						                    <layout:GridData span="XL4 L4 M12 S12"/>
					                    </layoutData>
                                    </VBox>
                                    <VBox height="6em">
                                        <Label text=""
                                            class="sapUiTinyMarginEnd"
                                            textAlign="Left"
                                            labelFor="input"
                                            />
                                      
                                        <layoutData>
						                    <layout:GridData span="XL4 L4 M12 S12"/>
					                    </layoutData>
                                    </VBox>

                                    <VBox height="6em">
                                        <Label
                                            text="{path:'I18N>/MOVE_RESULT', formatter:'I18NFormatter'}"
                                            class="sapUiTinyMarginEnd"
                                            textAlign="Left"
                                            labelFor="input"
                                            />
                                         <DatePicker dateValue="{path : 'rrMgt>/mold_moving_result_date'}"  valueFormat="yyyyMMdd" displayFormat="yyyy-MM-dd"/>
                                        <layoutData>
						                    <layout:GridData span="XL4 L4 M12 S12"/>
					                    </layoutData>
                                    </VBox>
                                  
                                    <VBox height="6em">
                                        <Label
                                            text="{path:'I18N>/COMPLETE_RESULT', formatter:'I18NFormatter'}"
                                            class="sapUiTinyMarginEnd"
                                            textAlign="Left"
                                            labelFor="input"
                                            />
                                        <DatePicker dateValue="{path : 'rrMgt>/mold_complete_result_date'}"  valueFormat="yyyyMMdd" displayFormat="yyyy-MM-dd" />
                                        <layoutData>
						                     <layout:GridData span="XL4 L4 M12 S12"/>
					                    </layoutData>
                                    </VBox>

                                    <VBox height="6em">
                                        <Label
                                            text=""
                                            class="sapUiTinyMarginEnd"
                                            textAlign="Left"
                                            labelFor="input"
                                            />
                                      
                                        <layoutData>
						                    <layout:GridData span="XL4 L4 M12 S12"/>
					                    </layoutData>
                                    </VBox>
                                </form:content>
                            </form:SimpleForm>
                      
                        </VBox>
                            
                            
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

			<uxap:ObjectPageSection titleUppercase="false" title="Attachments">
				<uxap:subSections>
					<uxap:ObjectPageSubSection id="pageAttachmentsSection" >
                        <layout:VerticalLayout class="sapUiSmallMarginBeginEnd" width="100%">
                            <UploadCollection
                                id="UploadCollection"
                                maximumFilenameLength="55"
                                maximumFileSize="10"
                                multiple="true"
                                sameFilenameAllowed="true"
                                instantUpload="false"
                                noDataDescription="Drop files or use the &quot;Add&quot; button to keep files ready for upload"
                                change="onChange"
                                fileDeleted="onFileDeleted"
                                filenameLengthExceed="onFilenameLengthExceed"
                                fileSizeExceed="onFileSizeExceed"
                                typeMissmatch="onTypeMissmatch"
                                uploadComplete="onUploadComplete"
                                beforeUploadStarts="onBeforeUploadStarts" />
                                
                            <Button id="Button" text="Upload Now" press="onStartUpload" />
                        </layout:VerticalLayout>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

			<uxap:ObjectPageSection titleUppercase="false" title="Recipt Line">
				<uxap:subSections>
					<uxap:ObjectPageSubSection id="pageApprovalLineSection" >
                        <VBox class="sapUiSmallMargin">
                            <form:SimpleForm editable="true" 
                                            layout="ResponsiveGridLayout" 
                                            labelSpanXL="2" 
                                            labelSpanL="2" 
                                            labelSpanM="2" 
                                            labelSpanS="2" 
                                            adjustLabelSpan="false" 
                                            emptySpanXL="0" 
                                            emptySpanL="0" 
                                            emptySpanM="0" 
                                            emptySpanS="0" 
                                            columnsXL="2" 
                                            columnsL="1" 
                                            columnsM="1" 
                                            singleContainerFullSize="true">
                                <form:content>
                                    <VBox class="sapUiSmallMarginBegin">
                                        <Toolbar>
                                        <Label text="Recipients Line" />
                                        <ToolbarSpacer/>
                                        <HBox alignItems="End" justifyContent="End" >
                                            <Label text="Adress Book" class=""/>
                                            <core:Icon 
                                                src="sap-icon://address-book"
                                                class="size2 sapUiSmallMarginBeginEnd" 
                                                >
                                            </core:Icon>
                                        </HBox>
                                        </Toolbar>
                                        <layout:VerticalLayout class="sapUiContentPadding" width="100%"> 
                                            <MultiInput id="referMulti"
                                                    placeholder="Choose codes from the ValueHelp"
                                                    showValueHelp="true" 
                                                    valueHelpRequest=".onMultiInputWithEmployeeValuePress"
                                                    editable="{mode>/editFlag}"
                                                    >
                                            </MultiInput>
                                            <!-- <MultiComboBox
                                                selectionChange="handleSelectionChangeReferer"
                                                selectionFinish="handleSelectionFinishReferer"
                                                width="100%" 
                                                selectedKeys="{refererMultiCB>/refer}"
                                                items="{ path: '/RefererSearch',
                                                            filters: [
                                                                {path: 'tenant_id', operator: 'EQ', value1: 'L2101'}
                                                            ]
                                                        }"
                                                editable="{mode>/editFlag}">
                                                <core:Item key="{employee_number}" text="{s_referer_name}" />
                                            </MultiComboBox> -->
                                        </layout:VerticalLayout>
                                        <layoutData>
                                            <layout:GridData span="XL12 L12 M12 S12" />
                                        </layoutData> 
                                    </VBox>
                                </form:content>
                            </form:SimpleForm>
                        </VBox>
                    </uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

		</uxap:sections>
		<uxap:footer>
			<OverflowToolbar>
				<ToolbarSpacer />
                <!-- <Button type="Transparent" text="{I18N>/EDIT}"      press=".onPageEditButtonPress" visible="{mode>/btnEditFlag}"/>
                <Button type="Transparent" text="{I18N>/CANCEL}"    press=".onPageCancelEditButtonPress" visible="{mode>/btnCancelFlag}" /> -->
				<Button type="Transparent" text="{I18N>/DRAFT}"     press=".onPageDraftButtonPress"   visible="{mode>/btnDraftFlag}" />
                <!-- <Button type="Transparent" text="Request Cancel"  press=".onPageRequestCancelButtonPress"  visible="{mode>/btnRequestCancelFlag}"/>
				<Button type="Transparent" text="{I18N>/PREVIEW}"   press=".onPagePreviewButtonPress"  /> -->
				<Button type="Emphasized"  text="{I18N>/REQUEST}"   press=".onPageRequestButtonPress" visible="{mode>/btnRequestFlag}"/>
			</OverflowToolbar>
		</uxap:footer>
	</uxap:ObjectPageLayout>
   
</mvc:View>