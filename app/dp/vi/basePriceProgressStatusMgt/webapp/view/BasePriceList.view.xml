<mvc:View controllerName="dp.vi.basePriceProgressStatusMgt.controller.BasePriceList"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"
  xmlns:f="sap.f"
  xmlns:core="sap.ui.core"
  xmlns:form="sap.ui.layout.form"
  xmlns:t="sap.ui.table"
  xmlns:layout="sap.ui.layout"
  xmlns:lib-m="ext.lib.control.m"
  displayBlock="true"
  height="100%">
    <f:DynamicPage
        headerExpanded="true"
        showFooter="true"
        toggleHeaderOnTitleClick="true">
      <f:title>
        <f:DynamicPageTitle>
          <f:heading>
            <Title text="{i18n>appTitle}" />
          </f:heading>
          <f:actions>
            <!-- <Button text="{I18N>/SEARCH}" type="Emphasized" press=".onSearch"/> -->
            <Button text="Search" type="Emphasized" press=".onSearch"/>
            <!-- <Button text="Search2" type="Emphasized" press=".onSearch2"/> -->
          </f:actions>
        </f:DynamicPageTitle>
      </f:title>
      <f:header>
        <f:DynamicPageHeader pinnable="true">
          <!--Filterbar 시작-->
          <form:SimpleForm
            editable="true"
            layout="ResponsiveGridLayout"
            adjustLabelSpan="false">
                <form:content>
                    <VBox>
                        <!-- <Label text="{I18N>/TYPE}"></Label> -->
                        <Label text="Type"></Label>
                        <ComboBox
                            width="100%"
                            selectedKey="{filterModel>/type}"
                            items="{
                            path: 'filterModel>/type_list',
                            filters: [
                            ]
                            }">
                            <items>
                            <core:Item key="{filterModel>code}" text="{filterModel>text}" />
                            </items>
                        </ComboBox>
                        <layoutData>
                            <layout:GridData span="XL2 L4 M6 S12" />
                        </layoutData>
                    </VBox>
                    <VBox>
                        <!-- <Label text="{I18N>/BUSINESS_DIVISION}"></Label> -->
                        <Label text="Pur Org"></Label>
                        <ComboBox
                            width="100%"
                            selectedKey="{filterModel>/divistion}"
                            items="{
                            path: 'filterModel>/divistion_list',
                            filters: [
                            ]
                            }">
                            <items>
                            <core:Item key="{filterModel>code}" text="{filterModel>text}" />
                            </items>
                        </ComboBox>
                        <layoutData>
                            <layout:GridData span="XL2 L4 M6 S12" />
                        </layoutData>
                    </VBox>
                    <VBox>
                        <!-- <Label text="{I18N>/MATERIAL_CODE}"></Label> -->
                        <Label text="Material Code"></Label>
                        <SearchField value="{filterModel>/materialCode}" search=".onOpenDialog" />
                        <layoutData>
                            <layout:GridData span="XL2 L4 M6 S12" />
                        </layoutData>
                    </VBox>
                    <VBox>
                        <!-- <Label text="{I18N>/APPROVAL_NUMBER}"></Label> -->
                        <Label text="Approval Number" textAlign="Center" />
                        <Input value="{filterModel>/approvalNumber}" />
                        <layoutData>
                            <layout:GridData span="XL2 L4 M6 S12" />
                        </layoutData>
                        </VBox>
                    <VBox>
                        <!-- <Label text="{I18N>/REQUEST_DATE}"></Label> -->
                        <Label text="Request Date"></Label>
                        <DateRangeSelection
                            dateValue="{filterModel>/dateValue}"
                            secondDateValue="{filterModel>/secondDateValue}" />
                        <layoutData>
                            <layout:GridData span="XL2 L4 M6 S12" />
                        </layoutData>
                    </VBox>
                    <VBox>
                        <!-- <Label text="{I18N>/REQUEST_BY}"></Label> -->
                        <Label text="Request By"></Label>
                        <SearchField value="{filterModel>/requestBy}" />
                        <layoutData>
                            <layout:GridData span="XL2 L4 M6 S12" />
                        </layoutData>
                        </VBox>
                        <VBox>
                        <!-- <Label text="{I18N>/AGREED_BY}"></Label> -->
                        <Label text="Agreed By"></Label>
                        <SearchField value="{filterModel>/agreedBy}" />
                        <layoutData>
                            <layout:GridData span="XL2 L4 M6 S12" />
                        </layoutData>
                    </VBox>
                    <VBox height="56px">
                        <!-- <Label text="{I18N>/STATUS}"></Label> -->
                        <Label text="Status"></Label>
                        <SegmentedButton id="searchStatusS" selectedKey="{filterModel>/status}" class="sapUiSmallMarginBottom" width="100%" selectionChange="onStatusSelectionChange" >
                            <items>
                                <SegmentedButtonItem text="All" key="" />
                                <SegmentedButtonItem text="Draft" key="10" width="4.2rem" />
                                <SegmentedButtonItem text="Requested" key="20" width="5.2rem" />
                                <SegmentedButtonItem text="Approved" key="30" width="4.8rem" />
                                <SegmentedButtonItem text="Rejected" key="40" width="4.5rem" />
                            </items>
                        </SegmentedButton>
                        <layoutData>
                            <layout:GridData span="XL4 L4 M6 S12" />
                        </layoutData>
                    </VBox>
                    <!-- <VBox>
                        <Label text="임시 tenant"></Label>
                        <ComboBox
                            width="100%"
                            selectedKey="{basePriceProgressStatusMgtRootModel>/tenantId}"
                            items="{basePriceProgressStatusMgtRootModel>/tenantList}">
                            <items>
                            <core:Item key="{basePriceProgressStatusMgtRootModel>tenant_id}" text="{basePriceProgressStatusMgtRootModel>tenant_name}" />
                            </items>
                        </ComboBox>
                        <layoutData>
                            <layout:GridData span="XL2 L4 M6 S12" />
                        </layoutData>
                    </VBox> -->
                </form:content>
            </form:SimpleForm>
            <!--Filterbar 끝-->
        </f:DynamicPageHeader>
      </f:header>
      <f:content>
        <!--Base Price List 시작-->
        <t:Table id="listTable"
            selectionMode="None"
            rows="{listModel>/results}"
            fixedColumnCount="4"
            visibleRowCountMode="Auto">
            <t:extension>
                <OverflowToolbar class="sapFDynamicPageAlignContent">
                    <!-- <Title text="{I18N>/BASE_PRICE_LIST} ({= ${listModel>/results}.length})" level="H2"/> -->
                    <Title text="Base Price List ({= ${listModel>/results}.length})" level="H2"/>
                    <ToolbarSpacer />
                    <!-- <Button icon="sap-icon://excel-attachment" />
                    <Button icon="sap-icon://group-2" />
                    <Button icon="sap-icon://action-settings" /> -->
                </OverflowToolbar>
            </t:extension>
            <t:columns>
                <t:Column hAlign="Center" width="10rem">
                    <!-- <Label text="{I18N>/APPROVAL_NUMBER}" textAlign="Center" /> -->
                    <Label text="Approval Number" textAlign="Center" />
                    <t:template>
                        <Link text="{listModel>approval_number}" press=".onGoDetail" />
                        <!-- <Text text="{listModel>approval_number}" /> -->
                    </t:template>
                </t:Column>
                <t:Column width="10rem">
                    <!-- <Label text="{I18N>/COMPANY}" textAlign="Center" /> -->
                    <Label text="Company" textAlign="Center" />
                    <t:template>
                        <Text text="{listModel>company_code_fk/company_name}" />
                    </t:template>
                </t:Column>
                <t:Column hAlign="Center" width="6rem">
                    <!-- <Label text="{I18N>/BUSINESS_DIVISION}" textAlign="Center" /> -->
                    <Label text="Pur Org"></Label>
                    <t:template>
                        <Text text="{listModel>org_code}" />
                    </t:template>
                </t:Column>
                <t:Column hAlign="Center" width="8rem">
                    <!-- <Label text="{I18N>/MATERIAL_CODE}" /> -->
                    <Label text="Material Code" />
                    <t:template>
                        <Text text="{listModel>material_code}" />
                    </t:template>
                </t:Column>
                <t:Column width="16rem">
                    <!-- <Label text="{I18N>/DESCRIPTION}" textAlign="Center" width="100%" /> -->
                    <Label text="Description" textAlign="Center" width="100%" />
                    <t:template>
                        <!-- <Link text=">" press=".onGoDetail" /> -->
                        <Text text="{listModel>material_code_fk/material_desc}" />
                    </t:template>
                </t:Column>
                <t:Column width="20rem">
                    <!-- <Label text="{I18N>/SPEC_DESC}" /> -->
                    <Label text="Spec" textAlign="Center" width="100%" />
                    <t:template>
                        <Text text="{listModel>material_code_fk/material_spec}" />
                    </t:template>
                </t:Column>
                <t:Column width="12rem">
                    <!-- <Label text="{I18N>/STATUS}"  textAlign="Center" width="100%" /> -->
                    <Label text="Status"  textAlign="Center" width="100%" />
                    <t:template>
                        <Text text="{listModel>approval_number_fk/approval_status_code}" textAlign="Right" width="100%" />
                    </t:template>
                </t:Column>
                <t:Column headerSpan="3" width="7rem">
                    <t:multiLabels>
                        <!-- <Label text="{I18N>/DOMESTIC}" textAlign="Center" />
                        <Label text="{I18N>/BASE_DATE}" textAlign="Center" /> -->
                        <Label text="Domestic" textAlign="Center" width="100%" />
                        <Label text="Base Date" textAlign="Center" width="100%" />
                    </t:multiLabels>
                    <t:template>
                        <Text text="{
                                path: 'listModel>base_date',
                                formatter: '.dateFormatter.toDateString'}" textAlign="Center" width="100%" />
                    </t:template>
                    </t:Column>
                <t:Column width="10rem">
                    <t:multiLabels>
                        <!-- <Label text="{I18N>/DOMESTIC}" textAlign="Center" />
                        <Label text="{I18N>/NEW_BASE_PRICE}" textAlign="Center" /> -->
                        <Label text="Domestic" textAlign="Center" width="100%" />
                        <Label text="New BasePrice" textAlign="Center" width="100%" />
                    </t:multiLabels>
                    <t:template>
                        <Text text="{listModel>prices/results/0/new_base_price}" textAlign="Right" width="100%" />
                    </t:template>
                    </t:Column>
                <t:Column width="6rem" >
                    <t:multiLabels>
                        <!-- <Label text="{I18N>/DOMESTIC}" textAlign="Center" />
                        <Label text="{I18N>/CURRENCY_CODE}" textAlign="Center" /> -->
                        <Label text="Domestic" textAlign="Center" width="100%" />
                        <Label text="Curr." textAlign="Center" width="100%" />
                    </t:multiLabels>
                    <t:template>
                        <Text text="{listModel>prices/results/0/new_base_price_currency_code}" textAlign="Center" width="100%" />
                    </t:template>
                </t:Column>
                <t:Column headerSpan="3" width="7rem">
                    <t:multiLabels>
                        <!-- <Label text="{I18N>/EXPORT}" textAlign="Center" />
                        <Label text="{I18N>/BASE_DATE}" textAlign="Center" /> -->
                        <Label text="Export"  textAlign="Center" width="100%" />
                        <Label text="Base Date"  textAlign="Center" width="100%" />
                    </t:multiLabels>
                    <t:template>
                        <Text text="{
                                path: 'listModel>base_date',
                                formatter: '.dateFormatter.toDateString'}" textAlign="Center" width="100%" />
                    </t:template>
                </t:Column>
                <t:Column width="10rem">
                    <t:multiLabels>
                            <!-- <Label text="{I18N>/EXPORT}" textAlign="Center" />
                        <Label text="{I18N>/NEW_BASE_PRICE}" textAlign="Center" /> -->
                            <Label text="Export"  textAlign="Center" width="100%" />
                        <Label text="New Base Price"  textAlign="Center" width="100%" />
                    </t:multiLabels>
                    <t:template>
                        <Text text="{listModel>prices/results/1/new_base_price}" textAlign="Right" width="100%" />
                    </t:template>
                </t:Column>
                <t:Column width="6rem" >
                    <t:multiLabels>
                        <!-- <Label text="{I18N>/EXPORT}" textAlign="Center" />
                        <Label text="{I18N>/CURRENCY_CODE}" textAlign="Center" /> -->
                        <Label text="Export" textAlign="Center" width="100%" />
                        <Label text="Curr." textAlign="Center" width="100%" />
                    </t:multiLabels>
                    <t:template>
                        <Text text="{listModel>prices/results/1/new_base_price_currency_code}" textAlign="Center" width="100%" />
                    </t:template>
                </t:Column>
                <t:Column hAlign="Center" width="12rem">
                    <t:multiLabels>
                        <!-- <Label text="{I18N>/BASE_PRICE_TYPE}" textAlign="Center" /> -->
                        <Label text="Base Price Type" textAlign="Center" />
                    </t:multiLabels>
                    <t:template>
                        <Text text="{listModel>supplier_name}" />
                    </t:template>
                </t:Column>
                <t:Column headerSpan="4" width="6rem">
                    <t:multiLabels>
                        <!-- <Label text="{I18N>/FAMILY_MATERIAL_CODE}" textAlign="Center" /> -->
                        <Label text="Family Material Code" textAlign="Center" width="100%" />
                        <!-- <Label text="{I18N>/BUSINESS_DIVISION}" textAlign="Center" width="100%" /> -->
                        <Label text="Pur Org" textAlign="Center" width="100%" />
                    </t:multiLabels>
                    <t:template>
                        <Text text="{listModel>div}" textAlign="Center" width="100%" />
                    </t:template>
                    </t:Column>
                <t:Column hAlign="Center" width="12rem">
                    <t:multiLabels>
                        <Label text="{I18N>/FAMILY_MATERIAL_CODE}"/>
                        <!-- <Label text="{I18N>/MATERIAL_CODE}" />  -->
                        <Label text="Material Code" /> 
                    </t:multiLabels>
                    <t:template>
                        <Text text="{listModel>part_no}" />
                    </t:template>
                    </t:Column>
                <t:Column hAlign="Center" width="8rem">
                    <t:multiLabels>
                        <Label text="{I18N>/FAMILY_MATERIAL_CODE}"/>
                        <!-- <Label text="{I18N>/SUPPLIER_CODE}" /> -->
                        <Label text="Supplier Code" />
                    </t:multiLabels>
                    <t:template>
                        <Text text="{listModel>supplier_code}" />
                    </t:template>
                </t:Column>
                <t:Column width="12rem">
                    <t:multiLabels>
                        <Label text="{I18N>/FAMILY_MATERIAL_CODE}" textAlign="Center" width="100%" />
                        <!-- <Label text="{I18N>/SUPPLIER_NAME}" textAlign="Center" width="100%" /> -->
                        <Label text="Supplier Name" textAlign="Center" width="100%" />
                    </t:multiLabels>
                    <t:template>
                        <Text text="{listModel>supplier_name}" />
                    </t:template>
                </t:Column>
                <t:Column hAlign="Center"  width="7rem">
                    <!-- <Label text="{I18N>/REQUEST_DATE}" /> -->
                    <Label text="Request Date" />
                    <t:template>
                        <Text text="{
                                path: 'listModel>local_create_dtm',
                                formatter: '.dateFormatter.toDateString'}" />
                    </t:template>
                </t:Column>
                <t:Column hAlign="Center"  width="8rem">
                    <!-- <Label text="{I18N>/REQUESTED_BY}" /> -->
                    <Label text="Requested By" />
                    <t:template>
                        <Text text="{listModel>create_user_id}" />
                    </t:template>
                </t:Column>
                <!-- <t:Column hAlign="Center"  width="2rem">
                    <Label text="{I18N>/HQ_NPD_BASE_PRICE}" />
                    <Label text="" />
                    <t:template>
                        <Link text=">" press=".onGoDetail" />
                    </t:template>
                </t:Column> -->
            </t:columns>
            <!-- <t:footer>
                <OverflowToolbar>
                    <ToolbarSpacer />
                    <Button text="Create" press=".onGoDetail" />
                </OverflowToolbar>
            </t:footer> -->
        </t:Table>
        <!--Base Price List 끝-->
      </f:content>
    </f:DynamicPage>
</mvc:View>
