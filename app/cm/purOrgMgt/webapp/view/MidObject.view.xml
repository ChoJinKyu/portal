<mvc:View controllerName="cm.purOrgMgt.controller.MidObject" 
	xmlns:mvc="sap.ui.core.mvc" 
	xmlns="sap.m" 
	xmlns:uxap="sap.uxap" 
	xmlns:layout="sap.ui.layout" 
    xmlns:form="sap.ui.layout.form"
	xmlns:core="sap.ui.core"
	height="100%">
	<uxap:ObjectPageLayout id="page"
		toggleHeaderOnTitleClick="true"
		alwaysShowContentHeader = "true"
		preserveHeaderStateOnScroll="false"
		headerContentPinnable="true"
		isChildPage="true"
		upperCaseAnchorBar="false"
		showTitleInHeaderContent="true"
		showEditHeaderButton="true" 
		showFooter="true">
		<uxap:headerTitle>
			<!-- 타이틀 영역 -->
			<uxap:ObjectPageDynamicHeaderTitle>
				<uxap:expandedHeading>
					<Title text="구매 관리 상세" wrapping="true" />
				</uxap:expandedHeading>
				<uxap:snappedHeading>
					<Title text="구매 관리 상세" wrapping="true" />
				</uxap:snappedHeading>
				<uxap:expandedContent>
					<!-- <Text text="Details for Menu" /> -->
				</uxap:expandedContent>
				<uxap:snappedContent>
					<!-- <Text text="Details for Menu" /> -->
				</uxap:snappedContent>
				<uxap:snappedTitleOnMobile>
					<!-- <Title text="Menu Details" /> -->
				</uxap:snappedTitleOnMobile>
				<uxap:actions>
					<!-- <Button id="pageEditButton" text="Edit" type="Emphasized" press=".onPageEdit" enabled="{= ${midObjectView>/mode} === 'R'}"/>
					<Button id="pageDeleteButton" text="Delete" type="Transparent" press=".onPageDelete" enabled="{= ${midObjectView>/mode} !== 'C'}"/> -->
				</uxap:actions>
                <uxap:navigationActions>
                    <OverflowToolbarButton id="pageEnterFullScreenButton" type="Transparent" icon="sap-icon://full-screen" press=".onFull" tooltip="Enter Full Screen Mode" visible="{= ${midObjectView>/screen} !== 'Full' }"/>
					<OverflowToolbarButton id="pageExitFullScreenButton" type="Transparent" icon="sap-icon://exit-full-screen" press=".onExit" tooltip="Exit Full Screen Mode" visible="{= ${midObjectView>/screen} === 'Full' }"/>
					<OverflowToolbarButton id="pageNavBackButton" type="Transparent" icon="sap-icon://decline" text="back" tooltip="back to the list" press=".onNavBack" visible="{= ${/actionButtonsInfo/midColumn/closeColumn} !== null }"/>
                </uxap:navigationActions>
            </uxap:ObjectPageDynamicHeaderTitle>
		</uxap:headerTitle>

		<uxap:headerContent>
			<!-- 헤더 영역 : invisible -->
			<FlexBox wrap="Wrap" visible="false">
				<layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
					<layout:HorizontalLayout class="sapUiSmallMarginBeginEnd">
						<Label text="Chain: " />
						<Text text="{master>/chain_code}"/>
					</layout:HorizontalLayout>
				</layout:VerticalLayout>

				<layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
					<layout:HorizontalLayout class="sapUiSmallMarginBeginEnd">
						<Label text="Created: "/>
						<Text text="{master>/create_user_id} / {master>/system_create_dtm}"/>
					</layout:HorizontalLayout>
					<layout:HorizontalLayout class="sapUiSmallMarginBeginEnd">
						<Label text="Updated: "/>
						<Text text="{master>/update_user_id} / {master>/system_update_dtm}"/>
					</layout:HorizontalLayout>
				</layout:VerticalLayout>
			</FlexBox>
		</uxap:headerContent>

		<uxap:sections>
			<!-- Master 에 관한 정보 -->
			<uxap:ObjectPageSection id="pageSectionMain" titleUppercase="false" title="기본정보">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
                        <form:SimpleForm 
                        maxContainerCols="2"
                        editable="true"
                        layout="ResponsiveGridLayout"
                        adjustLabelSpan="false"
                        labelSpanL="4"
                        labelSpanM="4"
                        emptySpanL="0"
                        emptySpanM="0"
                        columnsL="2"
                        columnsM="2"
                    >
                    <form:content>

                            <VBox>
                                <Label text="테넌트" labelFor="searchTenantCombo" required="true"/>
                                <ComboBox
                                    width="100%"
                                    id="searchTenantCombo"
                                    selectionChange=".onSelectionChange($event, 'tenant_id')"
                                    enabled="{= ${midObjectView>/mode} === 'C'}"
                                    selectedKey="{master>/tenant_id}"
                                    items="{
                                        path: 'org>/Org_Tenant',
                                        filters: [
                                        ]
                                    }"
                                >
                                <items>
                                    <core:Item key="{org>tenant_id}" text="{org>tenant_id} : {org>tenant_name}" />
                                </items>
                                </ComboBox>
                                <layoutData>
                                    <layout:GridData
                                        span="XL2 L3 M4 S12" />
                                </layoutData>
                            </VBox>
                            <VBox>
                                <Label text = "회사" labelFor="searchCompanyCode" required="true"/> 
                                <ComboBox 
                                    width="100%"
                                    id="searchCompanyCode"
                                    selectionChange=".onSelectionChange($event, 'company_code')"
                                    enabled="{= ${midObjectView>/mode} === 'C'}"
                                    selectedKey="{master>/company_code}"
                                    items="{
                                        path: 'org>/Org_Company',
                                        filters: []
                                    }"
                                >
                                    <items>
                                        <core:Item key="{org>company_code}"  text="{org>company_code} : {org>company_name}"/>
                                    </items>
                                </ComboBox>
                                <layoutData>
                                    <layout:GridData
                                        span="XL2 L3 M4 S12" />
                                </layoutData>
                            </VBox>
                            <VBox>
                                <Label text="조직유형" labelFor="searchOrgTypeCombo" required="true"/>
                                <ComboBox
                                    width="100%"
                                    id="searchOrgTypeCombo"
                                    enabled="{= ${midObjectView>/mode} === 'C'}"
                                    selectionChange=".onSelectionChange($event, 'org_type_code')"
                                    selectedKey="{master>/org_type_code}"
                                    items="{
                                        path: 'util>/Code',
                                        filters: [
                                            {path: 'tenant_id', operator: 'EQ', value1: 'L2100'},
                                            {path: 'group_code', operator: 'EQ', value1: 'CM_ORG_TYPE_CODE'}
                                        ]
                                    }"
                                >
                                    <items>
                                        <core:Item key="{util>code}" text="{util>code}: {util>code_description}" />
                                    </items>
                                </ComboBox>
                                <layoutData>
                                    <layout:GridData
                                        span="XL2 L3 M4 S12" />
                                </layoutData>
                            </VBox>

                            <VBox>
                                <Label text="조직코드" labelFor="orgCodeInput" required="true"/>
                                <Input id="orgCodeInput" placeholder="Input Data" width="100%"
                                    value="{master>/org_code}"
                                    editable="{= ${midObjectView>/mode} === 'C'}"
                                />
                                <layoutData>
                                    <layout:GridData
                                        span="XL2 L3 M4 S12" />
                                </layoutData>
                            </VBox>

                            <VBox>
                                <Label text="조직명" labelFor="orgNameInput" required="true"/>
                                <Input id="orgNameInput" placeholder="Input Data" width="100%"
                                    value="{master>/org_name}"
                                    editable="{= ${midObjectView>/mode} !== 'R'}"
                                />
                                <layoutData>
                                    <layout:GridData
                                        span="XL2 L3 M4 S12" />
                                </layoutData>
                            </VBox>

                            <VBox>
                                <Label text="구매조직코드" labelFor="purchaseOrgCombo"/>
                                <ComboBox
                                    width="100%"
                                    id="purchaseOrgCombo"
                                    selectedKey="{master>/purchase_org_code}"
                                    selectionChange=".onSelectionChange($event, 'purchase_org_code')"
                                    enabled="{= ${midObjectView>/mode} !== 'R'}"
                                    items="{
                                        path: 'org>/Org_Purchasing',
                                        filters: []
                                    }"
                                >
                                    <items>
                                        <core:Item key="{org>purchase_org_code}" text="{org>purchase_org_code}: {org>purchase_org_name}"/>
                                    </items>
                                </ComboBox>
                                <layoutData>
                                    <layout:GridData
                                        span="XL2 L3 M4 S12" />
                                </layoutData>
                            </VBox>

                            <VBox>
                                <Label text="플랜트코드" labelFor="plantCodeCombo"/>
                                <ComboBox
                                    width="100%"
                                    id="plantCodeCombo"
                                    selectedKey="{master>/plant_code}"
                                    selectionChange=".onSelectionChange($event, 'plant_code')"
                                    enabled="{= ${midObjectView>/mode} !== 'R'}"
                                    items="{
                                        path: 'org>/Org_Plant',
                                        filters: []
                                    }"
                                >
                                    <items>
                                        <core:Item key="{org>plant_code}" text="{org>plant_code}: {org>plant_name}"/>
                                    </items>
                                </ComboBox>
                                <layoutData>
                                    <layout:GridData
                                        span="XL2 L3 M4 S12" />
                                </layoutData>
                            </VBox>
                            <!-- <VBox>
                                <Label text="관계사코드" labelFor="affiliateCodeCombo"/>
                                <ComboBox
                                    width="100%"
                                    id="affiliateCodeCombo"
                                    enabled="{= ${midObjectView>/mode} === 'C'}"
                                    items="{
                                        path: 'util>/Code',
                                        filters: [
                                            {path: 'tenant_id', operator: 'EQ', value1: 'L2100'},
                                            {path: 'group_code', operator: 'EQ', value1: 'CM_ORG_TYPE_CODE'}
                                        ]
                                    }"
                                >
                                    <items>
                                        <core:Item key="{util>code}" text="{util>code}: {util>code_description}" />
                                    </items>
                                </ComboBox>
                                <layoutData>
                                    <layout:GridData
                                        span="XL2 L3 M4 S12" />
                                </layoutData>
                            </VBox> -->
                        
                            <VBox>
                                <Label text="사업본부" labelFor="bizunitCodeCombo"/>
                                <ComboBox
                                    width="100%"
                                    id="bizunitCodeCombo"
                                    selectedKey="{master>/bizunit_code}"
                                    selectionChange=".onSelectionChange($event, 'bizunit_code')"
                                    enabled="{= ${midObjectView>/mode} !== 'R'}"
                                    items="{
                                        path: 'org>/Org_Unit',
                                        filters: []
                                    }"
                                >
                                    <items>
                                        <core:Item key="{org>bizunit_code}" text="{org>bizunit_code}: {org>bizunit_name}"/>
                                    </items>
                                </ComboBox>
                                <layoutData>
                                    <layout:GridData
                                        span="XL2 L3 M4 S12" />
                                </layoutData>
                            </VBox>

                            <VBox>
                                <Label text="사업부" labelFor="bizdivisionCodeCombo"/>
                                <ComboBox
                                    width="100%"
                                    id="bizdivisionCodeCombo"
                                    selectedKey="{master>/bizdivision_code}"
                                    selectionChange=".onSelectionChange($event, 'bizdivision_code')"
                                    enabled="{= ${midObjectView>/mode} !== 'R'}"
                                    items="{
                                        path: 'org>/Org_Division',
                                        filters: []
                                    }"
                                >
                                    <items>
                                        <core:Item key="{org>bizdivision_code}" text="{org>bizdivision_code}: {org>bizdivision_name}"/>
                                    </items>
                                </ComboBox>
                                <layoutData>
                                    <layout:GridData
                                        span="XL2 L3 M4 S12" />
                                </layoutData>
                            </VBox>
                            <VBox>
                                <Label text="HQ/AU" labelFor="hqAuCodeCombo"/>
                                <ComboBox
                                    width="100%"
                                    id="hqAuCodeCombo"
                                    selectedKey="{master>/hq_au_code}"
                                    selectionChange=".onSelectionChange($event, 'hq_au_code')"
                                    enabled="{= ${midObjectView>/mode} !== 'R'}"
                                    items="{
                                        path: 'org>/Org_Division',
                                        filters: []
                                    }"
                                >
                                    <items>
                                        <core:Item key="{org>bizdivision_code}" text="{org>bizdivision_code}: {org>bizdivision_name}" />
                                    </items>
                                </ComboBox>
                                <layoutData>
                                    <layout:GridData
                                        span="XL2 L3 M4 S12" />
                                </layoutData>
                            </VBox>

                            <VBox>
                                <Label text="사용여부" labelFor="searchUseFlag"></Label>
                                <SegmentedButton 
                                    id="searchUseFlag"
                                    enabled="{= ${midObjectView>/mode} !== 'R'}"
                                    selectedKey="{master>/use_flag}"
                                >
                                    <items>
                                        <SegmentedButtonItem text="Yes" width="3em" key="true"/>
                                        <SegmentedButtonItem text="No" width="3em" key="false"/>
                                    </items>
                                </SegmentedButton>
                                <layoutData>
                                    <layout:GridData
                                        span="XL2 L3 M4 S12" />
                                </layoutData>
                            </VBox>

                            </form:content>
                        </form:SimpleForm>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>

			<!-- 생성 및 수정에 관한 정보 탭 (기 생성 데이타에 대하여 중간에 추가되고 탭 클릭시 이동도 한다.) -->
			<uxap:ObjectPageSection titleUppercase="false" title="Managed Values" visible="{= ${midObjectView>/mode} !== 'C'}">
				<uxap:subSections>
					<uxap:ObjectPageSubSection>
						<form:SimpleForm editable="false">
							<Label text="Created by"/>
							<Text text="{master>/create_user_id}"/>
							<Label text="Created At"/>
							<Text text="{
									path: 'master>/system_create_dtm',
									formatter: '.dateFormatter.toUTCDateTimeString'
								}"/>
							<Label text="Updated by"/>
							<Text text="{master>/update_user_id}"/>
							<Label text="Updated At"/>
							<Text text="{
									path: 'master>/system_update_dtm',
									formatter: '.dateFormatter.toUTCDateTimeString'
								}"/>
						</form:SimpleForm>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>
		</uxap:sections>

		<!-- 하단 버튼 처리 툴바 -->
		<uxap:footer>
			<OverflowToolbar>
                <Button
                    icon="sap-icon://alert"
                    type="Emphasized"
                    text="{= ${message>/}.length }"
                    visible="{= ${message>/}.length > 0 }"
                    ariaHasPopup="Dialog"
                    press=".onMessagePopoverPress"
                />
				<ToolbarSpacer />
                <Button id="pageEditButton" text="Edit" type="Emphasized" press=".onPageEdit" enabled="{= ${midObjectView>/mode} === 'R'}"/>
                <Button type="Transparent" text="Cancel" press=".onCancel"/>
				<Button id="pageDeleteButton" text="Delete" type="Transparent" press=".onPageDelete" enabled="{= ${midObjectView>/mode} !== 'C'}"/>
				<Button type="Emphasized" text="Save" press=".onSave" enabled="{= ${midObjectView>/mode} !== 'R'}"/>
			</OverflowToolbar>
		</uxap:footer>
	</uxap:ObjectPageLayout>
</mvc:View>