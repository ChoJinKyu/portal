<mvc:View
    class="sapUiSizeCompact"
    controllerName="cm.purOrgMgt.controller.purOrgMgt"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:layout="sap.ui.layout"
    xmlns:table="sap.ui.table"
    xmlns:form="sap.ui.layout.form"
    displayBlock="true">

    <App id="app">
        <f:DynamicPage id="purOrgMgtPage" toggleHeaderOnTitleClick="true" headerExpanded="true">
            <f:title>
                <f:DynamicPageTitle>
                    <f:heading>
                        <Title text="구매 관리"/>
                    </f:heading>
                </f:DynamicPageTitle>
            </f:title>
            <f:header>
                <f:DynamicPageHeader pinnable="true">
                    <layout:HorizontalLayout>
                        <form:Form editable="true" width="100%">
                            <form:formContainers>
                                <form:FormContainer>
                                    <form:formElements>
                                        <form:FormElement>
                                            <form:fields>
                                                <VBox>
                                                    <Label text="테넌트" labelFor="searchTenantCombo" required="true"></Label>
                                                    <ComboBox
                                                        id="searchTenantCombo"
                                                        width="100%"
                                                        items="{
                                                            path: 'org>/Org_Tenant',
                                                            filters: [
                                                            ]
                                                        }"
                                                    >
                                                    <items>
                                                        <core:Item key="{org>tenant_id}" text="{org>tenant_id} : {org>tenant_name}" />
                                                    </items>
                                                    </ComboBox>
                                                </VBox>
                                                <VBox>
                                                    <Label text = "회사" labelFor="searchCompanyCode"/> 
                                                    <ComboBox 
                                                        id="searchCompanyCode"  
                                                        items="{
                                                            path: 'org>/Org_Company',
                                                            filters: [
                                                            ]
                                                        }"
                                                    >
                                                        <items>
                                                            <core:Item key="{org>company_code}"  text="{org>company_code} : {org>company_name}"/>
                                                        </items>
                                                    </ComboBox>

                                                </VBox>
                                                <VBox>
                                                    <Label text="조직유형" labelFor="searchOrgTypeCombo" required="false"></Label>
                                                    <ComboBox
                                                    id="searchOrgTypeCombo"
                                                    width="100%"
                                                    items="{
                                                        path: 'util>/CodeDetails',
                                                        filters: [
                                                            {path: 'tenant_id', operator: 'EQ', value1: 'L2100'},
                                                            {path: 'group_code', operator: 'EQ', value1: 'CM_ORG_TYPE_CODE'}
                                                        ]
                                                    }">
                                                    <items>
                                                        <core:Item key="{util>code}" text="{util>code}: {util>code_description}" />
                                                    </items>
                                                    </ComboBox>
                                                </VBox>
                                                <VBox>
                                                    <Label text="사용여부" labelFor="searchUseFlag"></Label>
                                                    <SegmentedButton 
                                                        id="searchUseFlag"
                                                        selectedKey="" 
                                                        width="100%">
                                                        <items>
                                                            <SegmentedButtonItem text="All" width="3em"/>
                                                            <SegmentedButtonItem text="Yes" width="3em" key="true"/>
                                                            <SegmentedButtonItem text="No" width="3em" key="false"/>
                                                        </items>
                                                    </SegmentedButton>
                                                </VBox>
                                            </form:fields>
                                        </form:FormElement>
                                    </form:formElements>
                                </form:FormContainer>
                            </form:formContainers>
                            <form:layout>
                            <form:ResponsiveGridLayout columnsM="4" columnsL="4" columnsXL="4"/>
                            </form:layout>
                        </form:Form>
                    </layout:HorizontalLayout>
                    <HBox width="100%" alignItems="Center" alignContent="End" justifyContent="End">
                        <items>
                            <Button text="검색" press="onSearch"/>
                        </items>
                    </HBox>
                </f:DynamicPageHeader>
            </f:header>
            <f:content>
                <VBox>        
                    <Table 
                        id="orgTypeMappingTable"
                        items="{
                            path: '/Pur_Org_Type_Mapping' 
                        }"
                        mode="MultiSelect"
                        updateFinished="onMstUpdateFinished"
                    >
                        <headerToolbar>
                            <OverflowToolbar>
                                <Title text="구매 관리 ({= ${list>/}.length || 0})" level="H2"/>
                                <ToolbarSpacer/>
                                <Button id="mainTableAddButton" text="Add" type="Transparent" press=".onMainTableAddButtonPress" />
                                <ToolbarSeparator/>
                                <Button icon="sap-icon://action-settings" press=".onMainTablePersoButtonPressed" >
                                    <layoutData>
                                        <OverflowToolbarLayoutData priority="NeverOverflow" />
                                    </layoutData>
                                </Button>
                            </OverflowToolbar>
                        </headerToolbar>
                        <columns>
                            <Column hAlign="Center" width="100px">
                                <header>
                                    <Label text="테넌트"/>
                                </header>
                            </Column>
                            <Column hAlign="Center" width="100px">
                                <header>
                                    <Label text="회사"/>
                                </header>
                            </Column>
                            <Column hAlign="Center" width="100px">
                                <header>
                                    <Label text="조직유형"/>
                                </header>
                            </Column>

                            <Column hAlign="Center" width="100px">
                                <header>
                                    <Label text="조직코드"/>
                                </header>
                            </Column>
                            <Column hAlign="Center" width="100px">
                                <header>
                                    <Label text="조직명"/>
                                </header>
                            </Column>
                            <Column hAlign="Center" width="100px">
                                <header>
                                    <Label text="구매조직코드"/>
                                </header>
                            </Column>
                            <Column hAlign="Center" width="100px">
                                <header>
                                    <Label text="플랜트코드"/>
                                </header>
                            </Column>
                            <Column hAlign="Center" width="100px">
                                <header>
                                    <Label text="관계사코드"/>
                                </header>
                            </Column>
                            <Column hAlign="Center" width="100px">
                                <header>
                                    <Label text="사업본부코드"/>
                                </header>
                            </Column>
                            <Column hAlign="Center" width="100px">
                                <header>
                                    <Label text="사업부코드"/>
                                </header>
                            </Column>
                            <Column hAlign="Center" width="100px">
                                <header>
                                    <Label text="HQ/AU"/>
                                </header>
                            </Column>
                        </columns>
                        <items>
                            <ColumnListItem type="Active" id="codeMstColumnListItem" press="onMstTableItemPress">
                                <cells>
                                    <Text text="{tenant_id}"/>
                                    <Text text="{company_code}"/>
                                    <Text text="{org_type_code}"/>

                                    <Text text="{org_type_code}"/>
                                    <Text text="{org_type_code}"/>
                                    <Text text="{org_type_code}"/>
                                    <Text text="{org_type_code}"/>
                                    <Text text="{org_type_code}"/>
                                    <Text text="{org_type_code}"/>
                                    <Text text="{org_type_code}"/>
                                    <Text text="{org_type_code}"/>
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
                </VBox>
            </f:content>
        </f:DynamicPage>
    </App>
</mvc:View>