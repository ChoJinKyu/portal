<mvc:View   
    controllerName="cm.codeMgt.controller.DetailDetail" 
    displayBlock="true" 
    xmlns="sap.uxap"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core" 
    xmlns:f="sap.f"
    xmlns:form="sap.ui.layout.form"
    xmlns:layout="sap.ui.layout"
    xmlns:tnt="sap.tnt"
    xmlns:co="sap.suite.ui.commons"
    xmlns:u="sap.ui.unified"
    xmlns:m="sap.m">

	<ObjectPageLayout
        id="objectPageLayout"
        showFooter="true"
        toggleHeaderOnTitleClick="true"
        showTitleInHeaderContent = "true"
        alwaysShowContentHeader = "true"
        preserveHeaderStateOnScroll="false"
        headerContentPinnable="true"
        isChildPage="true"
        showAnchorBarPopover="false"
        upperCaseAnchorBar="false">
        <headerTitle>
            <ObjectPageDynamicHeaderTitle>
                <heading>
                    <m:HBox alignItems="Center">
                        <m:OverflowToolbarButton type="Transparent" icon="sap-icon://nav-back" press="handleClose"  tooltip="Close column"/>
                        <m:Title text="Code Detail" wrapping="true" class="sapUiSmallMarginEnd" />
                    </m:HBox>
                </heading>

                <navigationActions>
                    <m:OverflowToolbarButton type="Transparent" icon="sap-icon://full-screen" press="handleFullScreen" tooltip="Enter Full Screen Mode" visible="{contModel>/detailDetail/visibleFullScreenBtn}"/>
                    <m:OverflowToolbarButton type="Transparent" icon="sap-icon://exit-full-screen" press="handleExitFullScreen" tooltip="Exit Full Screen Mode" visible="{= !${contModel>/detailDetail/visibleFullScreenBtn}}"/>
                </navigationActions>

            </ObjectPageDynamicHeaderTitle>
        </headerTitle>

		<sections>
			<ObjectPageSection titleUppercase="false" id="genral_info_section" title="{I18N>/BASIC_INFO}">
				<subSections>
					<ObjectPageSubSection>
						<blocks>
                            <form:SimpleForm
                                maxContainerCols="2"
                                editable="true"
                                layout="ResponsiveGridLayout"
                                adjustLabelSpan="false"
                                labelSpanL="4"
                                labelSpanM="4"
                                emptySpanL="0"
                                emptySpanM="0"
                                columnsL="2"
                                columnsM="2">
                                <form:content>
                                    <m:VBox>
                                        <m:Label
                                            text="{I18N>/CODE}: "
                                            labelFor="code"/>
                                        <m:Text
                                            text="{viewModel>/detailDetail/code}"
                                            visible="{= !${contModel>/detailDetail/createMode}}">
                                        </m:Text>
                                        <m:Input
                                            id="code"
                                            required="{contModel>/detailDetail/createMode}"
                                            placeholder="필수"
                                            value="{viewModel>/detailDetail/code}"
                                            maxLength="{= parseInt(${/#CodeDetails/code/@maxLength})}"
                                            visible="{contModel>/detailDetail/createMode}"
                                            fieldGroupIds="requiredField">
                                        </m:Input>
                                        <m:layoutData>
                                            <layout:GridData
                                                span="XL2 L3 M6 S12" />
                                        </m:layoutData>
                                    </m:VBox>
                                    <m:VBox>
                                        <m:Label
                                            text="{I18N>/DESCRIPTION}: "
                                            labelFor="code_description"/>
                                        <m:Text
                                            text="{viewModel>/detailDetail/code_description}"
                                            visible="{contModel>/detailDetail/readMode}">
                                        </m:Text>
                                        <m:Input
                                            id="code_description"
                                            value="{viewModel>/detailDetail/code_description}"
                                            maxLength="{= parseInt(${/#CodeDetails/code_description/@maxLength})}"
                                            visible="{contModel>/detailDetail/editMode}">
                                        </m:Input>
                                        <m:layoutData>
                                            <layout:GridData
                                                span="XL2 L3 M6 S12" />
                                        </m:layoutData>
                                    </m:VBox>
                                    <m:VBox>
                                        <m:Label
                                            text="시작 / 종료일자: "
                                            design="Bold"
                                            class="sapUiTinyMarginEnd"
                                            textAlign="Left"/>
                                        <m:HBox>
                                            <m:Text
                                                visible="{contModel>/detailDetail/readMode}"
                                                text="{
                                                    path: 'viewModel>/detailDetail/start_date',
                                                    type: 'sap.ui.model.type.Date',
                                                    formatOptions: {
                                                    pattern: 'yyyy/MM/dd'
                                                    }
                                                }"/>
                                            <m:DatePicker
                                                visible="{contModel>/detailDetail/editMode}"
                                                value="{
                                                    path:'viewModel>/detailDetail/start_date',
                                                    type:'sap.ui.model.odata.type.DateTime',
                                                    formatOptions: {
                                                        pattern: 'yyyy-MM-dd'
                                                    }
                                                }"/>
                                            <m:Text text="~" class="sapUiTinyMarginBegin sapUiTinyMarginEnd"/>
                                            <m:Text
                                                visible="{contModel>/detailDetail/readMode}"
                                                text="{
                                                    path: 'viewModel>/detailDetail/end_date',
                                                    type: 'sap.ui.model.type.Date',
                                                    formatOptions: {
                                                    pattern: 'yyyy/MM/dd'
                                                    }
                                                }"/>
                                            <m:DatePicker
                                                value="{
                                                    path:'viewModel>/detailDetail/end_date',
                                                    type:'sap.ui.model.odata.type.DateTime',
                                                    formatOptions: {
                                                        pattern: 'yyyy-MM-dd'
                                                    }
                                                }"
                                                visible="{contModel>/detailDetail/editMode}"/>
                                        </m:HBox>
                                        <m:layoutData>
                                            <layout:GridData
                                                span="XL2 L3 M6 S12" />
                                        </m:layoutData>
                                    </m:VBox>
                                    <m:VBox>
                                        <m:Label
                                            text="정렬번호: "
                                            labelFor="sort_no"/>
                                        <m:Text
                                            visible="{contModel>/detailDetail/readMode}"
                                            text="{viewModel>/detailDetail/sort_no}">
                                        </m:Text>
                                        <m:Input
                                            type="Number"
                                            id="sort_no"
                                            visible="{contModel>/detailDetail/editMode}"
                                            value="{
                                                path:'viewModel>/detailDetail/sort_no',
                                                type: 'sap.ui.model.type.Integer'
                                            }">
                                        </m:Input>
                                        <m:layoutData>
                                            <layout:GridData
                                                span="XL2 L3 M6 S12" />
                                        </m:layoutData>
                                    </m:VBox>
                                    <m:VBox>
                                        <m:Label
                                            text="상위그룹코드: "
                                            labelFor="parent_group_code"/>
                                        <m:Text
                                            text="{viewModel>/detailDetail/parent_group_code}"
                                            visible="{contModel>/detailDetail/readMode}">
                                        </m:Text>
                                        <m:Input
                                            id="parent_group_code"
                                            value="{viewModel>/detailDetail/parent_group_code}"
                                            maxLength="{= parseInt(${/#CodeDetails/parent_group_code/@maxLength})}"
                                            visible="{contModel>/detailDetail/editMode}">
                                        </m:Input>
                                        <m:layoutData>
                                            <layout:GridData
                                                span="XL2 L3 M6 S12" />
                                        </m:layoutData>
                                    </m:VBox>
                                    <m:VBox>
                                        <m:Label
                                            text="상위코드: "
                                            labelFor="parent_code"/>
                                        <m:Text
                                            text="{viewModel>/detailDetail/parent_code}"
                                            visible="{contModel>/detailDetail/readMode}">
                                        </m:Text>
                                        <m:Input
                                            id="parent_code"
                                            value="{viewModel>/detailDetail/parent_code}"
                                            maxLength="{= parseInt(${/#CodeDetails/parent_code/@maxLength})}"
                                            visible="{contModel>/detailDetail/editMode}">
                                        </m:Input>
                                        <m:layoutData>
                                            <layout:GridData
                                                span="XL2 L3 M6 S12" />
                                        </m:layoutData>
                                    </m:VBox>
                                    <m:VBox>
                                        <m:Label
                                            text="{I18N>/REMARK}: "
                                            labelFor="remark"/>
                                        <m:Text
                                            text="{viewModel>/detailDetail/remark}"
                                            visible="{contModel>/detailDetail/readMode}">
                                        </m:Text>
                                        <m:Input
                                            id="remark"
                                            value="{viewModel>/detailDetail/remark}"
                                            maxLength="{= parseInt(${/#CodeDetails/remark/@maxLength})}"
                                            visible="{contModel>/detailDetail/editMode}">
                                        </m:Input>
                                        <m:layoutData>
                                            <layout:GridData
                                                span="XL6 L6 M12 S12" />
                                        </m:layoutData>
                                    </m:VBox>
                                </form:content>
                            </form:SimpleForm>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>

			<ObjectPageSection 
                titleUppercase="false" 
                title="{I18N>/MULTILINGUAL} ({= (${languages>/CodeLanguages})?${languages>/CodeLanguages}.length:0})">
				<subSections>
					<ObjectPageSubSection>
						<blocks>
                            <m:Table id=""
                                    mode="{= ${contModel>/detailDetail/readMode}?'None':'MultiSelect'}"
                                    sticky="HeaderToolbar,ColumnHeaders"
                                    inset="false"
                                    class="sapFDynamicPageAlignContent"
                                    width="auto"
                                    items="{
                                        path: 'languages>/CodeLanguages'
                                }">
                                <m:headerToolbar>
                                    <m:Toolbar visible="{contModel>/detailDetail/editMode}">
                                        <m:ToolbarSpacer/>
                                        <m:HBox >
                                            <m:Button 
                                                type="Transparent" 
                                                text="{I18N>/ROW_ADD}"
                                                press=".onAddLangPress"/>
                                            <m:Button 
                                                type="Transparent" 
                                                text="{I18N>/ROW_DELETE}"
                                                press=".onDelLangPress"/>
                                        </m:HBox>
                                    </m:Toolbar>
                                </m:headerToolbar>
                                <m:columns>
                                    <m:Column 
                                        visible="{contModel>/detailDetail/editMode}"
                                        width="4em">
                                        <m:Text text="{I18N>/STATUS}"/>
                                    </m:Column>
                                    <m:Column>
                                        <m:Text text="{I18N>/LANGUAGE}" />
                                    </m:Column>
                                    <m:Column>
                                        <m:Text text="{I18N>/LANGUAGE_CODE}" />
                                    </m:Column>
                                </m:columns>
                                <m:items>
                                    <m:ColumnListItem>
                                        <m:cells>
                                            <m:Text text="{languages>_row_state_}"/>
                                            <m:HBox>
                                                <m:Text
                                                    visible="{contModel>/detailDetail/readMode}"
                                                    text="{languages>language_name}" />
                                                <m:ComboBox
                                                    visible="{contModel>/detailDetail/editMode}"
                                                    showSecondaryValues= "true"
                                                    width="100%" 
                                                    selectedKey="{languages>language_cd}"
                                                    items="{viewModel>/languageList}">
                                                    <m:items>
                                                        <core:ListItem 
                                                            key="{viewModel>code}" 
                                                            text="{viewModel>code_name}" 
                                                            additionalText="{viewModel>code}"/>
                                                    </m:items>
                                                </m:ComboBox>
                                            </m:HBox>
                                            <m:HBox
                                                direction="Column">
                                                <m:Text
                                                    visible="{contModel>/detailDetail/readMode}"
                                                    text="{languages>code_name}" 
                                                    tooltip="{languages>code_name}"/>
                                                <m:Input
                                                    visible="{contModel>/detailDetail/editMode}"
                                                    maxLength="{= parseInt(${/#CodeLanguages/code_name/@maxLength})}"
                                                    value="{languages>code_name}"
                                                    tooltip="{languages>code_name}" />
                                            </m:HBox>
                                        </m:cells>
                                    </m:ColumnListItem>
                                </m:items>
                            </m:Table>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>

            <ObjectPageSection 
                visible="{= !${contModel>/detailDetail/createMode}}"
                titleUppercase="false" 
                id="managed_values_section" 
                title="Managed Values">
				<subSections>
					<ObjectPageSubSection>
						<blocks>
                            <form:SimpleForm
                                maxContainerCols="2"
                                editable="true"
                                layout="ResponsiveGridLayout"
                                adjustLabelSpan="false"
                                labelSpanL="4"
                                labelSpanM="4"
                                emptySpanL="0"
                                emptySpanM="0"
                                columnsL="2"
                                columnsM="2">
                                <form:content>
                                    <m:VBox>
                                        <m:Label
                                            text="Created by: "/>
                                        <m:Text
                                            text="{viewModel>/detailDetail/create_user_id}"/>
                                        <m:layoutData>
                                            <layout:GridData
                                                span="XL2 L3 M6 S12" />
                                        </m:layoutData>
                                    </m:VBox>
                                    <m:VBox>
                                        <m:Label
                                            text="Created At: "/>
                                        <m:Text
                                            text="{
                                                    path: 'viewModel>/detailDetail/local_create_dtm',
                                                    type: 'sap.ui.model.type.Date',
                                                    formatOptions: {
                                                    pattern: 'yyyy/MM/dd'
                                                    }
                                                }"/>
                                        <m:layoutData>
                                            <layout:GridData
                                                span="XL2 L3 M6 S12" />
                                        </m:layoutData>
                                    </m:VBox>
                                    <m:VBox>
                                        <m:Label
                                            text="Updated by: "/>
                                        <m:Text
                                            text="{viewModel>/detailDetail/update_user_id}"/>
                                        <m:layoutData>
                                            <layout:GridData
                                                span="XL2 L3 M6 S12" />
                                        </m:layoutData>
                                    </m:VBox>
                                    <m:VBox>
                                        <m:Label
                                            text="Updated At: "/>
                                        <m:Text
                                            text="{
                                                    path: 'viewModel>/detailDetail/local_update_dtm',
                                                    type: 'sap.ui.model.type.Date',
                                                    formatOptions: {
                                                    pattern: 'yyyy/MM/dd'
                                                    }
                                                }"/>
                                        <m:layoutData>
                                            <layout:GridData
                                                span="XL2 L3 M6 S12" />
                                        </m:layoutData>
                                    </m:VBox>
                                </form:content>
                            </form:SimpleForm>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>

		</sections>
		<footer>
			<m:OverflowToolbar>
                <m:ToolbarSpacer />
                <m:HBox visible="{contModel>/detailDetail/createMode}">
                    <m:Button type="Emphasized" text="{I18N>/SAVE}"  press=".onSavePress"/>
                </m:HBox>
                <m:HBox visible="{contModel>/detailDetail/readMode}">
                    <m:Button type="Transparent" text="{I18N>/UPDATE}" press=".onEditPress"/>
                    <m:Button type="Transparent" text="{I18N>/CANCEL}" press=".onCancelPress" enabled="false"/>
                    <m:Button type="Transparent" text="{I18N>/DELETE}"  press=".onDeletePress"/>
                    <m:Button type="Emphasized" text="{I18N>/SAVE}"  press=".onSavePress" enabled="false"/>
                </m:HBox>
                <m:HBox visible="{= !${contModel>/detailDetail/createMode} &amp;&amp; ${contModel>/detailDetail/editMode}}">
                    <m:Button type="Transparent" text="{I18N>/UPDATE}" press=".onEditPress" enabled="false"/>
                    <m:Button type="Transparent" text="{I18N>/CANCEL}" press=".onCancelPress"/>
                    <m:Button type="Transparent" text="{I18N>/DELETE}"  press=".onDeletePress"/>
                    <m:Button type="Emphasized" text="{I18N>/SAVE}"  press=".onSavePress"/>
                </m:HBox>
			</m:OverflowToolbar>
		</footer>
	</ObjectPageLayout>
</mvc:View>


