<mvc:View
    controllerName="cm.orgCodeMgr.controller.Master"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:tnt="sap.tnt"
    xmlns:form="sap.ui.layout.form"
    xmlns:layout="sap.ui.layout"
    height="100%">
    <f:DynamicPage id="dynamicPageId1" headerExpanded="true" toggleHeaderOnTitleClick="{/titleClickable}">
        <!-- DynamicPage Title -->
        <f:title>
            <f:DynamicPageTitle>
                <f:heading>
                    <Title text="Code Management In Organization" />
                </f:heading>
                <f:snappedContent>
                </f:snappedContent>
                <f:expandedContent>
                </f:expandedContent>
                <f:actions>
                    <Button id="pageSearchButton" text="{I18N>/SEARCH}" type="Emphasized" press=".onSearch" />
                </f:actions>
                <f:navigationActions>
                    <Button icon="sap-icon://unfavorite" type="Transparent" />
                </f:navigationActions>
            </f:DynamicPageTitle>
        </f:title>
        <f:header>
            <f:DynamicPageHeader pinnable="true">
                <form:SimpleForm
                    maxContainerCols="2"
                    editable="true"
                    layout="ResponsiveGridLayout"
                    adjustLabelSpan="false"
                    labelSpanL="4"
                    labelSpanM="4"
                    emptySpanL="0"
                    emptySpanM="0"
                    columnsL="2"
                    columnsM="2">
                    <form:content>
                        <VBox>
                            <Label
                                text="{I18N>/TENANT}: "
                                labelFor="search_tenant">
                            </Label>
                            <ComboBox   
                                id="search_tenant"
                                showSecondaryValues= "true"
                                selectionChange=".onTenantChange"
                                selectedKey="{contModel>/tenant_id}"
                                items="{
                                    path : 'orgMgr>/Org_Tenant'
                                }"
                            >
                               <core:ListItem 
                                    key="{orgMgr>tenant_id}" 
                                    text="{orgMgr>tenant_name}"
                                    additionalText="{orgMgr>tenant_id}"/>
                            </ComboBox>
                            <layoutData>
                                <layout:GridData
                                    span="XL2 L3 M6 S12" />
                            </layoutData>
                        </VBox>
                        <VBox>
                            <Label text="{I18N>/CHAIN}: " labelFor="search_chain"></Label>
                            <ComboBox id="search_chain" showSecondaryValues= "true"/>
                            <layoutData><layout:GridData span="XL2 L3 M6 S12" /></layoutData> 
                        </VBox>
                        <VBox>
                            <Label text="{I18N>/ORGANIZATION} {I18N>/TYPE}: " labelFor="search_orgtype"></Label>
                            <ComboBox id="search_orgtype" showSecondaryValues= "true"/>
                            <layoutData><layout:GridData span="XL2 L3 M6 S12" /></layoutData>   
                        </VBox>
                        <VBox>
                            <Label
                                text="Code Group Use Flag: "
                                labelFor="search_codeGroupUseflag">
                            </Label>
                            <SegmentedButton 
                                id="search_useflag"
                                selectedKey="" 
                                width="100%">
                                <items>
                                    <SegmentedButtonItem text="All" width="3em"/>
                                    <SegmentedButtonItem text="Yes" width="3em" key="true"/>
                                    <SegmentedButtonItem text="No" width="3em" key="false"/>
                                </items>
                            </SegmentedButton>
                            <layoutData>
                                <layout:GridData
                                    span="XL2 L3 M6 S12" />
                            </layoutData>
                        </VBox>
                        <VBox>
                            <Label
                                text="{I18N>/KEYWORD}: "
                                labelFor="search_Keyword">
                            </Label>
                            <Input id="search_keyword" 
                                placeholder="Code Group or Code Group Name"/>
                            <layoutData>
                                <layout:GridData
                                    span="XL2 L3 M6 S12" />
                            </layoutData>
                        </VBox>
                    </form:content>
                </form:SimpleForm>
            </f:DynamicPageHeader>
        </f:header>
        <f:content>
            <Table id="codeMasterTable"
                items="{path: 'viewModel>/OrgCodeMasters'}"
                    sticky="HeaderToolbar,ColumnHeaders"
                    inset="false"
                    class="sapFDynamicPageAlignContent"
                    width="auto">
                <headerToolbar>
                    <Toolbar>
                        <Title text="Code Group ({= (${viewModel>/OrgCodeMasters})?${viewModel>/OrgCodeMasters}.length:0})" level="H2"/>
                        <ToolbarSpacer/>
                        <Button 
                            text="Add"
                            type="Transparent" 
                            press=".onCreatePress"/>
                    </Toolbar>
                </headerToolbar>
                <columns>
                    <Column
                        width="6em"
                        minScreenWidth="Tablet"
                        demandPopin="true">
                        <Text text="{I18N>/TENANT}" />
                    </Column>
                    <Column
                        width="7em"
                        minScreenWidth="Tablet"
                        demandPopin="true">
                        <Text text="{I18N>/CHAIN_CODE}" />
                    </Column>
                    <Column
                        width="7em"
                        minScreenWidth="Tablet"
                        demandPopin="true">
                        <Text text="{I18N>/ORGANIZATION} {I18N>/TYPE}" />
                    </Column>
                    <Column
                        width="18em">
                        <Text text="Code Group" />
                    </Column>
                    <Column
                        minScreenWidth="Tablet"
                        demandPopin="true">
                        <Text text="Code Group Name" />
                    </Column>
                    <Column
                        minScreenWidth="Tablet"
                        demandPopin="true">
                        <Text text="{I18N>/DESCRIPTION}" />
                    </Column>
                    <Column
                        width="5em"
                        minScreenWidth="Tablet"
                        demandPopin="true">
                        <Text text="Use Flag" />
                    </Column>
                </columns>
                <items>
                    <ColumnListItem type="Navigation" press="onListItemPress">
                        <cells>
                            <Text text="{viewModel>tenant_id}" />
                            <Text text="{viewModel>chain_code}" />
                            <Text text="{viewModel>code_conrol_org_type_code}" />
                            <Text text="{viewModel>group_code}" />
                            <Text text="{viewModel>group_name}" />
                            <Text text="{viewModel>group_description}" />
                            <HBox>
                                <tnt:InfoLabel 
                                    text="True" 
                                    visible="{viewModel>use_flag}"
                                    renderMode="Narrow" 
                                    colorScheme="7" 
                                    displayOnly= "true" />
                                <tnt:InfoLabel 
                                    text="False" 
                                    visible="{= !${viewModel>use_flag}}"
                                    renderMode="Narrow" 
                                    colorScheme="5" 
                                    displayOnly= "true" />
                            </HBox>
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </f:content>
        <!-- DynamicPage Footer -->
        <f:footer>
        </f:footer>
    </f:DynamicPage>
</mvc:View>