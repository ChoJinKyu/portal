<mvc:View
    controllerName="cm.userMgr.controller.Master"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:form="sap.ui.layout.form"
    xmlns:layout="sap.ui.layout"
    height="100%">
    <f:DynamicPage id="dynamicPageId1" headerExpanded="true" toggleHeaderOnTitleClick="{/titleClickable}">
        <!-- DynamicPage Title -->
        <f:title>
            <f:DynamicPageTitle>
                <f:heading>
                        <Title text="Code Management"/>
                </f:heading>
            </f:DynamicPageTitle>
        </f:title>
        <!-- DynamicPage Header -->
        <f:header>
            <f:DynamicPageHeader pinnable="true">
                <form:SimpleForm
                    id="form"
                    maxContainerCols="2"
                    editable="true"
                    layout="ResponsiveGridLayout"
                    adjustLabelSpan="false"
                    labelSpanL="4"
                    labelSpanM="4"
                    emptySpanL="0"
                    emptySpanM="0"
                    columnsL="2"
                    columnsM="2">
                    <form:content>
                        <VBox>
                            <Label
                                text="Tenant: "
                                labelFor="search_tenant">
                            </Label>
                            <Input id="search_tenant"/>
                            <layoutData>
                                <layout:GridData
                                    span="XL2 L3 M6 S12" />
                            </layoutData>
                        </VBox>
                        <VBox>
                            <Label
                                text="Chain : "
                                labelFor="search_chain">
                            </Label>
                            <ComboBox   
                                id="search_chain"
                                items="{
                                    path : 'util>/CodeDetails',
                                    filters : [
                                        {path : 'tenant_id', operator : 'EQ', value1 : 'L2100'},
                                        {path : 'group_code', operator : 'EQ', value1 : 'CM_CHAIN_CD'}                                                               
                                    ]
                                }"
                            >
                                <core:Item key="{util>code}" text="{util>code}: {util>code_description}" />
                            </ComboBox>
                            <layoutData>
                                <layout:GridData
                                    span="XL2 L3 M6 S12" />
                            </layoutData>
                        </VBox>
                        <VBox>
                            <Label
                                text="Code Group Useflag : "
                                labelFor="search_codeGroupUseflag">
                            </Label>
                            <SegmentedButton 
                                id="search_useflag"
                                selectedKey="" 
                                width="100%">
                                <items>
                                    <SegmentedButtonItem text="All" width="3em"/>
                                    <SegmentedButtonItem text="Yes" width="3em" key="true"/>
                                    <SegmentedButtonItem text="No" width="3em" key="false"/>
                                </items>
                            </SegmentedButton>
                            <layoutData>
                                <layout:GridData
                                    span="XL2 L3 M6 S12" />
                            </layoutData>
                        </VBox>
                        <VBox>
                            <Label
                                text="Keyword : "
                                labelFor="search_Keyword">
                            </Label>
                            <Input id="search_keyword" 
                                placeholder="Code Group or Code Group Name"/>
                            <layoutData>
                                <layout:GridData
                                    span="XL2 L3 M6 S12" />
                            </layoutData>
                        </VBox>
                        <FlexBox
                            alignItems="Start"
                            justifyContent="End">
                            <Button 
                                id="btn_search"
                                text="Search"
                                type="Emphasized"
                                press=".onSearch"/>
                            <layoutData>
                                <layout:GridData
                                    span="XL4 L12 M12 S12" />
                            </layoutData>
                        </FlexBox>
                    </form:content>
                </form:SimpleForm>
            </f:DynamicPageHeader>
        </f:header>
        <f:content>
            <Table id="userMasterTable"
                items="{path: 'viewModel>/UserMasters'}"
                    sticky="HeaderToolbar,ColumnHeaders"
                    inset="false"
                    class="sapFDynamicPageAlignContent"
                    width="auto">
                <headerToolbar>
                    <Toolbar>
                        <Title text="Code Group ({= (${viewModel>/CodeMasters})?${viewModel>/CodeMasters}.length:0})" level="H2"/>
                        <ToolbarSpacer/>
                        <Button 
                            text="Add"
                            type="Transparent" 
                            press=".onCreatePress"/>
                    </Toolbar>
                </headerToolbar>
                <columns>
                    <Column
                        width="7em"
                        minScreenWidth="Tablet"
                        demandPopin="true">
                        <Text text="Tenant ID" />
                    </Column>
                    <Column
                        width="7em"
                        minScreenWidth="Tablet"
                        demandPopin="true">
                        <Text text="Chain Code" />
                    </Column>
                    <Column
                            width="20em">
                        <Text text="Code Group" />
                    </Column>
                    <Column
                            minScreenWidth="Tablet"
                            demandPopin="true">
                        <Text text="Code Group Name" />
                    </Column>
                    <Column
                        width="20em"
                        minScreenWidth="Tablet"
                        demandPopin="true">
                        <Text text="Description" />
                    </Column>
                    <Column
                        width="5em"
                        minScreenWidth="Tablet"
                        demandPopin="true">
                        <Text text="Useflag" />
                    </Column>
                </columns>
                <items>
                    <ColumnListItem type="Navigation" press="onListItemPress">
                        <cells>
                            <Text text="{viewModel>tenant_id}" />
                            <Text text="{viewModel>chain_code}" />
                            <Text text="{viewModel>group_code}" />
                            <Text text="{viewModel>group_name}" />
                            <Text text="{viewModel>group_description}" />
                            <Text text="{viewModel>use_flag}" />
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </f:content>
        <!-- DynamicPage Footer -->
        <f:footer>
        </f:footer>
    </f:DynamicPage>
</mvc:View>