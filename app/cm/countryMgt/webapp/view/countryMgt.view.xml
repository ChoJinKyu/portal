<mvc:View 
	class="sapUiSizeCompact"
    controllerName="cm.countryMgt.controller.countryMgt" 
	xmlns="sap.m"
    xmlns:f="sap.f"
	xmlns:core="sap.ui.core"
	xmlns:demo="sap.ui.core.sample.common"
	xmlns:form="sap.ui.layout.form"
    xmlns:table="sap.ui.table"    
    xmlns:layout="sap.ui.layout" displayBlock="true"
	xmlns:mvc="sap.ui.core.mvc">
    <App>
        <f:DynamicPage id="dynamicPageId" toggleHeaderOnTitleClick="true" headerExpanded="true">
            <!--DynamicPage Title -->
            <f:title>
                <f:DynamicPageTitle>
                    <f:heading>
                        <Title text="국가 관리"/>
                    </f:heading>
                </f:DynamicPageTitle>
            </f:title>
            <!--DynamicPage Header -->
            <f:header>
				<f:DynamicPageHeader pinnable="true">                       
                    <layout:HorizontalLayout>                          
                        <form:Form editable="true" width="100%">
                            <!-- 검색 조건 -->
                            <form:formContainers>
                                <form:FormContainer>
                                    <form:formElements> 
                                        <!-- 국가코드 -->
                                        <form:FormElement label="국가코드">                                       
                                            <form:fields>            	
                                                <Input id="search_country_code" width="100%"/>                                       
                                            </form:fields>            	
                                        </form:FormElement>
                                        <!-- 날짜형식 -->
                                        <form:FormElement label="날짜형식">
                                            <form:fields>
                                                <!-- <ComboBox   id="search_date_type"
                                                            selectedKey="CM"
                                                            items="{
                                                                        path : 'Country',
                                                                        filters : [
                                                                            {path : 'tenant_id', operator : 'EQ', value1 : '1000'},
                                                                            {path : 'company_code', operator : 'EQ', value1 : 'G100'},
                                                                            {path : 'group_code', operator : 'EQ', value1 : 'CM_CHAIN_CD'},
                                                                            {path : 'language_cd', operator : 'EQ', value1 : 'KO'}                                                                        
                                                                        ]
                                                                    }"
                                                >
                                                    <core:Item key="{cc>code}" text="{cc>code_name}" /> 
                                                </ComboBox>	-->											
                                            </form:fields>
                                        </form:FormElement>
                                    </form:formElements>
                                </form:FormContainer>
                                <form:FormContainer>
                                    <form:formElements>
                                        <!-- 국가명 -->
                                        <form:FormElement label="국가명">                                       
                                            <form:fields>            	
                                                <Input id="search_country_name" width="100%"/>                                       
                                            </form:fields>            	
                                        </form:FormElement>
                                        <!-- 숫자형식 -->
                                        <form:FormElement label="숫자형식"> 
                                            <form:fields>
                                            <!-- <ComboBox   id="search_number_type"
                                                        selectedKey="Y"  
                                                        items="{
                                                                    path : 'cc>/CodeCombo',
                                                                    filters : [
                                                                        {path : 'tenant_id', operator : 'EQ', value1 : '1000'},
                                                                        {path : 'company_code', operator : 'EQ', value1 : 'G100'},
                                                                        {path : 'group_code', operator : 'EQ', value1 : 'CM_YN'},
                                                                        {path : 'language_cd', operator : 'EQ', value1 : 'KO'}                                                                        
                                                                    ]
                                                                }"
                                            >
                                                <core:Item key="{cc>code}" text="{cc>code_name}" />
                                            </ComboBox> -->
                                            </form:fields>
                                        </form:FormElement>
                                    </form:formElements>
                                </form:FormContainer>
                                <form:FormContainer>
                                    <form:formElements>
                                        <!-- ISO코드 -->
                                        <form:FormElement label="ISO코드">                                       
                                            <form:fields>            	
                                                <Input id="search_iso_code" width="100%"/>                                       
                                            </form:fields>            	
                                        </form:FormElement>
                                        <!-- 통화 -->
                                        <form:FormElement label="통화">                                           
                                            <form:fields>            	
                                                <SearchField 
                                                    id="searchCurrency" 
                                                    width="100%"/>
                                            </form:fields>
                                        </form:FormElement>
                                    </form:formElements>
                                </form:FormContainer>
                                <form:FormContainer>
                                    <form:formElements>
                                        <!-- 대표언어 -->
                                        <form:FormElement label="대표언어">
                                            <form:fields>
                                            <!-- <ComboBox   id="search_language_code"
                                                        selectedKey="Y"  
                                                        items="{
                                                                    path : 'cc>/CodeCombo',
                                                                    filters : [
                                                                        {path : 'tenant_id', operator : 'EQ', value1 : '1000'},
                                                                        {path : 'company_code', operator : 'EQ', value1 : 'G100'},
                                                                        {path : 'group_code', operator : 'EQ', value1 : 'CM_YN'},
                                                                        {path : 'language_cd', operator : 'EQ', value1 : 'KO'}                                                                        
                                                                    ]
                                                                }"
                                            >
                                                <core:Item key="{cc>code}" text="{cc>code_name}" />
                                            </ComboBox> -->
                                            </form:fields>
                                        </form:FormElement>
                                    </form:formElements>
                                </form:FormContainer>
                            </form:formContainers>
                            <form:layout>
								<form:ResponsiveGridLayout columnsM="4" columnsL="4" columnsXL="4"/>
                            </form:layout>
                        </form:Form>
                    </layout:HorizontalLayout> 
                    <HBox width="100%" alignItems="Center" alignContent="End" justifyContent="End">
                        <items>
                            <Button text="Search" press=".onSearch" icon="sap-icon://search"  type="Transparent"/>
                        </items>
                    </HBox>
				</f:DynamicPageHeader>
            </f:header>

            
            <f:content>      
                <layout:Splitter orientation="Vertical">   
                    <Table  id="mainList"
                            items="{
                                    path : '/Country',
                                    parameters: {
                                        $$updateGroupId : 'MainUpdateGroup'
                                    },
                                    filters : [{path : 'tenant_id', operator : 'EQ', value1 : '0000'}],
                                    sorter: { path: 'country_code'}
                                }"
                            mode="MultiSelect"               
                            ariaLabelledBy="title"   
                    >    
                    <layoutData>
                        <layout:SplitterLayoutData size="65%" />
                    </layoutData>  
                    <headerToolbar>
                        <OverflowToolbar>	
                            <content>  								
                                <ToolbarSpacer/>
                                <Button text="Create" icon="sap-icon://add"  press=".onCreateRow('mainList')"  type="Accept" />
                                <Button text="Copy" icon="sap-icon://copy" press=".onCopyRow"   type="Accept" />									
                                <Button text="Delete" icon="sap-icon://delete" press=".onDelete('mainList')"   type="Reject" />
                                <Button text="Save"   icon="sap-icon://save" press=".onSave('mainList')"   type="Accept" />	
                            </content>
                        </OverflowToolbar>
                    </headerToolbar>  
                    <columns>
                        <Column hAlign="Center" width="100px">
                            <header>
                                <Label text="국가코드"/>
                            </header>
                        </Column>
                        <Column hAlign="Center" width="100px">
                            <header>
                                <Label text="ISO코드"/>
                            </header>
                        </Column>
                        <Column hAlign="Center" width="100px">
                            <header>
                                <Label text="EU코드"/>
                            </header>
                        </Column>
                        <Column hAlign="Center" width="100px">
                            <header>
                                <Label text="대표언어"/>
                            </header>
                        </Column>
                        <Column hAlign="Center" width="100px">
                            <header>
                                <Label text="날짜형식"/>
                            </header>
                        </Column>
                        <Column hAlign="Center" width="100px">
                            <header>
                                <Label text="숫자형식"/>
                            </header>
                        </Column>
                        <Column hAlign="Center" width="100px">
                            <header>
                                <Label text="통화"/>
                            </header>
                        </Column>
                        <!-- <Column hAlign="Center" width="100px">
                            <header>
                                <Label text="주소스타일"/>
                            </header>
                        </Column> -->
                        <Column hAlign="Center" width="100px">
                            <header>
                                <Label text="최초작성자"/>
                            </header>
                        </Column>
                        <Column hAlign="Center" width="100px">
                            <header>
                                <Label text="유효시작일자"/>
                            </header>
                        </Column>
                        <Column hAlign="Center" width="100px">
                            <header>
                                <Label text="최종수정자"/>
                            </header>
                        </Column>
                        <Column hAlign="Center" width="100px">
                            <header>
                                <Label text="최종수정일시"/>
                            </header>
                        </Column>
                    
                    </columns>  
                    <items>
                        <ColumnListItem type="Active" id="mainColumnListItem" press="onMainListPress">
                            <cells>
                                <Input id="main_country_code" value="{country_code}" placeholder="국가코드코드 필수."/>
                                <Input id="main_iso_code" value="{iso_code}"  />
                                <Input id="main_eu_code" value="{eu_code}"/>
                                <Input id="main_language_code" value="{language_code}"/>
                                <Input id="main_date_format_code" value="{date_format_code}"/>
                                <Input id="main_number_format_code" value="{number_format_code}"/>
                                <Input id="main_currency_code" value="{currency_code}"/>
                            </cells>
                            <!-- <cells>
                                주소스타일 <Text id="main_currency_code" text="{currency_code}"/>
                            </cells> -->
                            <cells>
                                <Text id="main_create_user_id" text="{create_user_id}"/>
                            </cells>
                            <cells>
                                <Text id="main_system_create_dtm" text="{system_create_dtm}"/>
                            </cells>
                            <cells>
                                <Text id="main_update_user_id" text="{update_user_id}"/>
                            </cells>
                            <cells>
                                <Text id="main_system_update_dtm" text="{system_update_dtm}"/>
                            </cells>
                                                            
                        </ColumnListItem>
                    </items>                                                              
                    </Table> 


                    <Table  id="subList"
                            items="{
                                    path : '/CountryLng',
                                    parameters: {
                                        $$updateGroupId : 'SubUpdateGroup'
                                    },
                                    filters : [{path : 'tenant_id', operator : 'EQ', value1 : '0000'}],
                                    sorter: { path: 'language_code'}
                                }"
                            mode="MultiSelect"                   
                            ariaLabelledBy="title"   
                    >    
                    <layoutData>
                        <layout:SplitterLayoutData size="30%" />
                    </layoutData>  
                    <headerToolbar>
                        <OverflowToolbar>	
                            <content>  								
                                <ToolbarSpacer/>
                                <Button text="Create" icon="sap-icon://add"  press=".onCreateRow('subList')"  type="Accept" />						
                                <Button text="Delete" icon="sap-icon://delete" press=".onDelete('subList')"   type="Reject" />
                                <Button text="Save"   icon="sap-icon://save" press=".onSave('subList')"   type="Accept" />	
                            </content>
                        </OverflowToolbar>
                    </headerToolbar>    
                    <columns>
                        <Column hAlign="Center" width="100px">
                            <header>
                                <Label text="언어"/>
                            </header>
                        </Column>
                        <Column hAlign="Center" width="100px">
                            <header>
                                <Label text="국가명"/>
                            </header>
                        </Column>
                        <Column hAlign="Center" width="100px">
                            <header>
                                <Label text="설명"/>
                            </header>
                        </Column>                    
                    </columns>    
                    <items>
                        <ColumnListItem type="Active" id="subColumnListItem" press="onSubListPress">
                            <cells>
                                <Input id="sub_language_code" value="{language_code}" placeholder="언어 필수."/>
                                <Input id="sub_country_name" value="{country_name}"  />
                                <Input id="sub_description" value="{description}"  />
                            </cells>
                                                            
                        </ColumnListItem>
                    </items>                                                                      
                    </Table> 
                </layout:Splitter>
            </f:content>                 
        </f:DynamicPage>
    </App>
</mvc:View>
