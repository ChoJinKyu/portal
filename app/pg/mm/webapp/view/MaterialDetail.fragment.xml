<core:FragmentDefinition
    class="sapUiSizeCompact"    
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:layout="sap.ui.layout"
    xmlns:table="sap.ui.table"
    xmlns:form="sap.ui.layout.form"
	width 			= "50%"
	height			= "50%"    
    displayBlock="true">
	
	<Dialog>
		<content>
        <HBox width="100%">
            <VBox class="sapUiSmallMarginBegin sapUiSmallMarginEnd sapUiSmallMarginTop" width="500px">
                <Label text="1. 시황자재 선택"/>
                <SearchField id="searchField_material_code" 
                             width="90%"
                             required="true" 
                             search=".onMaterialSearch" 
                             selectOnFocus="false"
                             placeholder="Search Name or Code"
                             class="sapUiTinyMarginTop sapUiTinyMarginBegin" />
                <SearchField id="searchField_category_name" 
                             width="90%" 
                             search=".onMaterialSearch" 
                             selectOnFocus="false"                             
                             placeholder="Search Category"
                             class="sapUiTinyMarginTop sapUiTinyMarginBegin" />
                <Table  id="leftTable"
                        mode="SingleSelectLeft"
                        items="{mIMatCategListView>/}"
                        selectionChange=".onSelectedLeftTableItem"
                        itemPress=".onSelectedLeftTableItem"                        
                        noDataText="No Data"
                        class="sapUiSmallMarginBegin sapUiSmallMarginTop"
                >
<!-- dev20201213  mi_material_code, mi_material_code 필요함
    20201213 10:53 화면과 다름 
    <d:tenant_id>L2100</d:tenant_id>
<d:company_code>*</d:company_code>
<d:org_type_code>BU</d:org_type_code>
<d:org_code>BIZ00100</d:org_code>
<d:parent_category_code>BATTERY</d:parent_category_code>
<d:parent_category_name>전지12</d:parent_category_name>
<d:category_code>AL</d:category_code>
<d:category_name>알루미늄</d:category_name>
<d:use_flag>true</d:use_flag>                 -->
                    <columns>
                        <Column hAlign="Center" visible="false"><header><Label text="tenant_id"/></header></Column>
                        <Column hAlign="Center" visible="false"><header><Label text="company_code"/></header></Column>
                        <Column hAlign="Center" visible="false"><header><Label text="org_type_code"/></header></Column>
                        <Column hAlign="Center" visible="false"><header><Label text="org_code"/></header></Column>
                        <Column hAlign="Center" visible="false"><header><Label text="category_code"/></header></Column>
                        <Column hAlign="Center" ><header><Label text="Code"/></header></Column>
                        <Column hAlign="Center" ><header><Label text="Name"/></header></Column>
                        <Column hAlign="Center" ><header><Label text="Category"/></header></Column>                                                                                                                    
                    </columns>
                    <items>
                        <ColumnListItem type="Active">
                            <cells>
                                <!-- dev20201213 <Text text="{mIMatCategListView>mi_material_code}"/>
                                <Text text="{mIMatCategListView>mi_material_code}"/>
                                <Text text="{mIMatCategListView>category_name}"/> -->
                                <Text text="{mIMatCategListView>tenant_id}"/>
                                <Text text="{mIMatCategListView>company_code}"/>
                                <Text text="{mIMatCategListView>org_type_code}"/>
                                <Text text="{mIMatCategListView>org_code}"/>
                                <Text text="{mIMatCategListView>category_code}"/>
                                <Text text="{mIMatCategListView>mi_material_code}"/>
                                <Text text="{mIMatCategListView>mi_material_desc}"/>
                                <Text text="{mIMatCategListView>category_name}"/>
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>                      
            </VBox>
            <VBox class="sapUiSmallMarginBegin sapUiSmallMarginEnd sapUiSmallMarginTop">
                <Label text="2. 시황자재 > 가격정보 선택"/>

                <Table  id="rightTable"
                        mode="SingleSelectLeft" 
                        items="{mIMaterialCostInformationView>/}"  
                        noDataText="No Data"
                        class="sapUiSmallMarginEnd" 
                        width="700px">
                    <columns>
                        <Column hAlign="Center" >
                            <header>
                                <Label text="화폐단위"/>                            
                            </header>
                        </Column>
                        <Column hAlign="Center" >
                            <header>
                                <Label text="수량단위"/>                            
                            </header>
                        </Column>
                        <Column hAlign="Center" >
                            <header>
                                <Label text="거래소"/>                            
                            </header>
                        </Column>
                        <Column hAlign="Center" >
                            <header>
                                <Label text="인도조건"/>                            
                            </header>
                        </Column>
                        <Column hAlign="Center" >
                            <header>
                                <Label text="최근상황일지"/>                            
                            </header>
                        </Column>    
                        <Column hAlign="Center" >
                            <header>
                                <Label text="금액"/>                            
                            </header>
                        </Column>                                                                                                 
                    </columns>
                    <items>
                        <ColumnListItem type="Active">
                            <cells>
                                <Text text="{mIMaterialCostInformationView>currency_unit}"/>
                                <Text text="{mIMaterialCostInformationView>quantity_unit}"/>
                                <Text text="{mIMaterialCostInformationView>exchange}"/>
                                <Text text="{mIMaterialCostInformationView>termsdelv}"/>
                                <Text text="{
                                        path: 'mIMaterialCostInformationView>mi_date',
                                        type: 'sap.ui.model.type.Date',
                                        formatOptions: {
                                            pattern: 'yyyy/MM/dd'
                                        }                                        
                                    }"/> 

                                <Text text="{mIMaterialCostInformationView>amount}"/>
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>             
            </VBox>

        </HBox>
		</content>
			<beginButton>
				<Button type="Transparent"  text="Cancel" press=".onMaterialDetailClose" />
               
			</beginButton>
            <endButton>
             <Button  text="Apply" 
             type="Emphasized"
             press=".onMaterialDetailApply" />
            </endButton>
	</Dialog>
</core:FragmentDefinition>