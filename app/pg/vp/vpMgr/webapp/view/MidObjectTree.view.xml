<mvc:View controllerName="vp.vpMgt.controller.MidObject"
    xmlns:mvc="sap.ui.core.mvc" 
    xmlns="sap.m" 
    xmlns:f="sap.f" 
    xmlns:form="sap.ui.layout.form" 
    xmlns:layout="sap.ui.layout" 
    xmlns:core="sap.ui.core" 
    xmlns:lib-m="ext.lib.m"
    xmlns:table="sap.ui.table"
    height="100%">
	<App id="app">
        <f:DynamicPage id="page"
            headerExpanded="{mainListView>/headerExpanded}" 
            toggleHeaderOnTitleClick="true">
            <!-- DynamicPage Title -->
            <f:title>
                <f:DynamicPageTitle>
                    <f:heading>
                        <Title text="Vendor Pool" />
                    </f:heading>
                    <f:snappedContent>
                        <form:SimpleForm id="pageSearchFormS" maxContainerCols="3" editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="false" labelSpanL="4" labelSpanM="4" emptySpanL="0" emptySpanM="0" columnsL="2" columnsM="2">
                            <form:content>
                            <HBox>
                                <VBox>
                                    <Label text="Operation ORG" labelFor="mid_Tree_Operation_ORG_S" required="true"></Label>
                                    <ComboBox id="mid_Tree_Operation_ORG_S" width="100%" selectedKey="BIZ00200" items="{
                                        path: '/VpOperationOrg',
                                        filters: [
                                            {path: 'tenant_id', operator: 'EQ', value1: 'L2100'}
                                        ],
                                        sorter: { path: 'operation_org_code'}
                                    }">
                                        <items>
                                            <core:Item key="{operation_org_code}" text="[{operation_org_code}] {operation_org_name}" />
                                        </items>
                                    </ComboBox>
                                    <layoutData>
                                        <layout:GridData span="XL2 L3 M6 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox>
                                    <Label text="Operation UINT" labelFor="mid_Tree_Operation_UNIT_S" required="true"></Label>
                                    <ComboBox id="mid_Tree_Operation_UNIT_S" width="100%" selectedKey="" items="{
                                        path: '/util>/CodeDetails',
                                        filters: [
                                                    {path : 'tenant_id', operator : 'EQ', value1 : 'L2100'},
                                                    {path : 'group_code', operator : 'EQ', value1 : 'PG_VP_OPERATION_UNIT'}      
                                        ]
                                    }">
                                        <items>
                                            <core:Item key="{util>code}" text="{util>code_description}" />
                                        </items>
                                    </ComboBox>
                                </VBox>                                
                            </HBox>    
                            </form:content>
                        </form:SimpleForm>
                    </f:snappedContent>
                    <f:expandedContent>
                        <form:SimpleForm id="pageSearchFormE" maxContainerCols="2" editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="false" labelSpanL="4" labelSpanM="4" emptySpanL="0" emptySpanM="0" columnsL="2" columnsM="2">
                            <form:content>
                            <HBox>
                                <VBox>
                                    <Label text="Operation ORG" labelFor="mid_Tree_Operation_ORG_E" required="true"></Label>
                                    <ComboBox id="mid_Tree_Operation_ORG_E" width="100%" selectedKey="BIZ00200"  items="{
                                        path: '/VpOperationOrg',
                                        filters: [
                                            {path: 'tenant_id', operator: 'EQ', value1: 'L2100'}
                                        ],
                                        sorter: { path: 'operation_org_code'}
                                    }">
                                        <items>
                                            <core:Item key="{operation_org_code}" text="[{operation_org_code}] {operation_org_name}" />
                                        </items>
                                    </ComboBox>
                                    <layoutData>
                                        <layout:GridData span="XL2 L3 M6 S12" />
                                    </layoutData>
                                </VBox>
                                <VBox>
                                    <Label text="Operation UINT" labelFor="mid_Tree_Operation_UNIT_E" required="true"></Label>
                                    <ComboBox id="mid_Tree_Operation_UNIT_E" width="100%" selectedKey="" items="{
                                        path: '/util>/CodeDetails',
                                        filters: [
                                                    {path : 'tenant_id', operator : 'EQ', value1 : 'L2100'},
                                                    {path : 'group_code', operator : 'EQ', value1 : 'PG_VP_OPERATION_UNIT'}      
                                        ]
                                    }">
                                        <items>
                                            <core:Item key="{util>code}" text="{util>code_description}" />
                                        </items>
                                    </ComboBox>
                                </VBox>
                            </HBox>                             
                            </form:content>
                        </form:SimpleForm>
                    </f:expandedContent>
                    <f:actions>
                        <Button id="pageSearchButton" text="Search" type="Emphasized" press=".onPageSearchButtonPress" />
                    </f:actions>
                    <f:navigationActions>
                        <Button icon="sap-icon://unfavorite" type="Transparent" />
                    </f:navigationActions>
                </f:DynamicPageTitle>
            </f:title>
            <!-- DynamicPage Header -->
            <f:header>
                <f:DynamicPageHeader pinnable="true">

                    <form:SimpleForm id="pageSearchForm" maxContainerCols="2" editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="false" labelSpanL="4" labelSpanM="4" emptySpanL="0" emptySpanM="0" columnsL="2" columnsM="2">
                        <form:content>
                            <VBox>
                                <Label text="Vendor Pool" labelFor="mid_Tree_Vp_Code"></Label>
                                <HBox>
                                    <Input id="mid_Tree_Vp_Code" placeholder="Input data"></Input>
                                </HBox>
                                <layoutData>
                                    <layout:GridData span="XL2 L3 M6 S12" />
                                </layoutData>
                            </VBox>                        
                        </form:content>
                    </form:SimpleForm>
                </f:DynamicPageHeader>
            </f:header>
            <f:content>
                <VBox>
                    <table:TreeTable
                                id="midTreeTable"
                                selectionMode="Single"
                                rowSelectionChange=".onCheck"                    
                                enableColumnReordering="false"
                                expandFirstLevel="false"
                                rows="{
                                    path : '/VpPopupView',
                                    parameters : {
                                        countMode: 'Inline',
                                        treeAnnotationProperties : {
                                            hierarchyLevelFor : 'hierarchy_level',
                                            hierarchyNodeFor : 'node_id',
                                            hierarchyParentNodeFor : 'parent_id',
                                            hierarchyDrillStateFor : 'drill_state'
                                        }
                                    }
                                }"
                                >
                    <table:extension>
                        <OverflowToolbar>
                            <ToolbarSpacer/>

                            <ToolbarSeparator/>
                        </OverflowToolbar>
                    </table:extension>     
                        <!-- visibleRowCountMode="Auto"> -->
                    <table:columns>
                            <table:Column label="Vendor Pool" >
                                <table:template>
                                    <Text id="mt_vpNm" text="{vendor_pool_local_name}" wrapping="false" />
                                </table:template>
                            </table:Column>
                    </table:columns>
                    <table:columns>
                            <table:Column label="Department" >
                                <table:template>
                                    <Text id="mt_deptKo" text="{department_korean_name}" wrapping="false" />
                                </table:template>
                            </table:Column>
                    </table:columns>
                                        <table:columns>
                            <table:Column label="Mtl. Attribute" >
                                <table:template>
                                    <Text id="mt_inpType" text="{inp_type_name}" wrapping="false" />
                                </table:template>
                            </table:Column>
                    </table:columns>
                                        <table:columns>
                            <table:Column label="Planning Base" >
                                <table:template>
                                    <Text id="mt_mtlBase" text="{mtlmob_base_name}" wrapping="false" />
                                </table:template>
                            </table:Column>
                    </table:columns>
                                        <table:columns>
                            <table:Column label="Industrial Classification" >
                                <table:template>
                                    <Text id="mt_industryNm" text="{industry_class_name}" wrapping="false" />
                                </table:template>
                            </table:Column>
                    </table:columns>
                                        <table:columns>
                            <table:Column label="SD Flag" >
                                <table:template>
                                    <Text id="mt_sdFlag" text="{sd_exception_flag}" wrapping="false" />
                                </table:template>
                            </table:Column>
                    </table:columns>
                    </table:TreeTable>  
                    <layoutData>
                        <layout:GridData span="XL12 L12 M12 S12" />
                    </layoutData>            
                </VBox>
            </f:content>
            <!-- DynamicPage Footer -->
            <f:footer>
                <OverflowToolbar>
                    <ToolbarSpacer />
                    <Button type="Accept" text="Accept"/>
                    <Button type="Reject" text="Reject"/>
                </OverflowToolbar>
            </f:footer>
        </f:DynamicPage>
	</App>
</mvc:View>