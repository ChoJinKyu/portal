<mvc:View controllerName="pg.mdCategoryItem.controller.mdCategoryItem"
    class="sapUiSizeCompact"
    xmlns:mvc="sap.ui.core.mvc" 
    xmlns="sap.m" 
    xmlns:f="sap.f"  
	xmlns:dnd="sap.ui.core.dnd"
    xmlns:form="sap.ui.layout.form" 
    xmlns:layout="sap.ui.layout" 
    xmlns:core="sap.ui.core" 
    xmlns:lib-m="ext.lib.m"
    height="100%">

    <f:DynamicPage id="page" 
    toggleHeaderOnTitleClick="false" 
    headerExpanded="true" 
    fitContent="true">
      <!--DynamicPage Title -->
      <f:title>
        <f:DynamicPageTitle>
          <f:heading>
            <Title text="{i18n>appTitle}" />
          </f:heading>
          <!-- 조회 -->
          <f:actions>
            <Button id="pageSearchButton" text="{I18N>/SEARCH}" type="Emphasized" press=".onSearch"/>
          </f:actions>
          <!-- 즐겨찾기 -->
          <f:navigationActions>
            <Button icon="sap-icon://unfavorite" type="Transparent" />
          </f:navigationActions>
        </f:DynamicPageTitle>
      </f:title>
      <!--DynamicPage Header -->
      <f:header>
        <f:DynamicPageHeader pinnable="false">
            <form:SimpleForm id="pageSearchFormS" maxContainerCols="2" editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="false" labelSpanL="4" labelSpanM="4" emptySpanL="0" emptySpanM="0" columnsL="2" columnsM="2">
                <form:content>
                    <VBox>
                        <Label text="사업본부: " labelFor="searchDeptS"></Label>
                        <ComboBox id="searchDeptS" width="100%" items="{
                                path: 'util>/CodeDetails',
                                filters: [
                                    {path: 'tenant_id', operator: 'EQ', value1: 'L2100'},
                                    {path: 'group_code', operator: 'EQ', value1: 'CM_ORG_TYPE_CODE'}
                                ]
                            }">
                            <items>
                                <core:Item key="{util>code}" text="{util>code_description} : {util>code}" />
                            </items>
                        </ComboBox>
                        <layoutData>
                            <layout:GridData span="XL2 L3 M6 S12" />
                        </layoutData>
                    </VBox>
                </form:content>
            </form:SimpleForm>
        </f:DynamicPageHeader>
      </f:header>
      <f:content>
        <VBox>
        <Table id="mainTable"
                mode="SingleSelectLeft" 
                selectionChange=".onSeletionChange"
                noDataText="{I18N>/NCM0001}"
                items="{
                    path: 'list>/MdCategoryItem',
                    sorter: { path: 'spmd_character_sort_seq'}
                }"
				class="sapFDynamicPageAlignContent"
                columnResize="onColumnResize"
		        beforeOpenContextMenu="onBeforeOpenContextMenu"
                width="auto">
            <headerToolbar>
            <OverflowToolbar class="sapFDynamicPageAlignContent">
            <Title id="title2" text="SPMD Character List"/>
            <VBox>
                <ObjectStatus title="범주코드" id="textCategoryCode" text=""/>
                <ObjectStatus title="범주명" id="textCategoryName" text="{list>spmd_category_code}"/>
            </VBox>
              <ToolbarSpacer/>
              <Button icon="sap-icon://navigation-up-arrow" tooltip="Move up" press="moveUp"/>
              <Button icon="sap-icon://navigation-down-arrow" tooltip="Move down" press="moveDown"/>

              <Button text="{I18N>/ROW_ADD}" id="buttonMainAddRow" press=".onAdd('mainTable', 'list', 'mdCategoryItem', 'tenant_id')"  type="Transparent"/>
              <Button text="{I18N>/CANCEL}" id="buttonMainCancelRow" press=".onSearch"  type="Transparent" enabled="false"/>
              <Button text="{I18N>/ROW_DELETE}" id="buttonMainDeleteRow" press=".onDelete"   type="Transparent" />
              <Button text="{I18N>/SAVE}" id="buttonMainSaveRow" press=".onSave('mainTable', 'list')"   type="Emphasized"/>
              <ToolbarSeparator/>
              <Button icon="sap-icon://action-settings" press=".onMainTablePersoButtonPressed" >
                <layoutData>
                  <OverflowToolbarLayoutData priority="NeverOverflow"/>
                </layoutData>
              </Button>
            </OverflowToolbar>
            </headerToolbar>

            <columns> 
                <Column minScreenWidth="Tablet" hAlign="Center" mergeDuplicates="false" width="3em" >
                    <Text text="S" />
                </Column>
                <Column minScreenWidth="Tablet" hAlign="Center" mergeDuplicates="false" width="12em" >
                    <Text text="범주코드(임시:확인용)" />
                </Column>
                <Column minScreenWidth="Tablet" hAlign="Center" mergeDuplicates="false" width="12em" >
                    <Text text="사업본부코드" />
                </Column>
                <!-- <Column minScreenWidth="Tablet" hAlign="Center" mergeDuplicates="false" width="12em" >
                    <Text text="사업본부명" />
                </Column> -->
                <Column minScreenWidth="Tablet" hAlign="Center" mergeDuplicates="false" width="12em" >
                    <Text text="특성코드" />
                </Column>
                <Column minScreenWidth="Tablet" hAlign="Center" mergeDuplicates="false" width="20em" >
                    <Text text="특성정렬순서" />
                </Column>
                <Column minScreenWidth="Tablet" hAlign="Center" >
                    <Text text="특성코드명" />
                </Column>
                <Column minScreenWidth="Tablet" hAlign="Center" width="40em" >
                    <Text text="특성설명" />
                </Column>
                <!-- <Column minScreenWidth="Tablet" hAlign="Center" width="150px" >
                    <Text text="생성자" />
                </Column>
                <Column minScreenWidth="Tablet" hAlign="Center" width="150px" >
                    <Text text="수정자" />
                </Column>
                <Column minScreenWidth="Tablet" hAlign="Center" width="150px" >
                    <Text text="생성 시간" />
                </Column>
                <Column minScreenWidth="Tablet" hAlign="Center" width="150px" >
                    <Text text="수정 시간" />
                </Column>
                <Column minScreenWidth="Tablet" hAlign="Center" width="150px" >
                    <Text text="시스템 생성 시간" />
                </Column>
                <Column minScreenWidth="Tablet" hAlign="Center" width="150px" >
                    <Text text="시스템 수정 시간" />
                </Column> -->
            </columns>
            
            <dragDropConfig>
                <dnd:DragInfo
                    groupName="selected2available"
                    sourceAggregation="items" />
                <dnd:DropInfo
                    groupName="available2selected"
                    targetAggregation="items"
                    dropPosition="Between"
                    drop="onDropSelectedProductsTable" />
                <dnd:DragDropInfo
                    sourceAggregation="items"
                    targetAggregation="items"
                    dropPosition="Between"
                    drop="onDropSelectedProductsTable"/>
            </dragDropConfig>

            <items>
				<ColumnListItem type="Navigation" press="onListItemPress">
                    <cells>
                        <HBox align="Center">
                            <Text text="{list>_row_state_}"></Text>
                        </HBox>
                        <HBox alignItems="Center">
                            <Text text="{list>spmd_category_code}"></Text>
                        </HBox>
                        <HBox alignItems="Center">
                            <Text text="{list>org_code}"></Text>
                        </HBox>
                        <!-- <HBox alignItems="Center">
                            <Text text="{list>spmd_character_code}"></Text>
                        </HBox> -->
                        <HBox alignItems="Center">
                            <Text text="{list>spmd_character_code}"></Text>
                        </HBox>
                        <HBox alignItems="Center">
                            <Text text="{list>spmd_character_sort_seq}" ></Text>
                        </HBox>
                        <HBox>
                            <Text text="{list>spmd_character_code_name}" visible="true"></Text>
                            <Input value="{list>spmd_character_code_name}" required="true" visible="false"></Input>
                        </HBox>
                        <HBox alalignItemsign="Center">
                            <Text text="{list>spmd_character_desc}" visible="true"></Text>
                            <Input value="{list>spmd_character_desc}" visible="false"></Input>
                        </HBox>
                        <!-- <HBox alignItems="Center">
                            <Text text="{list>create_user_id}"></Text>
                        </HBox>
                        <HBox alignItems="Center">
                            <Text text="{list>update_user_id}"></Text>
                        </HBox>
                        <HBox alignItems="Center">
                            <Text text="{path : 'list>local_create_dtm', formatter: '.dateFormatter.toUTCDateTimeString'}"></Text>
                        </HBox>
                        <HBox alignItems="Center">
                            <Text text="{path : 'list>local_update_dtm', formatter: '.dateFormatter.toUTCDateTimeString'}"></Text>
                        </HBox>
                        <HBox alignItems="Center">
                            <Text text="{path : 'list>system_create_dtm', formatter: '.dateFormatter.toUTCDateTimeString'}"></Text>
                        </HBox>
                        <HBox alignItems="Center">
                            <Text text="{path : 'list>system_update_dtm', formatter: '.dateFormatter.toUTCDateTimeString'}"></Text>
                        </HBox> -->
                    </cells>
                </ColumnListItem>
            </items>
        </Table>
        </VBox>
      </f:content>
    </f:DynamicPage>
</mvc:View>