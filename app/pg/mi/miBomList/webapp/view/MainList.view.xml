<mvc:View
    controllerName="pg.mi.miBomList.controller.MainList"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:ui="sap.ui.table"
    xmlns:f="sap.f"
    xmlns:form="sap.ui.layout.form"
    xmlns:layout="sap.ui.layout"
    xmlns:core="sap.ui.core"
    xmlns:lib-m="ext.lib.m"
    xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"
    xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:sv="sap.ui.comp.smartvariants"
    xmlns:smartVariantManagement="sap.ui.comp.smartvariants"
    height="100%"
    >
  
    <f:DynamicPage
        id="page"
        headerExpanded="{oUi>/headerExpanded}"
        toggleHeaderOnTitleClick="true"
      
        >
        <!-- DynamicPage Title -->
        <f:title>
            <f:DynamicPageTitle>
                <f:heading>
                    <Title text="자재별 시황자재 BOM List"/>
                </f:heading>
                <f:snappedContent></f:snappedContent>
                <f:expandedContent></f:expandedContent>
                <f:navigationActions>
                    <Button icon="sap-icon://unfavorite" type="Transparent"/>
                </f:navigationActions>
            </f:DynamicPageTitle>
        </f:title>
        <!-- DynamicPage Header -->
        <f:header>

            <f:DynamicPageHeader pinnable="false">
                <f:content>
                <!-- <smartVariantManagement:SmartVariantManagement        
				             id="pageVariantId"
                             smartVariant="pageVariantId"
				             persistencyKey="PageVariantPKey"
                             
                              />                      -->
                    <!-- Smart Filter -->
                    <smartFilterBar:SmartFilterBar id="smartFilterBar" 
                    entitySet="MIMaterialCodeBOMManagementHeaderView" 
                    useToolbar="false"
                    considerSelectionVariants="false" 
                    enableBasicSearch="false" >
                        <smartFilterBar:controlConfiguration>                            
                            <!-- 자재명 -->
                            <smartFilterBar:ControlConfiguration key="material_desc" groupId="_BASIC" index="2" label="{I18N>/MATERIAL}"  
                            visibleInAdvancedArea="true">
                                <smartFilterBar:customControl>
                                    <Input id="material_desc" tooltip="{I18N>/MATERIAL}" placeholder="{I18N>/INPUT}."/>
                                </smartFilterBar:customControl>
                            </smartFilterBar:ControlConfiguration>
                            <!-- 공급업체명 -->  
                            <smartFilterBar:ControlConfiguration key="supplier_local_name" groupId="_BASIC" index="3" label="{I18N>/SUPPLIER_NAME}" 
                            visibleInAdvancedArea="true">
                                <smartFilterBar:customControl>
                                    <Input id="supplier_local_name" tooltip="{I18N>/SUPPLIER_NAME}" placeholder="{I18N>/INPUT}."/>
                                </smartFilterBar:customControl>
                            </smartFilterBar:ControlConfiguration>  
                            <smartFilterBar:ControlConfiguration key="Validated" filterType="single"/>          
                        </smartFilterBar:controlConfiguration>
                        <smartFilterBar:layoutData>
                            <FlexItemData shrinkFactor="0"/>
                        </smartFilterBar:layoutData>
                    </smartFilterBar:SmartFilterBar>
                </f:content>
            </f:DynamicPageHeader>
        </f:header>

        <!-- DynamicPage Content -->
        <f:content>
                <smartTable:SmartTable
                    smartVariant="pageVariantId"
                    id="smartTable_MainTable"
                    entitySet="MIMaterialCodeBOMManagementView"
                    smartFilterId="smartFilterBar"
                    tableType="Table"
                    useExportToExcel="true"
                    initiallyVisibleFields="material_code,material_desc,supplier_code,supplier_local_name,base_quantity,processing_cost,pcst_currency_unit,mi_material_code,mi_material_name,category_name,reqm_quantity_unit,reqm_quantity,currency_unit,mi_base_reqm_quantity,quantity_unit,exchange,termsdelv,use_flag"
                    beforeRebindTable=".onBeforeRebindTable"
                    beforeExport="onBeforeExport"
                    useVariantManagement="false"
                    useTablePersonalisation="true"
                    showTablePersonalisation="false"
                    header="자재별 시황자재 BOM List"
                    showRowCount="true"            
                    class="sapUiResponsiveContentPadding"
                    enableAutoBinding="true"
                    showFullScreenButton="false">
                   	<smartTable:customToolbar>
                        <OverflowToolbar design="Transparent">
                            <ToolbarSpacer/>
                            <OverflowToolbarButton text="Test"/>
                            <OverflowToolbarButton icon="sap-icon://sort" tooltip="Sort" text="Sort" press="onSort"/>
                            <OverflowToolbarButton icon="sap-icon://filter" tooltip="Filter" text="Filter" press="onFilter"/>
                            <OverflowToolbarButton icon="sap-icon://action-settings" tooltip="Column Settings" text="Column Settings" press="onColumns"/>
                        </OverflowToolbar>
		            </smartTable:customToolbar>
                            <ui:Table id="mainTable"
                                rows="{/MIMaterialCodeBOMManagementView}"
                                selectionMode="None"
                                visibleRowCount="6"
                                >
                                <ui:columns> 
                                    <ui:Column width="10rem"  sortProperty="material_code" filterProperty="material_code">
                                       <ui:customData>
                                            <core:CustomData key="p13nData" value='\{"columnKey": "material_code", "leadingProperty": "material_code", "sortProperty": "material_code", "filterProperty": "material_code", "columnIndex": 1}'/>
                                        </ui:customData>
                                      
                                        <Label text="{I18N>/MATERIAL_CODE}" />
                                        <ui:template>
                                            <Text text="{material_code}" wrapping="false" />
                                        </ui:template>
                                    </ui:Column> 

                                    <ui:Column width="20rem"  sortProperty="material_desc" filterProperty="material_desc">
                                      <ui:customData>
                                        <core:CustomData key="p13nData"
                                            value='\{"columnKey": "material_desc", "leadingProperty": "material_desc", "sortProperty": "material_desc", "filterProperty": "material_desc", "columnIndex": 2}'/>
                                    </ui:customData>
                                        <Label text="{I18N>/MATERIAL}" />
                                        <ui:template>
                                            <Text text="{material_desc}" wrapping="false" />
                                        </ui:template>
                                    </ui:Column>

                                    <ui:Column width="12rem" sortProperty="supplier_code" filterProperty="supplier_code">
                                      <ui:customData>
                                        <core:CustomData key="p13nData"
                                            value='\{"columnKey": "supplier_code", "leadingProperty": "supplier_code", "sortProperty": "supplier_code", "filterProperty": "supplier_code", "columnIndex": 3}'/>
                                       </ui:customData>
                                        <Label text="{I18N>/SUPPLIER}" />
                                        <ui:template>
                                            <Text text="{supplier_code}" wrapping="false" />
                                        </ui:template>
                                    </ui:Column>

                                    <ui:Column width="12rem" sortProperty="supplier_local_name" filterProperty="supplier_local_name">
                                        <ui:customData>
                                        <core:CustomData key="p13nData"
                                            value='\{"columnKey": "supplier_local_name", "leadingProperty": "supplier_local_name", "sortProperty": "supplier_local_name", "filterProperty": "supplier_local_name", "columnIndex": 4}'/>
                                        </ui:customData>
                                        <Label text="{I18N>/SUPPLIER_LOCAL_NAME}" />
                                        <ui:template>
                                            <Text text="{supplier_local_name}" wrapping="false" />
                                        </ui:template>
                                    </ui:Column>
                                    <ui:Column width="5rem" sortProperty="base_quantity" filterProperty="base_quantity">
                                        <ui:customData>
                                        <core:CustomData key="p13nData"
                                            value='\{"columnKey": "base_quantity", "leadingProperty": "base_quantity", "sortProperty": "base_quantity", "filterProperty": "base_quantity", "columnIndex": 5}'/>
                                        </ui:customData>
                                        <Label text="기준수량" />
                                        <ui:template>
                                            <Text text="{base_quantity}" wrapping="false" />
                                        </ui:template>
                                    </ui:Column>

                                    <ui:Column width="10rem" sortProperty="processing_cost" filterProperty="processing_cost">
                                     <ui:customData>
                                        <core:CustomData key="p13nData"
                                            value='\{"columnKey": "processing_cost", "leadingProperty": "processing_cost", "sortProperty": "processing_cost", "filterProperty": "processing_cost", "columnIndex": 6}'/>
                                    </ui:customData >
                                        <Label text="{I18N>/PROCESSING_COST}" />
                                        <ui:template>
                                            <Text text="{processing_cost}" wrapping="false" />
                                        </ui:template>
                                    </ui:Column>

                                    <ui:Column width="7rem" sortProperty="pcst_currency_unit" filterProperty="pcst_currency_unit">
                                        <ui:customData>
                                        <core:CustomData key="p13nData"
                                            value='\{"columnKey": "pcst_currency_unit", "leadingProperty": "pcst_currency_unit", "sortProperty": "pcst_currency_unit", "filterProperty": "pcst_currency_unit", "columnIndex": 7}'/>
                                        </ui:customData>
                                        <Label text="가공비통화" />
                                        <ui:template>
                                            <Text text="{pcst_currency_unit}" wrapping="false" />
                                        </ui:template>
                                    </ui:Column>

                                    <ui:Column width="8rem" sortProperty="mi_material_code" filterProperty="mi_material_code">
                                        <ui:customData>
                                        <core:CustomData key="p13nData"
                                            value='\{"columnKey": "mi_material_code", "leadingProperty": "mi_material_code", "sortProperty": "mi_material_code", "filterProperty": "mi_material_code", "columnIndex": 8}'/>
                                        </ui:customData>
                                        <Label text="시황자재코드" />
                                        <ui:template>
                                            <Text text="{mi_material_code}" wrapping="false" />
                                        </ui:template>
                                    </ui:Column>
 
                                     <ui:Column width="10rem" sortProperty="mi_material_name" filterProperty="mi_material_name">
                                        <ui:customData>
                                        <core:CustomData key="p13nData"
                                            value='\{"columnKey": "mi_material_name", "leadingProperty": "mi_material_name", "sortProperty": "mi_material_name", "filterProperty": "mi_material_name", "columnIndex": 9}'/>
                                        </ui:customData>
                                        <Label text="시황자재명" />
                                        <ui:template>
                                            <Text text="{mi_material_name}" wrapping="false" />
                                        </ui:template>
                                    </ui:Column>

                                     <ui:Column width="10rem" sortProperty="category_name" filterProperty="category_name">
                                        <ui:customData>
                                        <core:CustomData key="p13nData"
                                            value='\{"columnKey": "category_name", "leadingProperty": "category_name", "sortProperty": "category_name", "filterProperty": "category_name", "columnIndex": 10}'/>
                                        </ui:customData>
                                        <Label text="시황자재 Category" />
                                        <ui:template>
                                            <Text text="{category_name}" wrapping="false" />
                                        </ui:template>
                                    </ui:Column>

                                     <ui:Column width="7rem" sortProperty="reqm_quantity_unit" filterProperty="reqm_quantity_unit">
                                        <ui:customData>
                                        <core:CustomData key="p13nData"
                                            value='\{"columnKey": "reqm_quantity_unit", "leadingProperty": "reqm_quantity_unit", "sortProperty": "reqm_quantity_unit", "filterProperty": "reqm_quantity_unit", "columnIndex": 11}'/>
                                        </ui:customData>
                                        <Label text="소요량 단위"/>
                                        <ui:template>
                                            <Text text="{reqm_quantity_unit}" wrapping="false" />
                                        </ui:template>
                                    </ui:Column>

                                     <ui:Column width="5rem" sortProperty="reqm_quantity" filterProperty="reqm_quantity">
                                        <ui:customData>
                                        <core:CustomData key="p13nData"
                                            value='\{"columnKey": "reqm_quantity", "leadingProperty": "reqm_quantity", "sortProperty": "reqm_quantity", "filterProperty": "reqm_quantity", "columnIndex": 12}'/>
                                        </ui:customData>
                                        <Label text="소요량" />
                                        <ui:template>
                                            <Text text="{reqm_quantity}" wrapping="false" />
                                        </ui:template>
                                    </ui:Column>

                                     <ui:Column width="5rem" sortProperty="currency_unit" filterProperty="currency_unit">
                                        <ui:customData>
                                        <core:CustomData key="p13nData"
                                            value='\{"columnKey": "currency_unit", "leadingProperty": "currency_unit", "sortProperty": "currency_unit", "filterProperty": "currency_unit", "columnIndex": 13}'/>
                                        </ui:customData>
                                        <Label text="화폐단위" />
                                        <ui:template>
                                            <Text text="{currency_unit}" wrapping="false" />
                                        </ui:template>
                                    </ui:Column>

                                     <ui:Column width="8rem"  sortProperty="mi_base_reqm_quantity" filterProperty="mi_base_reqm_quantity">
                                        <ui:customData>
                                        <core:CustomData key="p13nData"
                                            value='\{"columnKey": "mi_base_reqm_quantity", "leadingProperty": "mi_base_reqm_quantity", "sortProperty": "mi_base_reqm_quantity", "filterProperty": "mi_base_reqm_quantity", "columnIndex": 14}'/>
                                        </ui:customData>
                                        <Label text="시황기준 소요량" />
                                        <ui:template>
                                            <Text text="{mi_base_reqm_quantity}" wrapping="false" />
                                        </ui:template>
                                    </ui:Column>

                                     <ui:Column width="5rem" sortProperty="quantity_unit" filterProperty="quantity_unit">
                                        <ui:customData>
                                        <core:CustomData key="p13nData"
                                            value='\{"columnKey": "quantity_unit", "leadingProperty": "quantity_unit", "sortProperty": "quantity_unit", "filterProperty": "quantity_unit", "columnIndex": 15}'/>
                                        </ui:customData>
                                        <Label text="수량단위" />
                                        <ui:template>
                                            <Text text="{quantity_unit}" wrapping="false" />
                                        </ui:template>
                                    </ui:Column>

                                     <ui:Column width="5rem" sortProperty="exchange" filterProperty="exchange">
                                        <ui:customData>
                                        <core:CustomData key="p13nData"
                                            value='\{"columnKey": "exchange", "leadingProperty": "exchange", "sortProperty": "exchange", "filterProperty": "exchange", "columnIndex": 16}'/>
                                        </ui:customData>
                                        <Label text="거래소" />
                                        <ui:template>
                                            <Text text="{exchange}" wrapping="false" />
                                        </ui:template>
                                    </ui:Column>

                                     <ui:Column width="5rem" sortProperty="termsdelv" filterProperty="termsdelv">
                                        <ui:customData>
                                        <core:CustomData key="p13nData"
                                            value='\{"columnKey": "termsdelv", "leadingProperty": "termsdelv", "sortProperty": "termsdelv", "filterProperty": "termsdelv", "columnIndex": 17}'/>
                                        </ui:customData>
                                        <Label text="인도조건" />
                                        <ui:template>
                                            <Text text="{termsdelv}" wrapping="false" />
                                        </ui:template>
                                    </ui:Column>
 
                                     <ui:Column width="5rem" sortProperty="use_flag" filterProperty="use_flag">
                                        <ui:customData>
                                        <core:CustomData key="p13nData"
                                            value='\{"columnKey": "use_flag", "leadingProperty": "use_flag", "sortProperty": "use_flag", "filterProperty": "use_flag", "columnIndex": 18}'/>
                                        </ui:customData>
                                        <Label text="사용여부" />
                                        <ui:template>
                                            <Text text="{use_flag}" wrapping="false" />
                                        </ui:template>
                                    </ui:Column> 
									 </ui:columns> 
                                </ui:Table>
                </smartTable:SmartTable>
        </f:content>
        <!-- DynamicPage Footer -->
        
    </f:DynamicPage>
</mvc:View>