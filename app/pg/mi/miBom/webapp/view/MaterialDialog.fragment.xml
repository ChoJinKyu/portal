<core:FragmentDefinition
    class="sapUiSizeCompact"    
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:layout="sap.ui.layout"
    xmlns:table="sap.ui.table"
    xmlns:form="sap.ui.layout.form"
	width 			= "50%"
	height			= "40%"
    showHeader="false"    
    displayBlock="true">
	
	<Dialog id="materialDialog" title="{I18N>/MIMATERIAM_BOM_SEARCH_TITLE}" contentWidth="50%">
        <subHeader >
			<Toolbar>   
                <Panel class="sapUiTinyMarginTop">                             
                <FlexBox alignItems="Center" justifyContent="End">
                <Label  text="{I18N>/OLD_SUPPLIER} :" 
                        width="100px" 
                        class="sapUiTinyMarginBegin"/>
                <ComboBox   enabled="false"   
                            class="sapUiTinyMarginBegin sapUiSmallMarginEnd"
                            placeholder="{I18N>/OPTION}">
                            <core:Item key="{vendor_pool_code}" text="{vendor_pool_local_name}"/>
                </ComboBox>
                <Label  text="{I18N>/MATERIAL} :" 
                        width="45px"
                        class="sapUiTinyMarginBegin"
                        visible="{= ${_oUiData>/radioButtonGroup} === 0 }"
                />
                <ComboBox  
                    id="comboBox_materialView"
                    class="sapUiTinyMarginBegin"                            
                    items="{path: '/MaterialView', 
                            filters : [
                                {path : 'tenant_id', operator : 'EQ', value1 : 'L2100'}
                            ],                            
                            templateShareable:true}"                     
                    visible="{= ${_oUiData>/radioButtonGroup} === 0 }"                            
                    placeholder="{I18N>/OPTION}">
                    <core:Item key="{material_code}" text="{material_code}"/>
                </ComboBox>                
                <Label text="{I18N>/SUPPLIER} :"
                       class="sapUiTinyMarginBegin"
                       visible="{= ${_oUiData>/radioButtonGroup} === 1 }"
                />
                <ComboBox  
                    id="comboBox_supplierView"
                    class="sapUiTinyMarginBegin"
                    visible="{= ${_oUiData>/radioButtonGroup} === 1 }"
                    items="{path: '/SupplierView', 
                            filters : [
                                {path : 'tenant_id', operator : 'EQ', value1 : 'L2100'}
                            ],                             
                            templateShareable:true}"                     
                    placeholder="{I18N>/OPTION}">
                    <core:Item key="{supplier_code}" text="{supplier_code}"/>
                </ComboBox>           

                <Label  text="{I18N>/MATERIAL_NAME} :"
                        class="sapUiSmallMarginBegin"
                        visible="{= ${_oUiData>/radioButtonGroup} === 0}"
                />                  
                <Input  id="input_material_desc" 
                        width="200px"
                        class="sapUiSmallMarginBegin"
                        visible="{= ${_oUiData>/radioButtonGroup} === 0}" 
                />  
                <Label  text="{I18N>/SUPPLIER_NAME}"
                        class="sapUiSmallMarginBegin" 
                        visible="{= ${_oUiData>/radioButtonGroup} === 1}" />
                <Input  id="input_supplier_local_name"
                        width="200px"
                        visible="{= ${_oUiData>/radioButtonGroup} === 1}"
                        class="sapUiSmallMarginBegin" 
                />       
                <Button type="Transparent" class="sapUiTinyMarginBegin" text="{I18N>/SEARCH}" press=".onValueHelpMaterialDialogSearch"/>                            
             </FlexBox>
            </Panel>
			</Toolbar>
        </subHeader>
		<content>
            <VBox>
            <Table  id="materialTable"
                    items="{materialTable>/}"                    
                    mode="SingleSelectLeft"
                    updateFinished="onDtlUpdateFinished" 
                    noDataText="{I18N>/NCM0001}"
                    growingScrollToLoad="true"
                    growing="true"
                    sticky="ColumnHeaders,HeaderToolbar"
                    growingThreshold="50"
                    inset="false"
            >
            <layoutData>
            </layoutData>
                <columns>
                    <Column hAlign="Center" >
                        <header>
                            <Label text="{I18N>/PRICE_INFORMATION_TYPE}"/>
                        </header>
                    </Column>
                    <Column hAlign="Center" >
                        <header>
                            <Label text="{I18N>/OLD_SUPPLIER}"/>                            
                        </header>
                    </Column>
                    <Column hAlign="Center" >
                        <header>
                            <Label text="{I18N>/MATERIAL}"/>                            
                        </header>
                    </Column>
                    <Column hAlign="Center" >
                        <header>
                            <Label text="{I18N>/MATERIAL_NAME}"/>                            
                        </header>
                    </Column>
                    <Column hAlign="Center" >
                        <header>
                            <Label text="{I18N>/SUPPLIER}"/>
                        </header>
                    </Column>    
                    <Column hAlign="Center" >
                        <header>
                            <Label text="{I18N>/SUPPLIER_NAME}"/>                            
                        </header>
                    </Column>                                                                                                 
                </columns>
                <items>
                    <ColumnListItem type="Active" id="materialColumnListItem" press="onMaterialTableItemPress">
                        <cells>
                            <Text text=" "/>
                            <Text text=" "/>
                            <Text text="{materialTable>material_code}"/>
                            <Text text="{materialTable>material_desc}"/>
                            <Text text="{materialTable>supplier_code}"/>
                            <Text text="{materialTable>supplier_local_name}"/>
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </VBox>
		</content>
			<beginButton>
				<Button type="Transparent" text="{I18N>/CANCEL}" press="onMaterialDialog_close" />
            </beginButton> 
            <endButton>
                <Button type="Emphasized"  text="{I18N>/APPLY}" press=".onValueHelpMaterialDialogApply"/>                
            </endButton>
	</Dialog>

</core:FragmentDefinition>