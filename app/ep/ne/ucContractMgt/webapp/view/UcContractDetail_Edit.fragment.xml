<core:FragmentDefinition
	xmlns="sap.m"
	xmlns:l="sap.ui.layout"
    xmlns:form="sap.ui.layout.form"
    xmlns:layout="sap.ui.layout" displayBlock="true"
    xmlns:richtexteditor="sap.ui.richtexteditor"
	xmlns:core="sap.ui.core">

    <VBox id="editBox">

        <form:SimpleForm id="form1Edit" editable="true"> 
            <VBox alignContent="Center" alignItems="Stretch"> 
                <Label text="* 계약명" required="true" design="Bold" class="sapMLabelNoText"/>
                <Input value="{
                    path: 'viewModel>/mst/net_price_contract_title',
                    type: 'sap.ui.model.type.String',
                    constraints: {
                        maxLength: 50
                    }
                }" required="true" width="100%"/>
            </VBox>
        </form:SimpleForm>

        <form:SimpleForm id="form2Edit" editable="true">
            
            <VBox alignContent="Center">
                <Label text="* 운영단위(플랜트)" required="true" design="Bold" class="sapMLabelNoText" />
                <Input id="savePlantName" value="{viewModel>/mst/org_name}" required="true" placeholder="플랜트" showValueHelp="true" valueHelpRequest=".openPlantPopup" width="100%" />
                <Input id="savePlantCode" value="{viewModel>/mst/org_code}" visible="false" />
                <layoutData>
                    <layout:GridData span="XL6 L6 M6 S12" />
                </layoutData>    
            </VBox>   

            <VBox alignContent="Center">
                <Label text="* 계약기간" design="Bold" required="true" class="sapMLabelNoText"/>
                <HBox>
                <DatePicker displayFormat="yyyy-MM-dd" valueFormat="yyyyMMdd" value="{viewModel>/mst/net_price_contract_start_date}" required="true" placeholder="Date" width="100%"/>
                <Text text="~" class="sapUiTinyMarginBegin sapUiTinyMarginEnd" />
                <DatePicker displayFormat="yyyy-MM-dd" valueFormat="yyyyMMdd" value="{viewModel>/mst/net_price_contract_end_date}" required="true" placeholder="Date" width="100%"/>
                </HBox>
                <layoutData>
                    <layout:GridData span="XL6 L6 M6 S12" />
                </layoutData>     
            </VBox>                  

            <VBox alignContent="Center">
                <Label text="* 대분류" design="Bold" required="true" class="sapMLabelNoText"/>
                <Select selectedKey="{viewModel>/mst/ep_item_class_code}"  width="100%" required="true"
                        items="{
                                path: '/UcItemClass',
                                filters: [
                                    {path: 'tenant_id', operator: 'EQ', value1: 'L2100'},
                                    {path: 'company_code', operator: 'EQ', value1: 'LGCKR'},
                                    {path: 'level_number', operator: 'EQ', value1: 1}
                                ],
                                sorter: { path: 'display_sequence'}
                            }">
                    <!-- <items>
                        <core:Item key="{mst>ep_item_class_code}" text="{mst>ep_item_class_code}: {mst>ep_item_class_code}" />
                    </items> -->
                    <core:Item key="{ep_item_class_code}:{ep_item_class_name}" text="{ep_item_class_name}" />
                </Select>            
                <layoutData>
                    <layout:GridData span="XL6 L6 M6 S12" />
                </layoutData>     
            </VBox> 

            <VBox alignContent="Center"> 
                <Label text="* 견적참조정보" design="Bold" class="sapMLabelNoText"/>
                <Input value="{
                    path: 'viewModel>/mst/quotation_reference_info',
                    type: 'sap.ui.model.type.String',
                    constraints: {
                        maxLength: 50
                    }
                }" width="100%"/>
                <layoutData>
                    <layout:GridData span="XL6 L6 M6 S12" />
                </layoutData>                   
            </VBox>            
        </form:SimpleForm>

        <form:SimpleForm id="form4Edit" editable="true"> 
            <VBox alignContent="Center" alignItems="Stretch"> 
                <Label  text="* 비고" 
                            design="Bold" 
                            class="sapUiSmallMarginBottom"/>
                <TextArea value="{viewModel>/mst/remark}" rows="4" width="100%" />            
            </VBox>
        </form:SimpleForm>

        <form:SimpleForm id="form5Edit" editable="true" visible="{= ${viewModel>/mst/net_price_contract_chg_type_cd} === 'D' ? true : false }"> 
            <VBox alignContent="Center" alignItems="Stretch"> 
                <Label  text="* 계약종료사유" 
                            design="Bold" 
                            class="sapUiSmallMarginBottom"/>
                <TextArea value="{viewModel>/mst/delete_reason}" rows="4" width="100%" /> 
            </VBox>
        </form:SimpleForm>        

    </VBox>

</core:FragmentDefinition>