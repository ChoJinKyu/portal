#sementic view에 대한 association 확장은 mixin을 사용하면 됩니다.
##Sementic View Association#https://cap.cloud.sap/docs/cds/cql#query-local-mixins

#HANA Native Object를 감싼 cds.entity는 entity 안에 association을 적용 후 projection으로 감싸면 projection의 HANA Native Viw Object에 cds.entity 적용한 association이 전파되고 이것과 다른 entity간에 association을 맺으면 됩니다.
##Native Object Association#https://cap.cloud.sap/docs/advanced/hana#associations-and-compositions

#대략 적으로 다음과 같습니다.
1. cds entity - association > cds view - association[use mixin] => Service
2. hana native object > cds entity[cds.persistent.exist] - association > cds projection[association 전파] > cds view association[use mixin] => Service
 


 curl 'https://lg-common-dev-workspaces-ws-szhkx-app2.jp10.applicationstudio.cloud.sap/srv-api/odata/v4/sp.sourcingV4Service/deepDeleteNegoHeader' \
  -H 'Connection: keep-alive' \
  -H 'sec-ch-ua: "Chromium";v="88", "Google Chrome";v="88", ";Not A Brand";v="99"' \
  -H 'Accept: */*' \
  -H 'X-Requested-With: XMLHttpRequest' \
  -H 'sec-ch-ua-mobile: ?0' \
  -H 'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.104 Safari/537.36' \
  -H 'Content-Type: application/json' \
  -H 'Origin: https://lg-common-dev-workspaces-ws-szhkx-app2.jp10.applicationstudio.cloud.sap' \
  -H 'Sec-Fetch-Site: same-origin' \
  -H 'Sec-Fetch-Mode: cors' \
  -H 'Sec-Fetch-Dest: empty' \
  -H 'Referer: https://lg-common-dev-workspaces-ws-szhkx-app2.jp10.applicationstudio.cloud.sap/launchpad.html' \
  -H 'Accept-Language: ko,en-US;q=0.9,en;q=0.8,ko-KR;q=0.7' \
  -H 'Cookie: workspaces-ws-hngmx_WSR_SESSIONID=9c43+cND/m8C2QtPSIpxz9TzWwIhV8/vytxobfX63hijSqJ7jtj0MBcIlF3zagCoAdG8LpFs6QUq5fDui71w3A==; workspaces-ws-6h78d_WSR_SESSIONID=SkGLQ8hNjrISgVcks9bJ+RjsTXElZfYAeGOyCDQ93EDpqxvwMjtxWBgUIdv7rpcYRTkOMyM70f4BXXJSSNTKtQ==; workspaces-ws-4zh5k_WSR_SESSIONID=WYhtWiuHBs+2CIMDNYw1m7uTX+3Fd63gNkZroE/tG5B7WuZCCYDcSvu1rWge0xSGdR6yg8knyiI55HLuDu5Hvw==; workspaces-ws-9crq5_WSR_SESSIONID=+DSld5AqFoHpNatdR2DrvqJWkYd/u1xqa21eOhl0VaJRT3/9L/OTF248i/Tie9iZYKojKcYstyw5C2uD60NMaQ==; workspaces-ws-x68wx_WSR_SESSIONID=38p6LvGCbyDNoeHFIGjts0sUqKckFzt4M+cdbO72OTQZ0L5Zupj5LZIMr0eB17S80jtjXG/j23IS2S6kibUOlw==; workspaces-ws-szhkx_WSR_SESSIONID=01S+hbNfPRDFyj3fbtBo71hLZSSB/2OklLDiLIpjaVCdNxBTWJ1JyuOxIyrcXF7fjGKSoAKBneeUWVx389hNjQ==; JSESSIONID=s%3AmIlScEy6LFHjCtAIKqvuzc_tuSSi40j7.JtX8XyUA9swhqXQIEMHwF5Cri047kBCce4ZNVWJWxJM' \
  --data-raw '{"negoheaders":[{"tenant_id":"L2100","nego_header_id":4}],"negoitemprices":[],"negosuppliers":[]}' \
  --compressed

 curl 'http://localhost:8080/srv-api/odata/v4/sp.sourcingV4Service/deepDeleteNegoHeader' \
  -H 'Connection: keep-alive' \
  -H 'sec-ch-ua: "Chromium";v="88", "Google Chrome";v="88", ";Not A Brand";v="99"' \
  -H 'Accept: */*' \
  -H 'X-Requested-With: XMLHttpRequest' \
  -H 'sec-ch-ua-mobile: ?0' \
  -H 'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.104 Safari/537.36' \
  -H 'Content-Type: application/json' \
  -H 'Origin: http://localhost' \
  -H 'Sec-Fetch-Site: same-origin' \
  -H 'Sec-Fetch-Mode: cors' \
  -H 'Sec-Fetch-Dest: empty' \
  -H 'Referer: http://localhost/launchpad.html' \
  -H 'Accept-Language: ko,en-US;q=0.9,en;q=0.8,ko-KR;q=0.7' \
  -H 'Cookie: workspaces-ws-hngmx_WSR_SESSIONID=9c43+cND/m8C2QtPSIpxz9TzWwIhV8/vytxobfX63hijSqJ7jtj0MBcIlF3zagCoAdG8LpFs6QUq5fDui71w3A==; workspaces-ws-6h78d_WSR_SESSIONID=SkGLQ8hNjrISgVcks9bJ+RjsTXElZfYAeGOyCDQ93EDpqxvwMjtxWBgUIdv7rpcYRTkOMyM70f4BXXJSSNTKtQ==; workspaces-ws-4zh5k_WSR_SESSIONID=WYhtWiuHBs+2CIMDNYw1m7uTX+3Fd63gNkZroE/tG5B7WuZCCYDcSvu1rWge0xSGdR6yg8knyiI55HLuDu5Hvw==; workspaces-ws-9crq5_WSR_SESSIONID=+DSld5AqFoHpNatdR2DrvqJWkYd/u1xqa21eOhl0VaJRT3/9L/OTF248i/Tie9iZYKojKcYstyw5C2uD60NMaQ==; workspaces-ws-x68wx_WSR_SESSIONID=38p6LvGCbyDNoeHFIGjts0sUqKckFzt4M+cdbO72OTQZ0L5Zupj5LZIMr0eB17S80jtjXG/j23IS2S6kibUOlw==; workspaces-ws-szhkx_WSR_SESSIONID=01S+hbNfPRDFyj3fbtBo71hLZSSB/2OklLDiLIpjaVCdNxBTWJ1JyuOxIyrcXF7fjGKSoAKBneeUWVx389hNjQ==; JSESSIONID=s%3AmIlScEy6LFHjCtAIKqvuzc_tuSSi40j7.JtX8XyUA9swhqXQIEMHwF5Cri047kBCce4ZNVWJWxJM' \
  --data-raw '{"negoheaders":[{"tenant_id":"L2100","nego_header_id":4}],"negoitemprices":[],"negosuppliers":[]}' \
  --compressed


  
 curl 'http://localhost:8080/odata/v4/sp.sourcingV4Service/deepDeleteNegoHeader' \
  -H 'Connection: keep-alive' \
  -H 'sec-ch-ua: "Chromium";v="88", "Google Chrome";v="88", ";Not A Brand";v="99"' \
  -H 'Accept: */*' \
  -H 'X-Requested-With: XMLHttpRequest' \
  -H 'sec-ch-ua-mobile: ?0' \
  -H 'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.104 Safari/537.36' \
  -H 'Content-Type: application/json' \
  -H 'Origin: http://localhost' \
  -H 'Sec-Fetch-Site: same-origin' \
  -H 'Sec-Fetch-Mode: cors' \
  -H 'Sec-Fetch-Dest: empty' \
  -H 'Referer: http://localhost/launchpad.html' \
  -H 'Accept-Language: ko,en-US;q=0.9,en;q=0.8,ko-KR;q=0.7' \
  -H 'Cookie: workspaces-ws-hngmx_WSR_SESSIONID=9c43+cND/m8C2QtPSIpxz9TzWwIhV8/vytxobfX63hijSqJ7jtj0MBcIlF3zagCoAdG8LpFs6QUq5fDui71w3A==; workspaces-ws-6h78d_WSR_SESSIONID=SkGLQ8hNjrISgVcks9bJ+RjsTXElZfYAeGOyCDQ93EDpqxvwMjtxWBgUIdv7rpcYRTkOMyM70f4BXXJSSNTKtQ==; workspaces-ws-4zh5k_WSR_SESSIONID=WYhtWiuHBs+2CIMDNYw1m7uTX+3Fd63gNkZroE/tG5B7WuZCCYDcSvu1rWge0xSGdR6yg8knyiI55HLuDu5Hvw==; workspaces-ws-9crq5_WSR_SESSIONID=+DSld5AqFoHpNatdR2DrvqJWkYd/u1xqa21eOhl0VaJRT3/9L/OTF248i/Tie9iZYKojKcYstyw5C2uD60NMaQ==; workspaces-ws-x68wx_WSR_SESSIONID=38p6LvGCbyDNoeHFIGjts0sUqKckFzt4M+cdbO72OTQZ0L5Zupj5LZIMr0eB17S80jtjXG/j23IS2S6kibUOlw==; workspaces-ws-szhkx_WSR_SESSIONID=01S+hbNfPRDFyj3fbtBo71hLZSSB/2OklLDiLIpjaVCdNxBTWJ1JyuOxIyrcXF7fjGKSoAKBneeUWVx389hNjQ==; JSESSIONID=s%3AmIlScEy6LFHjCtAIKqvuzc_tuSSi40j7.JtX8XyUA9swhqXQIEMHwF5Cri047kBCce4ZNVWJWxJM' \
  --data-raw '{"negoheaders":[{"tenant_id":"L2100","nego_header_id":4}],"negoitemprices":[],"negosuppliers":[]}' \
  --compressed


curl 'http://localhost:8080/odata/v4/sp.sourcingV4Service/deepDeleteNegoHeader' \
  -H 'Connection: keep-alive' \
  -H 'sec-ch-ua: "Chromium";v="88", "Google Chrome";v="88", ";Not A Brand";v="99"' \
  -H 'Accept: */*' \
  -H 'X-Requested-With: XMLHttpRequest' \
  -H 'sec-ch-ua-mobile: ?0' \
  -H 'Content-Type: application/json' \
  -H 'Origin: http://localhost' \
  -H 'Sec-Fetch-Site: same-origin' \
  -H 'Sec-Fetch-Mode: cors' \
  -H 'Sec-Fetch-Dest: empty' \
  -H 'Referer: http://localhost/launchpad.html' \
  -H 'Accept-Language: ko,en-US;q=0.9,en;q=0.8,ko-KR;q=0.7' \
  --data-raw '{"deepdeletenegoheader":{"negoheaders":[{"tenant_id":"L2100","nego_header_id":4}],"negoitemprices":[],"negosuppliers":[]}}' \


curl 'http://localhost:8080/odata/v4/sp.sourcingV4Service/deepDeleteNegoHeader' \
  -H 'Content-Type: application/json' \
  --data-raw '{"deepdeletenegoheader":{"negoheaders":[{"tenant_id":"L2100","nego_header_id":4}],"negoitemprices":[],"negosuppliers":[]}}' \



curl 'http://localhost:8080/odata/v4/sp.sourcingV4Service/deepUpsertNegoHeader' \
  -H 'Content-Type: application/json' \
  --data-raw '{"deepupsertnegoheader":{"negoheaders":[{"TENANT_ID":"L2100","NEGO_HEADER_ID":4,"REFERENCE_NEGO_HEADER_ID":null,"PREVIOUS_NEGO_HEADER_ID":null,"OPERATION_ORG_CODE":null,"OPERATION_UNIT_CODE":"2070","REFERENCE_NEGO_DOCUMENT_NUMBER":4,"NEGO_DOCUMENT_ROUND":1,"NEGO_DOCUMENT_NUMBER":"4-1","NEGO_DOCUMENT_TITLE":"원재료 Negotiation 2021-004","NEGO_DOCUMENT_DESC":"현재Sprint#1에서 간단히 테스트를 위한 정보를 입력하였습니다.","NEGO_PROGRESS_STATUS_CODE":"090","AWARD_PROGRESS_STATUS_CODE":"010","REPLY_TIMES":null,"SUPPLIER_COUNT":3,"NEGO_TYPE_CODE":"RFQ","OUTCOME_CODE":"TP","NEGOTIATION_OUTPUT_CLASS_CODE":"Tentative Price","BUYER_EMPNO":"8041","BUYER_DEPARTMENT_CODE":null,"IMMEDIATE_APPLY_FLAG":null,"OPEN_DATE":"2021-01-01 07:30:10","CLOSING_DATE":"2021-02-15 08:00:00","AUTO_RFQ":null,"ITEMS_COUNT":2,"NEGOTIATION_STYLE_CODE":"Blind","CLOSE_DATE_EXT_ENABLED_HOURS":6,"CLOSE_DATE_EXT_ENABLED_COUNT":3,"ACTUAL_EXTENSION_COUNT":1,"REMAINING_HOURS":null,"NOTE_CONTENT":{"type":"Buffer","data":[195,172,194,181,194,156,195,170,194,179,194,160,195,172,194,157,194,152,32,195,173,194,146,194,136,195,172,194,167,194,136,32,195,172,194,181,194,156,195,172,194,160,194,128,195,172,194,157,194,152,32,195,171,194,139,194,168,195,170,194,176,194,128]},"AWARD_TYPE_CODE":"010","AWARD_METHOD_CODE":"LPS","TARGET_AMOUNT_CONFIG_FLAG":null,"TARGET_CURRENCY":null,"TARGET_AMOUNT":null,"SUPPLIER_PARTICIPATION_FLAG":null,"PARTIAL_ALLOW_FLAG":"N","BIDDING_RESULT_OPEN_STATUS_CODE":null,"LOCAL_CREATE_DTM":"2021-01-11 19:29:17","LOCAL_UPDATE_DTM":"2021-01-13 16:36:57","CREATE_USER_ID":"anonymous","UPDATE_USER_ID":"anonymous","SYSTEM_CREATE_DTM":"2021-01-11 09:59:13","SYSTEM_UPDATE_DTM":"2021-01-13 07:36:57"}],"negoitemprices":[],"negosuppliers":[]}}' \


