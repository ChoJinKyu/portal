/*
  Object : SP_SE_EVAL_ITEM_ARTICLE_SEQ 
  Description : 평가항목 Seq
  평가항목 신규등록시 사용
  SELECT 'E' || to_varchar(current_date, 'yyyymmdd') || LPAD(SP_SE_EVAL_ITEM_ARTICLE_SEQ.NEXTVAL, 4, '0') FROM DUMMY;
  파일명: SP_SE_EVAL_ITEM_ARTICLE_SEQ.hdbsequence
*/

SEQUENCE SP_SE_EVAL_ITEM_ARTICLE_SEQ START WITH 1 MAXVALUE 9999 CYCLE
RESET BY SELECT IFNULL(MAX(SUBSTR(EVALUATION_ARTICLE_CODE, 10, 4)), 0)+1 AS MAX_SEQ
         FROM   SP_SE_EVAL_ITEM_MST
         WHERE  INSTR(EVALUATION_ARTICLE_CODE,to_varchar(current_date, 'yyyymmdd')) > 0
;