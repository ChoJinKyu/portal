## LGCNS HANA DB 배포
cds deploy --to hana:sppDb_hdi_dev --no-save

## 신규 품의 등록
curl -X POST http://localhost:8080/odata/v4/dp.BasePriceArlV4Service/DpViBasePriceArlProc \
-H "Content-Type: application/json" \
-d '{
    "inputData" : { 
        "cmd" : "insert",
        "basePriceArlMst" : [
            { 
                "approval_type_code": "VI10", "approve_status_code": "DR",
                "approval_title": "Approval Title", "approval_contents": "Approval Contents",
                "requestor_empno": "5459", "request_date": "20201210",
                "Approvers" : [
                    { "approve_sequence": "1", "approver_empno": "5460", "approver_type_code": "APP" },
                    { "approve_sequence": "2", "approver_empno": "5473", "approver_type_code": "AGR" }
                ],
                "Referers" : [
                    { "referer_empno": "5641" }, { "referer_empno": "5642" }, { "referer_empno": "5643" }
                ],
                "details": [
                    { 
                        "company_code": "LGCKR", "org_type_code": "PU", "org_code": "1000", "material_code": "1000211", "base_uom_code": "KG", "supplier_code": "KR00002600", "base_date": "2020-12-10", "base_price_ground_code": "10" 
                        , "repr_material_code": "", "repr_material_supplier_code": "", "repr_material_org_code": null
                        , "prices" : [
                            { "market_code": "1", "new_base_price": 120.04, "new_base_price_currency_code": "KRW" },
                            { "market_code": "2", "new_base_price": 91.01, "new_base_price_currency_code": "EUR" }
                        ]
                    }
                ]
            }
        ]
        , "debug" : false
    } 
}'

## 신규 품의 수정
curl -X POST http://localhost:8080/odata/v4/dp.BasePriceArlV4Service/DpViBasePriceArlProc \
-H "Content-Type: application/json" \
-d '{
    "inputData" : { 
        "cmd" : "upsert",
        "basePriceArlMst" : [
            { 
                "approval_number": "V202102060001", "approve_status_code": "DR",
                "approval_title": "Approval Title Update", "approval_contents": "Approval Contents",
                "request_date": "20201210",
                "Approvers" : [
                    { "approve_sequence": "1", "approver_empno": "5460", "approver_type_code": "APP" },
                    { "approve_sequence": "2", "approver_empno": "5473", "approver_type_code": "AGR" }
                ],
                "Referers" : [
                    { "referer_empno": "5641" }, { "referer_empno": "5642" }, { "referer_empno": "5643" }
                ],
                "details": [
                    { 
                        "company_code": "LGCKR", "org_type_code": "PU", "org_code": "1000", "material_code": "1000211", "base_uom_code": "KG", "supplier_code": "KR00002600", "base_date": "2020-12-10", "base_price_ground_code": "10" 
                        , "repr_material_code": "", "repr_material_supplier_code": "", "repr_material_org_code": null
                        , "prices" : [
                            { "market_code": "1", "new_base_price": 120.04, "new_base_price_currency_code": "KRW" },
                            { "market_code": "2", "new_base_price": 91.01, "new_base_price_currency_code": "EUR" }
                        ]
                    }
                ]
            }
        ]
        , "debug" : false
    } 
}'

## 신규 품의 삭제
curl -X POST http://localhost:8080/odata/v4/dp.BasePriceArlV4Service/DpViBasePriceArlProc \
-H "Content-Type: application/json" \
-d '{
    "inputData" : { 
        "cmd" : "delete",
        "basePriceArlMst" : [
            { 
                "approval_number": "V202102060001"
            }
        ]
        , "debug" : false
    } 
}'

## 변경 품의 등록
curl -X POST http://localhost:8080/odata/v4/dp.BasePriceArlV4Service/DpViBasePriceArlProc \
-H "Content-Type: application/json" \
-d '{
    "inputData" : { 
        "cmd" : "insert",
        "basePriceArlMst" : [
            { 
                "approval_type_code": "VI20", "approve_status_code": "DR",
                "approval_title": "Change Approval Title", "approval_contents": "Change Approval Contents",
                "requestor_empno": "5459", "request_date": "20201210",
                "Approvers" : [
                    { "approve_sequence": "1", "approver_empno": "5460", "approver_type_code": "APP" },
                    { "approve_sequence": "2", "approver_empno": "5473", "approver_type_code": "AGR" }
                ],
                "Referers" : [
                    { "referer_empno": "5641" }, { "referer_empno": "5642" }, { "referer_empno": "5643" }
                ],
                "details": [
                    { 
                        "company_code": "LGCKR", "org_type_code": "PU", "org_code": "1000", "material_code": "1000211", "base_uom_code": "KG", "supplier_code": "KR00002600", "base_date": "2020-12-10", "base_price_ground_code": "10", "change_reason_code" : "AI"
                        , "repr_material_code": null, "repr_material_supplier_code": "", "repr_material_org_code": null
                        , "prices" : [
                            { "market_code": "1", "new_base_price": 120.04, "new_base_price_currency_code": "KRW", "current_base_price" : 120.04, "current_base_price_currency_code": "KRW", 
                              "first_purchasing_net_price" : 120.04, "first_pur_netprice_curr_cd": "KRW", "first_pur_netprice_str_dt": "2020-12-10" },
                            { "market_code": "2", "new_base_price": 91.01, "new_base_price_currency_code": "EUR", "current_base_price" : 91.01, "current_base_price_currency_code": "EUR", 
                              "first_purchasing_net_price" : 91.01, "first_pur_netprice_curr_cd": "EUR", "first_pur_netprice_str_dt": "2020-12-10" }
                        ]
                    }
                ]
            }
        ]
        , "debug" : false
    } 
}'

## 변경 품의 수정
curl -X POST http://localhost:8080/odata/v4/dp.BasePriceArlV4Service/DpViBasePriceArlProc \
-H "Content-Type: application/json" \
-d '{
    "inputData" : { 
        "cmd" : "upsert",
        "basePriceArlMst" : [
            { 
                "approval_number": "V202102060001", "approve_status_code": "DR",
                "approval_title": "Change Approval Title Update", "approval_contents": "Change Approval Contents",
                "request_date": "20201210",
                "Approvers" : [
                    { "approve_sequence": "1", "approver_empno": "5460", "approver_type_code": "APP" },
                    { "approve_sequence": "2", "approver_empno": "5473", "approver_type_code": "AGR" }
                ],
                "Referers" : [
                    { "referer_empno": "5641" }, { "referer_empno": "5642" }, { "referer_empno": "5643" }
                ],
                "details": [
                    { 
                        "company_code": "LGCKR", "org_type_code": "PU", "org_code": "1000", "material_code": "1000211", "base_uom_code": "KG", "supplier_code": "KR00002600", "base_date": "2020-12-10", "base_price_ground_code": "10", "change_reason_code" : "AI" 
                        , "repr_material_code": null, "repr_material_supplier_code": "", "repr_material_org_code": null
                        , "prices" : [
                            { "market_code": "1", "new_base_price": 123.04, "new_base_price_currency_code": "KRW", "current_base_price" : 119.04, "current_base_price_currency_code": "KRW", 
                              "first_purchasing_net_price" : 120.04, "first_pur_netprice_curr_cd": "KRW", "first_pur_netprice_str_dt": "2020-12-10" },
                            { "market_code": "2", "new_base_price": 91.01, "new_base_price_currency_code": "EUR", "current_base_price" : 91.01, "current_base_price_currency_code": "EUR", 
                              "first_purchasing_net_price" : 92.01, "first_pur_netprice_curr_cd": "EUR", "first_pur_netprice_str_dt": "2020-12-13" }
                        ]
                    }
                ]
            }
        ]
        , "debug" : false
    } 
}'

## 변경 품의 삭제
curl -X POST http://localhost:8080/odata/v4/dp.BasePriceArlV4Service/DpViBasePriceArlProc \
-H "Content-Type: application/json" \
-d '{
    "inputData" : { 
        "cmd" : "delete",
        "basePriceArlMst" : [
            { 
                "approval_number": "V202102060001"
            }
        ]
        , "debug" : false
    } 
}'

## 담당자 변경
curl -X POST http://localhost:8080/odata/v4/dp.BasePriceArlV4Service/DpViBasePriceChangeRequestorProc \
-H "Content-Type: application/json" \
-d '{
    "inputData" : { 
        "cmd" : "upsert",
        "BasePriceArlChangeRequestor" : [
            { 
                "tenant_id": "L2100", "approval_number": "202101240001", "changer_empno": "5459", "creator_empno": "5473"
            }
        ]
        , "debug" : false
    } 
}'